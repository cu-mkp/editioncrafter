/*! For license information please see 492.b074c767.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_cu_mkp_editioncrafter=self.webpackChunk_cu_mkp_editioncrafter||[]).push([[492],{"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,{Z:()=>_arrayLikeToArray})},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}__webpack_require__.d(__webpack_exports__,{Z:()=>_assertThisInitialized})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_createClass});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_defineProperty});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperty(obj,key,value){return(key=(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},"./node_modules/@babel/runtime/helpers/esm/extends.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}__webpack_require__.d(__webpack_exports__,{Z:()=>_extends})},"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_inheritsLoose});var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,(0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__.Z)(subClass,superClass)}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_objectWithoutProperties});var _objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=(0,_objectWithoutPropertiesLoose_js__WEBPACK_IMPORTED_MODULE_0__.Z)(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}},"./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}__webpack_require__.d(__webpack_exports__,{Z:()=>_objectWithoutPropertiesLoose})},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}__webpack_require__.d(__webpack_exports__,{Z:()=>_setPrototypeOf})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_slicedToArray});var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||(0,unsupportedIterableToArray.Z)(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_toConsumableArray});var arrayLikeToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var unsupportedIterableToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return(0,arrayLikeToArray.Z)(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||(0,unsupportedIterableToArray.Z)(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_toPropertyKey});var esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!==(0,esm_typeof.Z)(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==(0,esm_typeof.Z)(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===(0,esm_typeof.Z)(key)?key:String(key)}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}__webpack_require__.d(__webpack_exports__,{Z:()=>_typeof})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>_unsupportedIterableToArray});var _arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,_arrayLikeToArray_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o,minLen):void 0}}},"./node_modules/@material-ui/core/esm/Fade/Fade.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/Transition.js"),_styles_transitions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/transitions.js"),_styles_useTheme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/useTheme.js"),_transitions_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/core/esm/transitions/utils.js"),_utils_useForkRef__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js"),styles={entering:{opacity:1},entered:{opacity:1}},defaultTimeout={enter:_styles_transitions__WEBPACK_IMPORTED_MODULE_1__.x9.enteringScreen,exit:_styles_transitions__WEBPACK_IMPORTED_MODULE_1__.x9.leavingScreen};const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Fade(props,ref){var children=props.children,_props$disableStrictM=props.disableStrictModeCompat,disableStrictModeCompat=void 0!==_props$disableStrictM&&_props$disableStrictM,inProp=props.in,onEnter=props.onEnter,onEntered=props.onEntered,onEntering=props.onEntering,onExit=props.onExit,onExited=props.onExited,onExiting=props.onExiting,style=props.style,_props$TransitionComp=props.TransitionComponent,TransitionComponent=void 0===_props$TransitionComp?react_transition_group__WEBPACK_IMPORTED_MODULE_2__.ZP:_props$TransitionComp,_props$timeout=props.timeout,timeout=void 0===_props$timeout?defaultTimeout:_props$timeout,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.Z)(props,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),theme=(0,_styles_useTheme__WEBPACK_IMPORTED_MODULE_4__.Z)(),enableStrictModeCompat=theme.unstable_strictMode&&!disableStrictModeCompat,nodeRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),foreignRef=(0,_utils_useForkRef__WEBPACK_IMPORTED_MODULE_5__.Z)(children.ref,ref),handleRef=(0,_utils_useForkRef__WEBPACK_IMPORTED_MODULE_5__.Z)(enableStrictModeCompat?nodeRef:void 0,foreignRef),normalizedTransitionCallback=function normalizedTransitionCallback(callback){return function(nodeOrAppearing,maybeAppearing){if(callback){var _ref=enableStrictModeCompat?[nodeRef.current,nodeOrAppearing]:[nodeOrAppearing,maybeAppearing],_ref2=(0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__.Z)(_ref,2),node=_ref2[0],isAppearing=_ref2[1];void 0===isAppearing?callback(node):callback(node,isAppearing)}}},handleEntering=normalizedTransitionCallback(onEntering),handleEnter=normalizedTransitionCallback((function(node,isAppearing){(0,_transitions_utils__WEBPACK_IMPORTED_MODULE_7__.n)(node);var transitionProps=(0,_transitions_utils__WEBPACK_IMPORTED_MODULE_7__.C)({style,timeout},{mode:"enter"});node.style.webkitTransition=theme.transitions.create("opacity",transitionProps),node.style.transition=theme.transitions.create("opacity",transitionProps),onEnter&&onEnter(node,isAppearing)})),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback((function(node){var transitionProps=(0,_transitions_utils__WEBPACK_IMPORTED_MODULE_7__.C)({style,timeout},{mode:"exit"});node.style.webkitTransition=theme.transitions.create("opacity",transitionProps),node.style.transition=theme.transitions.create("opacity",transitionProps),onExit&&onExit(node)})),handleExited=normalizedTransitionCallback(onExited);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(TransitionComponent,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__.Z)({appear:!0,in:inProp,nodeRef:enableStrictModeCompat?nodeRef:void 0,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,timeout},other),(function(state,childProps){return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__.Z)({style:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_8__.Z)({opacity:0,visibility:"exited"!==state||inProp?void 0:"hidden"},styles[state],style,children.props.style),ref:handleRef},childProps))}))}))},"./node_modules/@material-ui/core/esm/List/List.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),_ListContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/List/ListContext.js"),List=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function List(props,ref){var children=props.children,classes=props.classes,className=props.className,_props$component=props.component,Component=void 0===_props$component?"ul":_props$component,_props$dense=props.dense,dense=void 0!==_props$dense&&_props$dense,_props$disablePadding=props.disablePadding,disablePadding=void 0!==_props$disablePadding&&_props$disablePadding,subheader=props.subheader,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.Z)(props,["children","classes","className","component","dense","disablePadding","subheader"]),context=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return{dense}}),[dense]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ListContext__WEBPACK_IMPORTED_MODULE_2__.Z.Provider,{value:context},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_4__.Z)(classes.root,className,dense&&classes.dense,!disablePadding&&classes.padding,subheader&&classes.subheader),ref},other),subheader,children))}));const __WEBPACK_DEFAULT_EXPORT__=(0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(List)},"./node_modules/@material-ui/core/esm/List/ListContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext({})},"./node_modules/@material-ui/core/esm/ListItem/ListItem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ListItem_ListItem});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),withStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),useForkRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js"),useEventCallback=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useEventCallback.js"),hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout=null,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function handleKeyDown(event){event.metaKey||event.altKey||event.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){"hidden"===this.visibilityState&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function isFocusVisible(event){var target=event.target;try{return target.matches(":focus-visible")}catch(error){}return hadKeyboardEvent||function focusTriggersKeyboardModality(node){var type=node.type,tagName=node.tagName;return!("INPUT"!==tagName||!inputTypesWhitelist[type]||node.readOnly)||"TEXTAREA"===tagName&&!node.readOnly||!!node.isContentEditable}(target)}function handleBlurVisible(){hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout((function(){hadFocusVisibleRecently=!1}),100)}function useIsFocusVisible(){return{isFocusVisible,onBlurVisible:handleBlurVisible,ref:react.useCallback((function(instance){var node=react_dom.findDOMNode(instance);null!=node&&function prepare(doc){doc.addEventListener("keydown",handleKeyDown,!0),doc.addEventListener("mousedown",handlePointerDown,!0),doc.addEventListener("pointerdown",handlePointerDown,!0),doc.addEventListener("touchstart",handlePointerDown,!0),doc.addEventListener("visibilitychange",handleVisibilityChange,!0)}(node.ownerDocument)}),[])}}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),assertThisInitialized=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),inheritsLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),TransitionGroupContext=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroupContext.js");function getChildMapping(children,mapFn){var result=Object.create(null);return children&&react.Children.map(children,(function(c){return c})).forEach((function(child){result[child.key]=function mapper(child){return mapFn&&(0,react.isValidElement)(child)?mapFn(child):child}(child)})),result}function getProp(child,prop,props){return null!=props[prop]?props[prop]:child.props[prop]}function getNextChildMapping(nextProps,prevChildMapping,onExited){var nextChildMapping=getChildMapping(nextProps.children),children=function mergeChildMappings(prev,next){function getValueForKey(key){return key in next?next[key]:prev[key]}prev=prev||{},next=next||{};var i,nextKeysPending=Object.create(null),pendingKeys=[];for(var prevKey in prev)prevKey in next?pendingKeys.length&&(nextKeysPending[prevKey]=pendingKeys,pendingKeys=[]):pendingKeys.push(prevKey);var childMapping={};for(var nextKey in next){if(nextKeysPending[nextKey])for(i=0;i<nextKeysPending[nextKey].length;i++){var pendingNextKey=nextKeysPending[nextKey][i];childMapping[nextKeysPending[nextKey][i]]=getValueForKey(pendingNextKey)}childMapping[nextKey]=getValueForKey(nextKey)}for(i=0;i<pendingKeys.length;i++)childMapping[pendingKeys[i]]=getValueForKey(pendingKeys[i]);return childMapping}(prevChildMapping,nextChildMapping);return Object.keys(children).forEach((function(key){var child=children[key];if((0,react.isValidElement)(child)){var hasPrev=key in prevChildMapping,hasNext=key in nextChildMapping,prevChild=prevChildMapping[key],isLeaving=(0,react.isValidElement)(prevChild)&&!prevChild.props.in;!hasNext||hasPrev&&!isLeaving?hasNext||!hasPrev||isLeaving?hasNext&&hasPrev&&(0,react.isValidElement)(prevChild)&&(children[key]=(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:prevChild.props.in,exit:getProp(child,"exit",nextProps),enter:getProp(child,"enter",nextProps)})):children[key]=(0,react.cloneElement)(child,{in:!1}):children[key]=(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:!0,exit:getProp(child,"exit",nextProps),enter:getProp(child,"enter",nextProps)})}})),children}var values=Object.values||function(obj){return Object.keys(obj).map((function(k){return obj[k]}))},TransitionGroup=function(_React$Component){function TransitionGroup(props,context){var _this,handleExited=(_this=_React$Component.call(this,props,context)||this).handleExited.bind((0,assertThisInitialized.Z)(_this));return _this.state={contextValue:{isMounting:!0},handleExited,firstRender:!0},_this}(0,inheritsLoose.Z)(TransitionGroup,_React$Component);var _proto=TransitionGroup.prototype;return _proto.componentDidMount=function componentDidMount(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},_proto.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},TransitionGroup.getDerivedStateFromProps=function getDerivedStateFromProps(nextProps,_ref){var props,onExited,prevChildMapping=_ref.children,handleExited=_ref.handleExited;return{children:_ref.firstRender?(props=nextProps,onExited=handleExited,getChildMapping(props.children,(function(child){return(0,react.cloneElement)(child,{onExited:onExited.bind(null,child),in:!0,appear:getProp(child,"appear",props),enter:getProp(child,"enter",props),exit:getProp(child,"exit",props)})}))):getNextChildMapping(nextProps,prevChildMapping,handleExited),firstRender:!1}},_proto.handleExited=function handleExited(child,node){var currentChildMapping=getChildMapping(this.props.children);child.key in currentChildMapping||(child.props.onExited&&child.props.onExited(node),this.mounted&&this.setState((function(state){var children=(0,esm_extends.Z)({},state.children);return delete children[child.key],{children}})))},_proto.render=function render(){var _this$props=this.props,Component=_this$props.component,childFactory=_this$props.childFactory,props=(0,objectWithoutPropertiesLoose.Z)(_this$props,["component","childFactory"]),contextValue=this.state.contextValue,children=values(this.state.children).map(childFactory);return delete props.appear,delete props.enter,delete props.exit,null===Component?react.createElement(TransitionGroupContext.Z.Provider,{value:contextValue},children):react.createElement(TransitionGroupContext.Z.Provider,{value:contextValue},react.createElement(Component,props,children))},TransitionGroup}(react.Component);TransitionGroup.propTypes={},TransitionGroup.defaultProps={component:"div",childFactory:function childFactory(child){return child}};const esm_TransitionGroup=TransitionGroup;var useEnhancedEffect="undefined"==typeof window?react.useEffect:react.useLayoutEffect;const ButtonBase_Ripple=function Ripple(props){var classes=props.classes,_props$pulsate=props.pulsate,pulsate=void 0!==_props$pulsate&&_props$pulsate,rippleX=props.rippleX,rippleY=props.rippleY,rippleSize=props.rippleSize,inProp=props.in,_props$onExited=props.onExited,onExited=void 0===_props$onExited?function(){}:_props$onExited,timeout=props.timeout,_React$useState=react.useState(!1),leaving=_React$useState[0],setLeaving=_React$useState[1],rippleClassName=(0,clsx_m.Z)(classes.ripple,classes.rippleVisible,pulsate&&classes.ripplePulsate),rippleStyles={width:rippleSize,height:rippleSize,top:-rippleSize/2+rippleY,left:-rippleSize/2+rippleX},childClassName=(0,clsx_m.Z)(classes.child,leaving&&classes.childLeaving,pulsate&&classes.childPulsate),handleExited=(0,useEventCallback.Z)(onExited);return useEnhancedEffect((function(){if(!inProp){setLeaving(!0);var timeoutId=setTimeout(handleExited,timeout);return function(){clearTimeout(timeoutId)}}}),[handleExited,inProp,timeout]),react.createElement("span",{className:rippleClassName,style:rippleStyles},react.createElement("span",{className:childClassName}))};var TouchRipple=react.forwardRef((function TouchRipple(props,ref){var _props$center=props.center,centerProp=void 0!==_props$center&&_props$center,classes=props.classes,className=props.className,other=(0,objectWithoutProperties.Z)(props,["center","classes","className"]),_React$useState=react.useState([]),ripples=_React$useState[0],setRipples=_React$useState[1],nextKey=react.useRef(0),rippleCallback=react.useRef(null);react.useEffect((function(){rippleCallback.current&&(rippleCallback.current(),rippleCallback.current=null)}),[ripples]);var ignoringMouseDown=react.useRef(!1),startTimer=react.useRef(null),startTimerCommit=react.useRef(null),container=react.useRef(null);react.useEffect((function(){return function(){clearTimeout(startTimer.current)}}),[]);var startCommit=react.useCallback((function(params){var pulsate=params.pulsate,rippleX=params.rippleX,rippleY=params.rippleY,rippleSize=params.rippleSize,cb=params.cb;setRipples((function(oldRipples){return[].concat((0,toConsumableArray.Z)(oldRipples),[react.createElement(ButtonBase_Ripple,{key:nextKey.current,classes,timeout:550,pulsate,rippleX,rippleY,rippleSize})])})),nextKey.current+=1,rippleCallback.current=cb}),[classes]),start=react.useCallback((function(){var event=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cb=arguments.length>2?arguments[2]:void 0,_options$pulsate=options.pulsate,pulsate=void 0!==_options$pulsate&&_options$pulsate,_options$center=options.center,center=void 0===_options$center?centerProp||options.pulsate:_options$center,_options$fakeElement=options.fakeElement,fakeElement=void 0!==_options$fakeElement&&_options$fakeElement;if("mousedown"===event.type&&ignoringMouseDown.current)ignoringMouseDown.current=!1;else{"touchstart"===event.type&&(ignoringMouseDown.current=!0);var rippleX,rippleY,rippleSize,element=fakeElement?null:container.current,rect=element?element.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(center||0===event.clientX&&0===event.clientY||!event.clientX&&!event.touches)rippleX=Math.round(rect.width/2),rippleY=Math.round(rect.height/2);else{var _ref=event.touches?event.touches[0]:event,clientX=_ref.clientX,clientY=_ref.clientY;rippleX=Math.round(clientX-rect.left),rippleY=Math.round(clientY-rect.top)}if(center)(rippleSize=Math.sqrt((2*Math.pow(rect.width,2)+Math.pow(rect.height,2))/3))%2==0&&(rippleSize+=1);else{var sizeX=2*Math.max(Math.abs((element?element.clientWidth:0)-rippleX),rippleX)+2,sizeY=2*Math.max(Math.abs((element?element.clientHeight:0)-rippleY),rippleY)+2;rippleSize=Math.sqrt(Math.pow(sizeX,2)+Math.pow(sizeY,2))}event.touches?null===startTimerCommit.current&&(startTimerCommit.current=function(){startCommit({pulsate,rippleX,rippleY,rippleSize,cb})},startTimer.current=setTimeout((function(){startTimerCommit.current&&(startTimerCommit.current(),startTimerCommit.current=null)}),80)):startCommit({pulsate,rippleX,rippleY,rippleSize,cb})}}),[centerProp,startCommit]),pulsate=react.useCallback((function(){start({},{pulsate:!0})}),[start]),stop=react.useCallback((function(event,cb){if(clearTimeout(startTimer.current),"touchend"===event.type&&startTimerCommit.current)return event.persist(),startTimerCommit.current(),startTimerCommit.current=null,void(startTimer.current=setTimeout((function(){stop(event,cb)})));startTimerCommit.current=null,setRipples((function(oldRipples){return oldRipples.length>0?oldRipples.slice(1):oldRipples})),rippleCallback.current=cb}),[]);return react.useImperativeHandle(ref,(function(){return{pulsate,start,stop}}),[pulsate,start,stop]),react.createElement("span",(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,className),ref:container},other),react.createElement(esm_TransitionGroup,{component:null,exit:!0},ripples))}));const ButtonBase_TouchRipple=(0,withStyles.Z)((function styles(theme){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(theme.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(theme.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(theme.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(theme.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(react.memo(TouchRipple));var ButtonBase=react.forwardRef((function ButtonBase(props,ref){var action=props.action,buttonRefProp=props.buttonRef,_props$centerRipple=props.centerRipple,centerRipple=void 0!==_props$centerRipple&&_props$centerRipple,children=props.children,classes=props.classes,className=props.className,_props$component=props.component,component=void 0===_props$component?"button":_props$component,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,_props$disableRipple=props.disableRipple,disableRipple=void 0!==_props$disableRipple&&_props$disableRipple,_props$disableTouchRi=props.disableTouchRipple,disableTouchRipple=void 0!==_props$disableTouchRi&&_props$disableTouchRi,_props$focusRipple=props.focusRipple,focusRipple=void 0!==_props$focusRipple&&_props$focusRipple,focusVisibleClassName=props.focusVisibleClassName,onBlur=props.onBlur,onClick=props.onClick,onFocus=props.onFocus,onFocusVisible=props.onFocusVisible,onKeyDown=props.onKeyDown,onKeyUp=props.onKeyUp,onMouseDown=props.onMouseDown,onMouseLeave=props.onMouseLeave,onMouseUp=props.onMouseUp,onTouchEnd=props.onTouchEnd,onTouchMove=props.onTouchMove,onTouchStart=props.onTouchStart,onDragLeave=props.onDragLeave,_props$tabIndex=props.tabIndex,tabIndex=void 0===_props$tabIndex?0:_props$tabIndex,TouchRippleProps=props.TouchRippleProps,_props$type=props.type,type=void 0===_props$type?"button":_props$type,other=(0,objectWithoutProperties.Z)(props,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),buttonRef=react.useRef(null);var rippleRef=react.useRef(null),_React$useState=react.useState(!1),focusVisible=_React$useState[0],setFocusVisible=_React$useState[1];disabled&&focusVisible&&setFocusVisible(!1);var _useIsFocusVisible=useIsFocusVisible(),isFocusVisible=_useIsFocusVisible.isFocusVisible,onBlurVisible=_useIsFocusVisible.onBlurVisible,focusVisibleRef=_useIsFocusVisible.ref;function useRippleHandler(rippleAction,eventCallback){var skipRippleAction=arguments.length>2&&void 0!==arguments[2]?arguments[2]:disableTouchRipple;return(0,useEventCallback.Z)((function(event){return eventCallback&&eventCallback(event),!skipRippleAction&&rippleRef.current&&rippleRef.current[rippleAction](event),!0}))}react.useImperativeHandle(action,(function(){return{focusVisible:function focusVisible(){setFocusVisible(!0),buttonRef.current.focus()}}}),[]),react.useEffect((function(){focusVisible&&focusRipple&&!disableRipple&&rippleRef.current.pulsate()}),[disableRipple,focusRipple,focusVisible]);var handleMouseDown=useRippleHandler("start",onMouseDown),handleDragLeave=useRippleHandler("stop",onDragLeave),handleMouseUp=useRippleHandler("stop",onMouseUp),handleMouseLeave=useRippleHandler("stop",(function(event){focusVisible&&event.preventDefault(),onMouseLeave&&onMouseLeave(event)})),handleTouchStart=useRippleHandler("start",onTouchStart),handleTouchEnd=useRippleHandler("stop",onTouchEnd),handleTouchMove=useRippleHandler("stop",onTouchMove),handleBlur=useRippleHandler("stop",(function(event){focusVisible&&(onBlurVisible(event),setFocusVisible(!1)),onBlur&&onBlur(event)}),!1),handleFocus=(0,useEventCallback.Z)((function(event){buttonRef.current||(buttonRef.current=event.currentTarget),isFocusVisible(event)&&(setFocusVisible(!0),onFocusVisible&&onFocusVisible(event)),onFocus&&onFocus(event)})),isNonNativeButton=function isNonNativeButton(){var button=function getButtonNode(){return react_dom.findDOMNode(buttonRef.current)}();return component&&"button"!==component&&!("A"===button.tagName&&button.href)},keydownRef=react.useRef(!1),handleKeyDown=(0,useEventCallback.Z)((function(event){focusRipple&&!keydownRef.current&&focusVisible&&rippleRef.current&&" "===event.key&&(keydownRef.current=!0,event.persist(),rippleRef.current.stop(event,(function(){rippleRef.current.start(event)}))),event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&event.preventDefault(),onKeyDown&&onKeyDown(event),event.target===event.currentTarget&&isNonNativeButton()&&"Enter"===event.key&&!disabled&&(event.preventDefault(),onClick&&onClick(event))})),handleKeyUp=(0,useEventCallback.Z)((function(event){focusRipple&&" "===event.key&&rippleRef.current&&focusVisible&&!event.defaultPrevented&&(keydownRef.current=!1,event.persist(),rippleRef.current.stop(event,(function(){rippleRef.current.pulsate(event)}))),onKeyUp&&onKeyUp(event),onClick&&event.target===event.currentTarget&&isNonNativeButton()&&" "===event.key&&!event.defaultPrevented&&onClick(event)})),ComponentProp=component;"button"===ComponentProp&&other.href&&(ComponentProp="a");var buttonProps={};"button"===ComponentProp?(buttonProps.type=type,buttonProps.disabled=disabled):("a"===ComponentProp&&other.href||(buttonProps.role="button"),buttonProps["aria-disabled"]=disabled);var handleUserRef=(0,useForkRef.Z)(buttonRefProp,ref),handleOwnRef=(0,useForkRef.Z)(focusVisibleRef,buttonRef),handleRef=(0,useForkRef.Z)(handleUserRef,handleOwnRef),_React$useState2=react.useState(!1),mountedState=_React$useState2[0],setMountedState=_React$useState2[1];react.useEffect((function(){setMountedState(!0)}),[]);var enableTouchRipple=mountedState&&!disableRipple&&!disabled;return react.createElement(ComponentProp,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,className,focusVisible&&[classes.focusVisible,focusVisibleClassName],disabled&&classes.disabled),onBlur:handleBlur,onClick,onFocus:handleFocus,onKeyDown:handleKeyDown,onKeyUp:handleKeyUp,onMouseDown:handleMouseDown,onMouseLeave:handleMouseLeave,onMouseUp:handleMouseUp,onDragLeave:handleDragLeave,onTouchEnd:handleTouchEnd,onTouchMove:handleTouchMove,onTouchStart:handleTouchStart,ref:handleRef,tabIndex:disabled?-1:tabIndex},buttonProps,other),children,enableTouchRipple?react.createElement(ButtonBase_TouchRipple,(0,esm_extends.Z)({ref:rippleRef,center:centerRipple},TouchRippleProps)):null)}));const ButtonBase_ButtonBase=(0,withStyles.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(ButtonBase);var ListContext=__webpack_require__("./node_modules/@material-ui/core/esm/List/ListContext.js"),ListItem_useEnhancedEffect="undefined"==typeof window?react.useEffect:react.useLayoutEffect,ListItem=react.forwardRef((function ListItem(props,ref){var _props$alignItems=props.alignItems,alignItems=void 0===_props$alignItems?"center":_props$alignItems,_props$autoFocus=props.autoFocus,autoFocus=void 0!==_props$autoFocus&&_props$autoFocus,_props$button=props.button,button=void 0!==_props$button&&_props$button,childrenProp=props.children,classes=props.classes,className=props.className,componentProp=props.component,_props$ContainerCompo=props.ContainerComponent,ContainerComponent=void 0===_props$ContainerCompo?"li":_props$ContainerCompo,_props$ContainerProps=props.ContainerProps,ContainerClassName=(_props$ContainerProps=void 0===_props$ContainerProps?{}:_props$ContainerProps).className,ContainerProps=(0,objectWithoutProperties.Z)(_props$ContainerProps,["className"]),_props$dense=props.dense,dense=void 0!==_props$dense&&_props$dense,_props$disabled=props.disabled,disabled=void 0!==_props$disabled&&_props$disabled,_props$disableGutters=props.disableGutters,disableGutters=void 0!==_props$disableGutters&&_props$disableGutters,_props$divider=props.divider,divider=void 0!==_props$divider&&_props$divider,focusVisibleClassName=props.focusVisibleClassName,_props$selected=props.selected,selected=void 0!==_props$selected&&_props$selected,other=(0,objectWithoutProperties.Z)(props,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),context=react.useContext(ListContext.Z),childContext={dense:dense||context.dense||!1,alignItems},listItemRef=react.useRef(null);ListItem_useEnhancedEffect((function(){autoFocus&&listItemRef.current&&listItemRef.current.focus()}),[autoFocus]);var children=react.Children.toArray(childrenProp),hasSecondaryAction=children.length&&function isMuiElement(element,muiNames){return react.isValidElement(element)&&-1!==muiNames.indexOf(element.type.muiName)}(children[children.length-1],["ListItemSecondaryAction"]),handleOwnRef=react.useCallback((function(instance){listItemRef.current=react_dom.findDOMNode(instance)}),[]),handleRef=(0,useForkRef.Z)(handleOwnRef,ref),componentProps=(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,className,childContext.dense&&classes.dense,!disableGutters&&classes.gutters,divider&&classes.divider,disabled&&classes.disabled,button&&classes.button,"center"!==alignItems&&classes.alignItemsFlexStart,hasSecondaryAction&&classes.secondaryAction,selected&&classes.selected),disabled},other),Component=componentProp||"li";return button&&(componentProps.component=componentProp||"div",componentProps.focusVisibleClassName=(0,clsx_m.Z)(classes.focusVisible,focusVisibleClassName),Component=ButtonBase_ButtonBase),hasSecondaryAction?(Component=componentProps.component||componentProp?Component:"div","li"===ContainerComponent&&("li"===Component?Component="div":"li"===componentProps.component&&(componentProps.component="div")),react.createElement(ListContext.Z.Provider,{value:childContext},react.createElement(ContainerComponent,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.container,ContainerClassName),ref:handleRef},ContainerProps),react.createElement(Component,componentProps,children),children.pop()))):react.createElement(ListContext.Z.Provider,{value:childContext},react.createElement(Component,(0,esm_extends.Z)({ref:handleRef},componentProps),children))}));const ListItem_ListItem=(0,withStyles.Z)((function styles(theme){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:theme.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:theme.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(theme.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:theme.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(ListItem)},"./node_modules/@material-ui/core/esm/ListItemText/ListItemText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),_Typography__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/Typography/Typography.js"),_List_ListContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/List/ListContext.js"),ListItemText=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function ListItemText(props,ref){var children=props.children,classes=props.classes,className=props.className,_props$disableTypogra=props.disableTypography,disableTypography=void 0!==_props$disableTypogra&&_props$disableTypogra,_props$inset=props.inset,inset=void 0!==_props$inset&&_props$inset,primaryProp=props.primary,primaryTypographyProps=props.primaryTypographyProps,secondaryProp=props.secondary,secondaryTypographyProps=props.secondaryTypographyProps,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.Z)(props,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),dense=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_List_ListContext__WEBPACK_IMPORTED_MODULE_2__.Z).dense,primary=null!=primaryProp?primaryProp:children;null==primary||primary.type===_Typography__WEBPACK_IMPORTED_MODULE_3__.Z||disableTypography||(primary=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_3__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({variant:dense?"body2":"body1",className:classes.primary,component:"span",display:"block"},primaryTypographyProps),primary));var secondary=secondaryProp;return null==secondary||secondary.type===_Typography__WEBPACK_IMPORTED_MODULE_3__.Z||disableTypography||(secondary=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Typography__WEBPACK_IMPORTED_MODULE_3__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({variant:"body2",className:classes.secondary,color:"textSecondary",display:"block"},secondaryTypographyProps),secondary)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.Z)(classes.root,className,dense&&classes.dense,inset&&classes.inset,primary&&secondary&&classes.multiline),ref},other),primary,secondary)}));const __WEBPACK_DEFAULT_EXPORT__=(0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(ListItemText)},"./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),_ListItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/ListItem/ListItem.js"),MenuItem=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function MenuItem(props,ref){var tabIndex,classes=props.classes,className=props.className,_props$component=props.component,component=void 0===_props$component?"li":_props$component,_props$disableGutters=props.disableGutters,disableGutters=void 0!==_props$disableGutters&&_props$disableGutters,ListItemClasses=props.ListItemClasses,_props$role=props.role,role=void 0===_props$role?"menuitem":_props$role,selected=props.selected,tabIndexProp=props.tabIndex,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__.Z)(props,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return props.disabled||(tabIndex=void 0!==tabIndexProp?tabIndexProp:-1),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ListItem__WEBPACK_IMPORTED_MODULE_4__.Z,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({button:!0,role,tabIndex,component,selected,disableGutters,classes:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({dense:classes.dense},ListItemClasses),className:(0,clsx__WEBPACK_IMPORTED_MODULE_5__.Z)(classes.root,className,selected&&classes.selected,!disableGutters&&classes.gutters),ref},other))}));const __WEBPACK_DEFAULT_EXPORT__=(0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_6__.Z)((function styles(theme){return{root:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({},theme.typography.body1,(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},theme.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({},theme.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(MenuItem)},"./node_modules/@material-ui/core/esm/Paper/Paper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_styles_withStyles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),Paper=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Paper(props,ref){var classes=props.classes,className=props.className,_props$component=props.component,Component=void 0===_props$component?"div":_props$component,_props$square=props.square,square=void 0!==_props$square&&_props$square,_props$elevation=props.elevation,elevation=void 0===_props$elevation?1:_props$elevation,_props$variant=props.variant,variant=void 0===_props$variant?"elevation":_props$variant,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__.Z)(props,["classes","className","component","square","elevation","variant"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)(classes.root,className,"outlined"===variant?classes.outlined:classes["elevation".concat(elevation)],!square&&classes.rounded),ref},other))}));const __WEBPACK_DEFAULT_EXPORT__=(0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_4__.Z)((function styles(theme){var elevations={};return theme.shadows.forEach((function(shadow,index){elevations["elevation".concat(index)]={boxShadow:shadow}})),(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({root:{backgroundColor:theme.palette.background.paper,color:theme.palette.text.primary,transition:theme.transitions.create("box-shadow")},rounded:{borderRadius:theme.shape.borderRadius},outlined:{border:"1px solid ".concat(theme.palette.divider)}},elevations)}),{name:"MuiPaper"})(Paper)},"./node_modules/@material-ui/core/esm/Popover/Popover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>Popover_Popover});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),debounce=__webpack_require__("./node_modules/@material-ui/core/esm/utils/debounce.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),ownerDocument=__webpack_require__("./node_modules/@material-ui/core/esm/utils/ownerDocument.js");function ownerWindow(node){return(0,ownerDocument.Z)(node).defaultView||window}var createChainedFunction=__webpack_require__("./node_modules/@material-ui/core/esm/utils/createChainedFunction.js"),withStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),useTheme=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),getThemeProps=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js"),Portal=__webpack_require__("./node_modules/@material-ui/core/esm/Portal/Portal.js"),useForkRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js"),useEventCallback=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useEventCallback.js"),zIndex=__webpack_require__("./node_modules/@material-ui/core/esm/styles/zIndex.js");var createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),getScrollbarSize=__webpack_require__("./node_modules/@material-ui/core/esm/utils/getScrollbarSize.js");function ariaHidden(node,show){show?node.setAttribute("aria-hidden","true"):node.removeAttribute("aria-hidden")}function getPaddingRight(node){return parseInt(window.getComputedStyle(node)["padding-right"],10)||0}function ariaHiddenSiblings(container,mountNode,currentNode){var nodesToExclude=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],show=arguments.length>4?arguments[4]:void 0,blacklist=[mountNode,currentNode].concat((0,toConsumableArray.Z)(nodesToExclude)),blacklistTagNames=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(container.children,(function(node){1===node.nodeType&&-1===blacklist.indexOf(node)&&-1===blacklistTagNames.indexOf(node.tagName)&&ariaHidden(node,show)}))}function findIndexOf(containerInfo,callback){var idx=-1;return containerInfo.some((function(item,index){return!!callback(item)&&(idx=index,!0)})),idx}function handleContainer(containerInfo,props){var fixedNodes,restoreStyle=[],restorePaddings=[],container=containerInfo.container;if(!props.disableScrollLock){if(function isOverflowing(container){var doc=(0,ownerDocument.Z)(container);return doc.body===container?ownerWindow(doc).innerWidth>doc.documentElement.clientWidth:container.scrollHeight>container.clientHeight}(container)){var scrollbarSize=(0,getScrollbarSize.Z)();restoreStyle.push({value:container.style.paddingRight,key:"padding-right",el:container}),container.style["padding-right"]="".concat(getPaddingRight(container)+scrollbarSize,"px"),fixedNodes=(0,ownerDocument.Z)(container).querySelectorAll(".mui-fixed"),[].forEach.call(fixedNodes,(function(node){restorePaddings.push(node.style.paddingRight),node.style.paddingRight="".concat(getPaddingRight(node)+scrollbarSize,"px")}))}var parent=container.parentElement,scrollContainer="HTML"===parent.nodeName&&"scroll"===window.getComputedStyle(parent)["overflow-y"]?parent:container;restoreStyle.push({value:scrollContainer.style.overflow,key:"overflow",el:scrollContainer}),scrollContainer.style.overflow="hidden"}return function restore(){fixedNodes&&[].forEach.call(fixedNodes,(function(node,i){restorePaddings[i]?node.style.paddingRight=restorePaddings[i]:node.style.removeProperty("padding-right")})),restoreStyle.forEach((function(_ref){var value=_ref.value,el=_ref.el,key=_ref.key;value?el.style.setProperty(key,value):el.style.removeProperty(key)}))}}var ModalManager=function(){function ModalManager(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ModalManager),this.modals=[],this.containers=[]}return(0,createClass.Z)(ModalManager,[{key:"add",value:function add(modal,container){var modalIndex=this.modals.indexOf(modal);if(-1!==modalIndex)return modalIndex;modalIndex=this.modals.length,this.modals.push(modal),modal.modalRef&&ariaHidden(modal.modalRef,!1);var hiddenSiblingNodes=function getHiddenSiblings(container){var hiddenSiblings=[];return[].forEach.call(container.children,(function(node){node.getAttribute&&"true"===node.getAttribute("aria-hidden")&&hiddenSiblings.push(node)})),hiddenSiblings}(container);ariaHiddenSiblings(container,modal.mountNode,modal.modalRef,hiddenSiblingNodes,!0);var containerIndex=findIndexOf(this.containers,(function(item){return item.container===container}));return-1!==containerIndex?(this.containers[containerIndex].modals.push(modal),modalIndex):(this.containers.push({modals:[modal],container,restore:null,hiddenSiblingNodes}),modalIndex)}},{key:"mount",value:function mount(modal,props){var containerIndex=findIndexOf(this.containers,(function(item){return-1!==item.modals.indexOf(modal)})),containerInfo=this.containers[containerIndex];containerInfo.restore||(containerInfo.restore=handleContainer(containerInfo,props))}},{key:"remove",value:function remove(modal){var modalIndex=this.modals.indexOf(modal);if(-1===modalIndex)return modalIndex;var containerIndex=findIndexOf(this.containers,(function(item){return-1!==item.modals.indexOf(modal)})),containerInfo=this.containers[containerIndex];if(containerInfo.modals.splice(containerInfo.modals.indexOf(modal),1),this.modals.splice(modalIndex,1),0===containerInfo.modals.length)containerInfo.restore&&containerInfo.restore(),modal.modalRef&&ariaHidden(modal.modalRef,!0),ariaHiddenSiblings(containerInfo.container,modal.mountNode,modal.modalRef,containerInfo.hiddenSiblingNodes,!1),this.containers.splice(containerIndex,1);else{var nextTop=containerInfo.modals[containerInfo.modals.length-1];nextTop.modalRef&&ariaHidden(nextTop.modalRef,!1)}return modalIndex}},{key:"isTopModal",value:function isTopModal(modal){return this.modals.length>0&&this.modals[this.modals.length-1]===modal}}]),ModalManager}();const Unstable_TrapFocus_Unstable_TrapFocus=function Unstable_TrapFocus(props){var children=props.children,_props$disableAutoFoc=props.disableAutoFocus,disableAutoFocus=void 0!==_props$disableAutoFoc&&_props$disableAutoFoc,_props$disableEnforce=props.disableEnforceFocus,disableEnforceFocus=void 0!==_props$disableEnforce&&_props$disableEnforce,_props$disableRestore=props.disableRestoreFocus,disableRestoreFocus=void 0!==_props$disableRestore&&_props$disableRestore,getDoc=props.getDoc,isEnabled=props.isEnabled,open=props.open,ignoreNextEnforceFocus=react.useRef(),sentinelStart=react.useRef(null),sentinelEnd=react.useRef(null),nodeToRestore=react.useRef(),rootRef=react.useRef(null),handleOwnRef=react.useCallback((function(instance){rootRef.current=react_dom.findDOMNode(instance)}),[]),handleRef=(0,useForkRef.Z)(children.ref,handleOwnRef),prevOpenRef=react.useRef();return react.useEffect((function(){prevOpenRef.current=open}),[open]),!prevOpenRef.current&&open&&"undefined"!=typeof window&&(nodeToRestore.current=getDoc().activeElement),react.useEffect((function(){if(open){var doc=(0,ownerDocument.Z)(rootRef.current);disableAutoFocus||!rootRef.current||rootRef.current.contains(doc.activeElement)||(rootRef.current.hasAttribute("tabIndex")||rootRef.current.setAttribute("tabIndex",-1),rootRef.current.focus());var contain=function contain(){null!==rootRef.current&&(doc.hasFocus()&&!disableEnforceFocus&&isEnabled()&&!ignoreNextEnforceFocus.current?rootRef.current&&!rootRef.current.contains(doc.activeElement)&&rootRef.current.focus():ignoreNextEnforceFocus.current=!1)},loopFocus=function loopFocus(event){!disableEnforceFocus&&isEnabled()&&9===event.keyCode&&doc.activeElement===rootRef.current&&(ignoreNextEnforceFocus.current=!0,event.shiftKey?sentinelEnd.current.focus():sentinelStart.current.focus())};doc.addEventListener("focus",contain,!0),doc.addEventListener("keydown",loopFocus,!0);var interval=setInterval((function(){contain()}),50);return function(){clearInterval(interval),doc.removeEventListener("focus",contain,!0),doc.removeEventListener("keydown",loopFocus,!0),disableRestoreFocus||(nodeToRestore.current&&nodeToRestore.current.focus&&nodeToRestore.current.focus(),nodeToRestore.current=null)}}}),[disableAutoFocus,disableEnforceFocus,disableRestoreFocus,isEnabled,open]),react.createElement(react.Fragment,null,react.createElement("div",{tabIndex:0,ref:sentinelStart,"data-test":"sentinelStart"}),react.cloneElement(children,{ref:handleRef}),react.createElement("div",{tabIndex:0,ref:sentinelEnd,"data-test":"sentinelEnd"}))};var styles={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const Modal_SimpleBackdrop=react.forwardRef((function SimpleBackdrop(props,ref){var _props$invisible=props.invisible,invisible=void 0!==_props$invisible&&_props$invisible,open=props.open,other=(0,objectWithoutProperties.Z)(props,["invisible","open"]);return open?react.createElement("div",(0,esm_extends.Z)({"aria-hidden":!0,ref},other,{style:(0,esm_extends.Z)({},styles.root,invisible?styles.invisible:{},other.style)})):null}));var defaultManager=new ModalManager;const Modal_Modal=react.forwardRef((function Modal(inProps,ref){var theme=(0,useTheme.Z)(),props=(0,getThemeProps.Z)({name:"MuiModal",props:(0,esm_extends.Z)({},inProps),theme}),_props$BackdropCompon=props.BackdropComponent,BackdropComponent=void 0===_props$BackdropCompon?Modal_SimpleBackdrop:_props$BackdropCompon,BackdropProps=props.BackdropProps,children=props.children,_props$closeAfterTran=props.closeAfterTransition,closeAfterTransition=void 0!==_props$closeAfterTran&&_props$closeAfterTran,container=props.container,_props$disableAutoFoc=props.disableAutoFocus,disableAutoFocus=void 0!==_props$disableAutoFoc&&_props$disableAutoFoc,_props$disableBackdro=props.disableBackdropClick,disableBackdropClick=void 0!==_props$disableBackdro&&_props$disableBackdro,_props$disableEnforce=props.disableEnforceFocus,disableEnforceFocus=void 0!==_props$disableEnforce&&_props$disableEnforce,_props$disableEscapeK=props.disableEscapeKeyDown,disableEscapeKeyDown=void 0!==_props$disableEscapeK&&_props$disableEscapeK,_props$disablePortal=props.disablePortal,disablePortal=void 0!==_props$disablePortal&&_props$disablePortal,_props$disableRestore=props.disableRestoreFocus,disableRestoreFocus=void 0!==_props$disableRestore&&_props$disableRestore,_props$disableScrollL=props.disableScrollLock,disableScrollLock=void 0!==_props$disableScrollL&&_props$disableScrollL,_props$hideBackdrop=props.hideBackdrop,hideBackdrop=void 0!==_props$hideBackdrop&&_props$hideBackdrop,_props$keepMounted=props.keepMounted,keepMounted=void 0!==_props$keepMounted&&_props$keepMounted,_props$manager=props.manager,manager=void 0===_props$manager?defaultManager:_props$manager,onBackdropClick=props.onBackdropClick,onClose=props.onClose,onEscapeKeyDown=props.onEscapeKeyDown,onRendered=props.onRendered,open=props.open,other=(0,objectWithoutProperties.Z)(props,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),_React$useState=react.useState(!0),exited=_React$useState[0],setExited=_React$useState[1],modal=react.useRef({}),mountNodeRef=react.useRef(null),modalRef=react.useRef(null),handleRef=(0,useForkRef.Z)(modalRef,ref),hasTransition=function getHasTransition(props){return!!props.children&&props.children.props.hasOwnProperty("in")}(props),getDoc=function getDoc(){return(0,ownerDocument.Z)(mountNodeRef.current)},getModal=function getModal(){return modal.current.modalRef=modalRef.current,modal.current.mountNode=mountNodeRef.current,modal.current},handleMounted=function handleMounted(){manager.mount(getModal(),{disableScrollLock}),modalRef.current.scrollTop=0},handleOpen=(0,useEventCallback.Z)((function(){var resolvedContainer=function getContainer(container){return container="function"==typeof container?container():container,react_dom.findDOMNode(container)}(container)||getDoc().body;manager.add(getModal(),resolvedContainer),modalRef.current&&handleMounted()})),isTopModal=react.useCallback((function(){return manager.isTopModal(getModal())}),[manager]),handlePortalRef=(0,useEventCallback.Z)((function(node){mountNodeRef.current=node,node&&(onRendered&&onRendered(),open&&isTopModal()?handleMounted():ariaHidden(modalRef.current,!0))})),handleClose=react.useCallback((function(){manager.remove(getModal())}),[manager]);if(react.useEffect((function(){return function(){handleClose()}}),[handleClose]),react.useEffect((function(){open?handleOpen():hasTransition&&closeAfterTransition||handleClose()}),[open,handleClose,hasTransition,closeAfterTransition,handleOpen]),!keepMounted&&!open&&(!hasTransition||exited))return null;var inlineStyle=function styles(theme){return{root:{position:"fixed",zIndex:theme.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(theme||{zIndex:zIndex.Z}),childProps={};return void 0===children.props.tabIndex&&(childProps.tabIndex=children.props.tabIndex||"-1"),hasTransition&&(childProps.onEnter=(0,createChainedFunction.Z)((function handleEnter(){setExited(!1)}),children.props.onEnter),childProps.onExited=(0,createChainedFunction.Z)((function handleExited(){setExited(!0),closeAfterTransition&&handleClose()}),children.props.onExited)),react.createElement(Portal.Z,{ref:handlePortalRef,container,disablePortal},react.createElement("div",(0,esm_extends.Z)({ref:handleRef,onKeyDown:function handleKeyDown(event){"Escape"===event.key&&isTopModal()&&(onEscapeKeyDown&&onEscapeKeyDown(event),disableEscapeKeyDown||(event.stopPropagation(),onClose&&onClose(event,"escapeKeyDown")))},role:"presentation"},other,{style:(0,esm_extends.Z)({},inlineStyle.root,!open&&exited?inlineStyle.hidden:{},other.style)}),hideBackdrop?null:react.createElement(BackdropComponent,(0,esm_extends.Z)({open,onClick:function handleBackdropClick(event){event.target===event.currentTarget&&(onBackdropClick&&onBackdropClick(event),!disableBackdropClick&&onClose&&onClose(event,"backdropClick"))}},BackdropProps)),react.createElement(Unstable_TrapFocus_Unstable_TrapFocus,{disableEnforceFocus,disableAutoFocus,disableRestoreFocus,getDoc,isEnabled:isTopModal,open},react.cloneElement(children,childProps))))}));var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Transition=__webpack_require__("./node_modules/react-transition-group/esm/Transition.js"),styles_useTheme=__webpack_require__("./node_modules/@material-ui/core/esm/styles/useTheme.js"),utils=__webpack_require__("./node_modules/@material-ui/core/esm/transitions/utils.js");function getScale(value){return"scale(".concat(value,", ").concat(Math.pow(value,2),")")}var Grow_styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},Grow=react.forwardRef((function Grow(props,ref){var children=props.children,_props$disableStrictM=props.disableStrictModeCompat,disableStrictModeCompat=void 0!==_props$disableStrictM&&_props$disableStrictM,inProp=props.in,onEnter=props.onEnter,onEntered=props.onEntered,onEntering=props.onEntering,onExit=props.onExit,onExited=props.onExited,onExiting=props.onExiting,style=props.style,_props$timeout=props.timeout,timeout=void 0===_props$timeout?"auto":_props$timeout,_props$TransitionComp=props.TransitionComponent,TransitionComponent=void 0===_props$TransitionComp?Transition.ZP:_props$TransitionComp,other=(0,objectWithoutProperties.Z)(props,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),timer=react.useRef(),autoTimeout=react.useRef(),theme=(0,styles_useTheme.Z)(),enableStrictModeCompat=theme.unstable_strictMode&&!disableStrictModeCompat,nodeRef=react.useRef(null),foreignRef=(0,useForkRef.Z)(children.ref,ref),handleRef=(0,useForkRef.Z)(enableStrictModeCompat?nodeRef:void 0,foreignRef),normalizedTransitionCallback=function normalizedTransitionCallback(callback){return function(nodeOrAppearing,maybeAppearing){if(callback){var _ref=enableStrictModeCompat?[nodeRef.current,nodeOrAppearing]:[nodeOrAppearing,maybeAppearing],_ref2=(0,slicedToArray.Z)(_ref,2),node=_ref2[0],isAppearing=_ref2[1];void 0===isAppearing?callback(node):callback(node,isAppearing)}}},handleEntering=normalizedTransitionCallback(onEntering),handleEnter=normalizedTransitionCallback((function(node,isAppearing){(0,utils.n)(node);var duration,_getTransitionProps=(0,utils.C)({style,timeout},{mode:"enter"}),transitionDuration=_getTransitionProps.duration,delay=_getTransitionProps.delay;"auto"===timeout?(duration=theme.transitions.getAutoHeightDuration(node.clientHeight),autoTimeout.current=duration):duration=transitionDuration,node.style.transition=[theme.transitions.create("opacity",{duration,delay}),theme.transitions.create("transform",{duration:.666*duration,delay})].join(","),onEnter&&onEnter(node,isAppearing)})),handleEntered=normalizedTransitionCallback(onEntered),handleExiting=normalizedTransitionCallback(onExiting),handleExit=normalizedTransitionCallback((function(node){var duration,_getTransitionProps2=(0,utils.C)({style,timeout},{mode:"exit"}),transitionDuration=_getTransitionProps2.duration,delay=_getTransitionProps2.delay;"auto"===timeout?(duration=theme.transitions.getAutoHeightDuration(node.clientHeight),autoTimeout.current=duration):duration=transitionDuration,node.style.transition=[theme.transitions.create("opacity",{duration,delay}),theme.transitions.create("transform",{duration:.666*duration,delay:delay||.333*duration})].join(","),node.style.opacity="0",node.style.transform=getScale(.75),onExit&&onExit(node)})),handleExited=normalizedTransitionCallback(onExited);return react.useEffect((function(){return function(){clearTimeout(timer.current)}}),[]),react.createElement(TransitionComponent,(0,esm_extends.Z)({appear:!0,in:inProp,nodeRef:enableStrictModeCompat?nodeRef:void 0,onEnter:handleEnter,onEntered:handleEntered,onEntering:handleEntering,onExit:handleExit,onExited:handleExited,onExiting:handleExiting,addEndListener:function addEndListener(nodeOrNext,maybeNext){var next=enableStrictModeCompat?nodeOrNext:maybeNext;"auto"===timeout&&(timer.current=setTimeout(next,autoTimeout.current||0))},timeout:"auto"===timeout?null:timeout},other),(function(state,childProps){return react.cloneElement(children,(0,esm_extends.Z)({style:(0,esm_extends.Z)({opacity:0,transform:getScale(.75),visibility:"exited"!==state||inProp?void 0:"hidden"},Grow_styles[state],style,children.props.style),ref:handleRef},childProps))}))}));Grow.muiSupportAuto=!0;const Grow_Grow=Grow;var Paper=__webpack_require__("./node_modules/@material-ui/core/esm/Paper/Paper.js");function getOffsetTop(rect,vertical){var offset=0;return"number"==typeof vertical?offset=vertical:"center"===vertical?offset=rect.height/2:"bottom"===vertical&&(offset=rect.height),offset}function getOffsetLeft(rect,horizontal){var offset=0;return"number"==typeof horizontal?offset=horizontal:"center"===horizontal?offset=rect.width/2:"right"===horizontal&&(offset=rect.width),offset}function getTransformOriginValue(transformOrigin){return[transformOrigin.horizontal,transformOrigin.vertical].map((function(n){return"number"==typeof n?"".concat(n,"px"):n})).join(" ")}function getAnchorEl(anchorEl){return"function"==typeof anchorEl?anchorEl():anchorEl}var Popover=react.forwardRef((function Popover(props,ref){var action=props.action,anchorEl=props.anchorEl,_props$anchorOrigin=props.anchorOrigin,anchorOrigin=void 0===_props$anchorOrigin?{vertical:"top",horizontal:"left"}:_props$anchorOrigin,anchorPosition=props.anchorPosition,_props$anchorReferenc=props.anchorReference,anchorReference=void 0===_props$anchorReferenc?"anchorEl":_props$anchorReferenc,children=props.children,classes=props.classes,className=props.className,containerProp=props.container,_props$elevation=props.elevation,elevation=void 0===_props$elevation?8:_props$elevation,getContentAnchorEl=props.getContentAnchorEl,_props$marginThreshol=props.marginThreshold,marginThreshold=void 0===_props$marginThreshol?16:_props$marginThreshol,onEnter=props.onEnter,onEntered=props.onEntered,onEntering=props.onEntering,onExit=props.onExit,onExited=props.onExited,onExiting=props.onExiting,open=props.open,_props$PaperProps=props.PaperProps,PaperProps=void 0===_props$PaperProps?{}:_props$PaperProps,_props$transformOrigi=props.transformOrigin,transformOrigin=void 0===_props$transformOrigi?{vertical:"top",horizontal:"left"}:_props$transformOrigi,_props$TransitionComp=props.TransitionComponent,TransitionComponent=void 0===_props$TransitionComp?Grow_Grow:_props$TransitionComp,_props$transitionDura=props.transitionDuration,transitionDurationProp=void 0===_props$transitionDura?"auto":_props$transitionDura,_props$TransitionProp=props.TransitionProps,TransitionProps=void 0===_props$TransitionProp?{}:_props$TransitionProp,other=(0,objectWithoutProperties.Z)(props,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),paperRef=react.useRef(),getAnchorOffset=react.useCallback((function(contentAnchorOffset){if("anchorPosition"===anchorReference)return anchorPosition;var resolvedAnchorEl=getAnchorEl(anchorEl),anchorRect=(resolvedAnchorEl&&1===resolvedAnchorEl.nodeType?resolvedAnchorEl:(0,ownerDocument.Z)(paperRef.current).body).getBoundingClientRect(),anchorVertical=0===contentAnchorOffset?anchorOrigin.vertical:"center";return{top:anchorRect.top+getOffsetTop(anchorRect,anchorVertical),left:anchorRect.left+getOffsetLeft(anchorRect,anchorOrigin.horizontal)}}),[anchorEl,anchorOrigin.horizontal,anchorOrigin.vertical,anchorPosition,anchorReference]),getContentAnchorOffset=react.useCallback((function(element){var contentAnchorOffset=0;if(getContentAnchorEl&&"anchorEl"===anchorReference){var contentAnchorEl=getContentAnchorEl(element);if(contentAnchorEl&&element.contains(contentAnchorEl)){var scrollTop=function getScrollParent(parent,child){for(var element=child,scrollTop=0;element&&element!==parent;)scrollTop+=(element=element.parentElement).scrollTop;return scrollTop}(element,contentAnchorEl);contentAnchorOffset=contentAnchorEl.offsetTop+contentAnchorEl.clientHeight/2-scrollTop||0}0}return contentAnchorOffset}),[anchorOrigin.vertical,anchorReference,getContentAnchorEl]),getTransformOrigin=react.useCallback((function(elemRect){var contentAnchorOffset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:getOffsetTop(elemRect,transformOrigin.vertical)+contentAnchorOffset,horizontal:getOffsetLeft(elemRect,transformOrigin.horizontal)}}),[transformOrigin.horizontal,transformOrigin.vertical]),getPositioningStyle=react.useCallback((function(element){var contentAnchorOffset=getContentAnchorOffset(element),elemRect={width:element.offsetWidth,height:element.offsetHeight},elemTransformOrigin=getTransformOrigin(elemRect,contentAnchorOffset);if("none"===anchorReference)return{top:null,left:null,transformOrigin:getTransformOriginValue(elemTransformOrigin)};var anchorOffset=getAnchorOffset(contentAnchorOffset),top=anchorOffset.top-elemTransformOrigin.vertical,left=anchorOffset.left-elemTransformOrigin.horizontal,bottom=top+elemRect.height,right=left+elemRect.width,containerWindow=ownerWindow(getAnchorEl(anchorEl)),heightThreshold=containerWindow.innerHeight-marginThreshold,widthThreshold=containerWindow.innerWidth-marginThreshold;if(top<marginThreshold){var diff=top-marginThreshold;top-=diff,elemTransformOrigin.vertical+=diff}else if(bottom>heightThreshold){var _diff=bottom-heightThreshold;top-=_diff,elemTransformOrigin.vertical+=_diff}if(left<marginThreshold){var _diff2=left-marginThreshold;left-=_diff2,elemTransformOrigin.horizontal+=_diff2}else if(right>widthThreshold){var _diff3=right-widthThreshold;left-=_diff3,elemTransformOrigin.horizontal+=_diff3}return{top:"".concat(Math.round(top),"px"),left:"".concat(Math.round(left),"px"),transformOrigin:getTransformOriginValue(elemTransformOrigin)}}),[anchorEl,anchorReference,getAnchorOffset,getContentAnchorOffset,getTransformOrigin,marginThreshold]),setPositioningStyles=react.useCallback((function(){var element=paperRef.current;if(element){var positioning=getPositioningStyle(element);null!==positioning.top&&(element.style.top=positioning.top),null!==positioning.left&&(element.style.left=positioning.left),element.style.transformOrigin=positioning.transformOrigin}}),[getPositioningStyle]),handlePaperRef=react.useCallback((function(instance){paperRef.current=react_dom.findDOMNode(instance)}),[]);react.useEffect((function(){open&&setPositioningStyles()})),react.useImperativeHandle(action,(function(){return open?{updatePosition:function updatePosition(){setPositioningStyles()}}:null}),[open,setPositioningStyles]),react.useEffect((function(){if(open){var handleResize=(0,debounce.Z)((function(){setPositioningStyles()}));return window.addEventListener("resize",handleResize),function(){handleResize.clear(),window.removeEventListener("resize",handleResize)}}}),[open,setPositioningStyles]);var transitionDuration=transitionDurationProp;"auto"!==transitionDurationProp||TransitionComponent.muiSupportAuto||(transitionDuration=void 0);var container=containerProp||(anchorEl?(0,ownerDocument.Z)(getAnchorEl(anchorEl)).body:void 0);return react.createElement(Modal_Modal,(0,esm_extends.Z)({container,open,ref,BackdropProps:{invisible:!0},className:(0,clsx_m.Z)(classes.root,className)},other),react.createElement(TransitionComponent,(0,esm_extends.Z)({appear:!0,in:open,onEnter,onEntered,onExit,onExited,onExiting,timeout:transitionDuration},TransitionProps,{onEntering:(0,createChainedFunction.Z)((function handleEntering(element,isAppearing){onEntering&&onEntering(element,isAppearing),setPositioningStyles()}),TransitionProps.onEntering)}),react.createElement(Paper.Z,(0,esm_extends.Z)({elevation,ref:handlePaperRef},PaperProps,{className:(0,clsx_m.Z)(classes.paper,PaperProps.className)}),children)))}));const Popover_Popover=(0,withStyles.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Popover)},"./node_modules/@material-ui/core/esm/Popper/Popper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>esm_Popper_Popper});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,timeoutDuration=function(){for(var longerTimeoutBrowsers=["Edge","Trident","Firefox"],i=0;i<longerTimeoutBrowsers.length;i+=1)if(isBrowser&&navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0)return 1;return 0}();var debounce=isBrowser&&window.Promise?function microtaskDebounce(fn){var called=!1;return function(){called||(called=!0,window.Promise.resolve().then((function(){called=!1,fn()})))}}:function taskDebounce(fn){var scheduled=!1;return function(){scheduled||(scheduled=!0,setTimeout((function(){scheduled=!1,fn()}),timeoutDuration))}};function isFunction(functionToCheck){return functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}function getStyleComputedProperty(element,property){if(1!==element.nodeType)return[];var css=element.ownerDocument.defaultView.getComputedStyle(element,null);return property?css[property]:css}function getParentNode(element){return"HTML"===element.nodeName?element:element.parentNode||element.host}function getScrollParent(element){if(!element)return document.body;switch(element.nodeName){case"HTML":case"BODY":return element.ownerDocument.body;case"#document":return element.body}var _getStyleComputedProp=getStyleComputedProperty(element),overflow=_getStyleComputedProp.overflow,overflowX=_getStyleComputedProp.overflowX,overflowY=_getStyleComputedProp.overflowY;return/(auto|scroll|overlay)/.test(overflow+overflowY+overflowX)?element:getScrollParent(getParentNode(element))}function getReferenceNode(reference){return reference&&reference.referenceNode?reference.referenceNode:reference}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(version){return 11===version?isIE11:10===version?isIE10:isIE11||isIE10}function getOffsetParent(element){if(!element)return document.documentElement;for(var noOffsetParent=isIE(10)?document.body:null,offsetParent=element.offsetParent||null;offsetParent===noOffsetParent&&element.nextElementSibling;)offsetParent=(element=element.nextElementSibling).offsetParent;var nodeName=offsetParent&&offsetParent.nodeName;return nodeName&&"BODY"!==nodeName&&"HTML"!==nodeName?-1!==["TH","TD","TABLE"].indexOf(offsetParent.nodeName)&&"static"===getStyleComputedProperty(offsetParent,"position")?getOffsetParent(offsetParent):offsetParent:element?element.ownerDocument.documentElement:document.documentElement}function getRoot(node){return null!==node.parentNode?getRoot(node.parentNode):node}function findCommonOffsetParent(element1,element2){if(!(element1&&element1.nodeType&&element2&&element2.nodeType))return document.documentElement;var order=element1.compareDocumentPosition(element2)&Node.DOCUMENT_POSITION_FOLLOWING,start=order?element1:element2,end=order?element2:element1,range=document.createRange();range.setStart(start,0),range.setEnd(end,0);var commonAncestorContainer=range.commonAncestorContainer;if(element1!==commonAncestorContainer&&element2!==commonAncestorContainer||start.contains(end))return function isOffsetContainer(element){var nodeName=element.nodeName;return"BODY"!==nodeName&&("HTML"===nodeName||getOffsetParent(element.firstElementChild)===element)}(commonAncestorContainer)?commonAncestorContainer:getOffsetParent(commonAncestorContainer);var element1root=getRoot(element1);return element1root.host?findCommonOffsetParent(element1root.host,element2):findCommonOffsetParent(element1,getRoot(element2).host)}function getScroll(element){var upperSide="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName){var html=element.ownerDocument.documentElement;return(element.ownerDocument.scrollingElement||html)[upperSide]}return element[upperSide]}function getBordersSize(styles,axis){var sideA="x"===axis?"Left":"Top",sideB="Left"===sideA?"Right":"Bottom";return parseFloat(styles["border"+sideA+"Width"])+parseFloat(styles["border"+sideB+"Width"])}function getSize(axis,body,html,computedStyle){return Math.max(body["offset"+axis],body["scroll"+axis],html["client"+axis],html["offset"+axis],html["scroll"+axis],isIE(10)?parseInt(html["offset"+axis])+parseInt(computedStyle["margin"+("Height"===axis?"Top":"Left")])+parseInt(computedStyle["margin"+("Height"===axis?"Bottom":"Right")]):0)}function getWindowSizes(document){var body=document.body,html=document.documentElement,computedStyle=isIE(10)&&getComputedStyle(html);return{height:getSize("Height",body,html,computedStyle),width:getSize("Width",body,html,computedStyle)}}var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function getClientRect(offsets){return _extends({},offsets,{right:offsets.left+offsets.width,bottom:offsets.top+offsets.height})}function getBoundingClientRect(element){var rect={};try{if(isIE(10)){rect=element.getBoundingClientRect();var scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left");rect.top+=scrollTop,rect.left+=scrollLeft,rect.bottom+=scrollTop,rect.right+=scrollLeft}else rect=element.getBoundingClientRect()}catch(e){}var result={left:rect.left,top:rect.top,width:rect.right-rect.left,height:rect.bottom-rect.top},sizes="HTML"===element.nodeName?getWindowSizes(element.ownerDocument):{},width=sizes.width||element.clientWidth||result.width,height=sizes.height||element.clientHeight||result.height,horizScrollbar=element.offsetWidth-width,vertScrollbar=element.offsetHeight-height;if(horizScrollbar||vertScrollbar){var styles=getStyleComputedProperty(element);horizScrollbar-=getBordersSize(styles,"x"),vertScrollbar-=getBordersSize(styles,"y"),result.width-=horizScrollbar,result.height-=vertScrollbar}return getClientRect(result)}function getOffsetRectRelativeToArbitraryNode(children,parent){var fixedPosition=arguments.length>2&&void 0!==arguments[2]&&arguments[2],isIE10=isIE(10),isHTML="HTML"===parent.nodeName,childrenRect=getBoundingClientRect(children),parentRect=getBoundingClientRect(parent),scrollParent=getScrollParent(children),styles=getStyleComputedProperty(parent),borderTopWidth=parseFloat(styles.borderTopWidth),borderLeftWidth=parseFloat(styles.borderLeftWidth);fixedPosition&&isHTML&&(parentRect.top=Math.max(parentRect.top,0),parentRect.left=Math.max(parentRect.left,0));var offsets=getClientRect({top:childrenRect.top-parentRect.top-borderTopWidth,left:childrenRect.left-parentRect.left-borderLeftWidth,width:childrenRect.width,height:childrenRect.height});if(offsets.marginTop=0,offsets.marginLeft=0,!isIE10&&isHTML){var marginTop=parseFloat(styles.marginTop),marginLeft=parseFloat(styles.marginLeft);offsets.top-=borderTopWidth-marginTop,offsets.bottom-=borderTopWidth-marginTop,offsets.left-=borderLeftWidth-marginLeft,offsets.right-=borderLeftWidth-marginLeft,offsets.marginTop=marginTop,offsets.marginLeft=marginLeft}return(isIE10&&!fixedPosition?parent.contains(scrollParent):parent===scrollParent&&"BODY"!==scrollParent.nodeName)&&(offsets=function includeScroll(rect,element){var subtract=arguments.length>2&&void 0!==arguments[2]&&arguments[2],scrollTop=getScroll(element,"top"),scrollLeft=getScroll(element,"left"),modifier=subtract?-1:1;return rect.top+=scrollTop*modifier,rect.bottom+=scrollTop*modifier,rect.left+=scrollLeft*modifier,rect.right+=scrollLeft*modifier,rect}(offsets,parent)),offsets}function isFixed(element){var nodeName=element.nodeName;if("BODY"===nodeName||"HTML"===nodeName)return!1;if("fixed"===getStyleComputedProperty(element,"position"))return!0;var parentNode=getParentNode(element);return!!parentNode&&isFixed(parentNode)}function getFixedPositionOffsetParent(element){if(!element||!element.parentElement||isIE())return document.documentElement;for(var el=element.parentElement;el&&"none"===getStyleComputedProperty(el,"transform");)el=el.parentElement;return el||document.documentElement}function getBoundaries(popper,reference,padding,boundariesElement){var fixedPosition=arguments.length>4&&void 0!==arguments[4]&&arguments[4],boundaries={top:0,left:0},offsetParent=fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference));if("viewport"===boundariesElement)boundaries=function getViewportOffsetRectRelativeToArtbitraryNode(element){var excludeScroll=arguments.length>1&&void 0!==arguments[1]&&arguments[1],html=element.ownerDocument.documentElement,relativeOffset=getOffsetRectRelativeToArbitraryNode(element,html),width=Math.max(html.clientWidth,window.innerWidth||0),height=Math.max(html.clientHeight,window.innerHeight||0),scrollTop=excludeScroll?0:getScroll(html),scrollLeft=excludeScroll?0:getScroll(html,"left");return getClientRect({top:scrollTop-relativeOffset.top+relativeOffset.marginTop,left:scrollLeft-relativeOffset.left+relativeOffset.marginLeft,width,height})}(offsetParent,fixedPosition);else{var boundariesNode=void 0;"scrollParent"===boundariesElement?"BODY"===(boundariesNode=getScrollParent(getParentNode(reference))).nodeName&&(boundariesNode=popper.ownerDocument.documentElement):boundariesNode="window"===boundariesElement?popper.ownerDocument.documentElement:boundariesElement;var offsets=getOffsetRectRelativeToArbitraryNode(boundariesNode,offsetParent,fixedPosition);if("HTML"!==boundariesNode.nodeName||isFixed(offsetParent))boundaries=offsets;else{var _getWindowSizes=getWindowSizes(popper.ownerDocument),height=_getWindowSizes.height,width=_getWindowSizes.width;boundaries.top+=offsets.top-offsets.marginTop,boundaries.bottom=height+offsets.top,boundaries.left+=offsets.left-offsets.marginLeft,boundaries.right=width+offsets.left}}var isPaddingNumber="number"==typeof(padding=padding||0);return boundaries.left+=isPaddingNumber?padding:padding.left||0,boundaries.top+=isPaddingNumber?padding:padding.top||0,boundaries.right-=isPaddingNumber?padding:padding.right||0,boundaries.bottom-=isPaddingNumber?padding:padding.bottom||0,boundaries}function computeAutoPlacement(placement,refRect,popper,reference,boundariesElement){var padding=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===placement.indexOf("auto"))return placement;var boundaries=getBoundaries(popper,reference,padding,boundariesElement),rects={top:{width:boundaries.width,height:refRect.top-boundaries.top},right:{width:boundaries.right-refRect.right,height:boundaries.height},bottom:{width:boundaries.width,height:boundaries.bottom-refRect.bottom},left:{width:refRect.left-boundaries.left,height:boundaries.height}},sortedAreas=Object.keys(rects).map((function(key){return _extends({key},rects[key],{area:(_ref=rects[key],_ref.width*_ref.height)});var _ref})).sort((function(a,b){return b.area-a.area})),filteredAreas=sortedAreas.filter((function(_ref2){var width=_ref2.width,height=_ref2.height;return width>=popper.clientWidth&&height>=popper.clientHeight})),computedPlacement=filteredAreas.length>0?filteredAreas[0].key:sortedAreas[0].key,variation=placement.split("-")[1];return computedPlacement+(variation?"-"+variation:"")}function getReferenceOffsets(state,popper,reference){var fixedPosition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(reference,fixedPosition?getFixedPositionOffsetParent(popper):findCommonOffsetParent(popper,getReferenceNode(reference)),fixedPosition)}function getOuterSizes(element){var styles=element.ownerDocument.defaultView.getComputedStyle(element),x=parseFloat(styles.marginTop||0)+parseFloat(styles.marginBottom||0),y=parseFloat(styles.marginLeft||0)+parseFloat(styles.marginRight||0);return{width:element.offsetWidth+y,height:element.offsetHeight+x}}function getOppositePlacement(placement){var hash={left:"right",right:"left",bottom:"top",top:"bottom"};return placement.replace(/left|right|bottom|top/g,(function(matched){return hash[matched]}))}function getPopperOffsets(popper,referenceOffsets,placement){placement=placement.split("-")[0];var popperRect=getOuterSizes(popper),popperOffsets={width:popperRect.width,height:popperRect.height},isHoriz=-1!==["right","left"].indexOf(placement),mainSide=isHoriz?"top":"left",secondarySide=isHoriz?"left":"top",measurement=isHoriz?"height":"width",secondaryMeasurement=isHoriz?"width":"height";return popperOffsets[mainSide]=referenceOffsets[mainSide]+referenceOffsets[measurement]/2-popperRect[measurement]/2,popperOffsets[secondarySide]=placement===secondarySide?referenceOffsets[secondarySide]-popperRect[secondaryMeasurement]:referenceOffsets[getOppositePlacement(secondarySide)],popperOffsets}function find(arr,check){return Array.prototype.find?arr.find(check):arr.filter(check)[0]}function runModifiers(modifiers,data,ends){return(void 0===ends?modifiers:modifiers.slice(0,function findIndex(arr,prop,value){if(Array.prototype.findIndex)return arr.findIndex((function(cur){return cur[prop]===value}));var match=find(arr,(function(obj){return obj[prop]===value}));return arr.indexOf(match)}(modifiers,"name",ends))).forEach((function(modifier){modifier.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var fn=modifier.function||modifier.fn;modifier.enabled&&isFunction(fn)&&(data.offsets.popper=getClientRect(data.offsets.popper),data.offsets.reference=getClientRect(data.offsets.reference),data=fn(data,modifier))})),data}function update(){if(!this.state.isDestroyed){var data={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};data.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),data.placement=computeAutoPlacement(this.options.placement,data.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),data.originalPlacement=data.placement,data.positionFixed=this.options.positionFixed,data.offsets.popper=getPopperOffsets(this.popper,data.offsets.reference,data.placement),data.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",data=runModifiers(this.modifiers,data),this.state.isCreated?this.options.onUpdate(data):(this.state.isCreated=!0,this.options.onCreate(data))}}function isModifierEnabled(modifiers,modifierName){return modifiers.some((function(_ref){var name=_ref.name;return _ref.enabled&&name===modifierName}))}function getSupportedPropertyName(property){for(var prefixes=[!1,"ms","Webkit","Moz","O"],upperProp=property.charAt(0).toUpperCase()+property.slice(1),i=0;i<prefixes.length;i++){var prefix=prefixes[i],toCheck=prefix?""+prefix+upperProp:property;if(void 0!==document.body.style[toCheck])return toCheck}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(element){var ownerDocument=element.ownerDocument;return ownerDocument?ownerDocument.defaultView:window}function attachToScrollParents(scrollParent,event,callback,scrollParents){var isBody="BODY"===scrollParent.nodeName,target=isBody?scrollParent.ownerDocument.defaultView:scrollParent;target.addEventListener(event,callback,{passive:!0}),isBody||attachToScrollParents(getScrollParent(target.parentNode),event,callback,scrollParents),scrollParents.push(target)}function setupEventListeners(reference,options,state,updateBound){state.updateBound=updateBound,getWindow(reference).addEventListener("resize",state.updateBound,{passive:!0});var scrollElement=getScrollParent(reference);return attachToScrollParents(scrollElement,"scroll",state.updateBound,state.scrollParents),state.scrollElement=scrollElement,state.eventsEnabled=!0,state}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function removeEventListeners(reference,state){return getWindow(reference).removeEventListener("resize",state.updateBound),state.scrollParents.forEach((function(target){target.removeEventListener("scroll",state.updateBound)})),state.updateBound=null,state.scrollParents=[],state.scrollElement=null,state.eventsEnabled=!1,state}(this.reference,this.state))}function isNumeric(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function setStyles(element,styles){Object.keys(styles).forEach((function(prop){var unit="";-1!==["width","height","top","right","bottom","left"].indexOf(prop)&&isNumeric(styles[prop])&&(unit="px"),element.style[prop]=styles[prop]+unit}))}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function isModifierRequired(modifiers,requestingName,requestedName){var requesting=find(modifiers,(function(_ref){return _ref.name===requestingName})),isRequired=!!requesting&&modifiers.some((function(modifier){return modifier.name===requestedName&&modifier.enabled&&modifier.order<requesting.order}));if(!isRequired){var _requesting="`"+requestingName+"`",requested="`"+requestedName+"`";console.warn(requested+" modifier is required by "+_requesting+" modifier in order to work, be sure to include it before "+_requesting+"!")}return isRequired}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(placement){var counter=arguments.length>1&&void 0!==arguments[1]&&arguments[1],index=validPlacements.indexOf(placement),arr=validPlacements.slice(index+1).concat(validPlacements.slice(0,index));return counter?arr.reverse():arr}var BEHAVIORS_FLIP="flip",BEHAVIORS_CLOCKWISE="clockwise",BEHAVIORS_COUNTERCLOCKWISE="counterclockwise";function parseOffset(offset,popperOffsets,referenceOffsets,basePlacement){var offsets=[0,0],useHeight=-1!==["right","left"].indexOf(basePlacement),fragments=offset.split(/(\+|\-)/).map((function(frag){return frag.trim()})),divider=fragments.indexOf(find(fragments,(function(frag){return-1!==frag.search(/,|\s/)})));fragments[divider]&&-1===fragments[divider].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var splitRegex=/\s*,\s*|\s+/,ops=-1!==divider?[fragments.slice(0,divider).concat([fragments[divider].split(splitRegex)[0]]),[fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider+1))]:[fragments];return ops=ops.map((function(op,index){var measurement=(1===index?!useHeight:useHeight)?"height":"width",mergeWithPrevious=!1;return op.reduce((function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,mergeWithPrevious=!0,a):mergeWithPrevious?(a[a.length-1]+=b,mergeWithPrevious=!1,a):a.concat(b)}),[]).map((function(str){return function toValue(str,measurement,popperOffsets,referenceOffsets){var split=str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),value=+split[1],unit=split[2];if(!value)return str;if(0===unit.indexOf("%")){return getClientRect("%p"===unit?popperOffsets:referenceOffsets)[measurement]/100*value}if("vh"===unit||"vw"===unit)return("vh"===unit?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*value;return value}(str,measurement,popperOffsets,referenceOffsets)}))})),ops.forEach((function(op,index){op.forEach((function(frag,index2){isNumeric(frag)&&(offsets[index]+=frag*("-"===op[index2-1]?-1:1))}))})),offsets}var modifiers={shift:{order:100,enabled:!0,fn:function shift(data){var placement=data.placement,basePlacement=placement.split("-")[0],shiftvariation=placement.split("-")[1];if(shiftvariation){var _data$offsets=data.offsets,reference=_data$offsets.reference,popper=_data$offsets.popper,isVertical=-1!==["bottom","top"].indexOf(basePlacement),side=isVertical?"left":"top",measurement=isVertical?"width":"height",shiftOffsets={start:defineProperty({},side,reference[side]),end:defineProperty({},side,reference[side]+reference[measurement]-popper[measurement])};data.offsets.popper=_extends({},popper,shiftOffsets[shiftvariation])}return data}},offset:{order:200,enabled:!0,fn:function offset(data,_ref){var offset=_ref.offset,placement=data.placement,_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,basePlacement=placement.split("-")[0],offsets=void 0;return offsets=isNumeric(+offset)?[+offset,0]:parseOffset(offset,popper,reference,basePlacement),"left"===basePlacement?(popper.top+=offsets[0],popper.left-=offsets[1]):"right"===basePlacement?(popper.top+=offsets[0],popper.left+=offsets[1]):"top"===basePlacement?(popper.left+=offsets[0],popper.top-=offsets[1]):"bottom"===basePlacement&&(popper.left+=offsets[0],popper.top+=offsets[1]),data.popper=popper,data},offset:0},preventOverflow:{order:300,enabled:!0,fn:function preventOverflow(data,options){var boundariesElement=options.boundariesElement||getOffsetParent(data.instance.popper);data.instance.reference===boundariesElement&&(boundariesElement=getOffsetParent(boundariesElement));var transformProp=getSupportedPropertyName("transform"),popperStyles=data.instance.popper.style,top=popperStyles.top,left=popperStyles.left,transform=popperStyles[transformProp];popperStyles.top="",popperStyles.left="",popperStyles[transformProp]="";var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,boundariesElement,data.positionFixed);popperStyles.top=top,popperStyles.left=left,popperStyles[transformProp]=transform,options.boundaries=boundaries;var order=options.priority,popper=data.offsets.popper,check={primary:function primary(placement){var value=popper[placement];return popper[placement]<boundaries[placement]&&!options.escapeWithReference&&(value=Math.max(popper[placement],boundaries[placement])),defineProperty({},placement,value)},secondary:function secondary(placement){var mainSide="right"===placement?"left":"top",value=popper[mainSide];return popper[placement]>boundaries[placement]&&!options.escapeWithReference&&(value=Math.min(popper[mainSide],boundaries[placement]-("right"===placement?popper.width:popper.height))),defineProperty({},mainSide,value)}};return order.forEach((function(placement){var side=-1!==["left","top"].indexOf(placement)?"primary":"secondary";popper=_extends({},popper,check[side](placement))})),data.offsets.popper=popper,data},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function keepTogether(data){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,placement=data.placement.split("-")[0],floor=Math.floor,isVertical=-1!==["top","bottom"].indexOf(placement),side=isVertical?"right":"bottom",opSide=isVertical?"left":"top",measurement=isVertical?"width":"height";return popper[side]<floor(reference[opSide])&&(data.offsets.popper[opSide]=floor(reference[opSide])-popper[measurement]),popper[opSide]>floor(reference[side])&&(data.offsets.popper[opSide]=floor(reference[side])),data}},arrow:{order:500,enabled:!0,fn:function arrow(data,options){var _data$offsets$arrow;if(!isModifierRequired(data.instance.modifiers,"arrow","keepTogether"))return data;var arrowElement=options.element;if("string"==typeof arrowElement){if(!(arrowElement=data.instance.popper.querySelector(arrowElement)))return data}else if(!data.instance.popper.contains(arrowElement))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),data;var placement=data.placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isVertical=-1!==["left","right"].indexOf(placement),len=isVertical?"height":"width",sideCapitalized=isVertical?"Top":"Left",side=sideCapitalized.toLowerCase(),altSide=isVertical?"left":"top",opSide=isVertical?"bottom":"right",arrowElementSize=getOuterSizes(arrowElement)[len];reference[opSide]-arrowElementSize<popper[side]&&(data.offsets.popper[side]-=popper[side]-(reference[opSide]-arrowElementSize)),reference[side]+arrowElementSize>popper[opSide]&&(data.offsets.popper[side]+=reference[side]+arrowElementSize-popper[opSide]),data.offsets.popper=getClientRect(data.offsets.popper);var center=reference[side]+reference[len]/2-arrowElementSize/2,css=getStyleComputedProperty(data.instance.popper),popperMarginSide=parseFloat(css["margin"+sideCapitalized]),popperBorderSide=parseFloat(css["border"+sideCapitalized+"Width"]),sideValue=center-data.offsets.popper[side]-popperMarginSide-popperBorderSide;return sideValue=Math.max(Math.min(popper[len]-arrowElementSize,sideValue),0),data.arrowElement=arrowElement,data.offsets.arrow=(defineProperty(_data$offsets$arrow={},side,Math.round(sideValue)),defineProperty(_data$offsets$arrow,altSide,""),_data$offsets$arrow),data},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function flip(data,options){if(isModifierEnabled(data.instance.modifiers,"inner"))return data;if(data.flipped&&data.placement===data.originalPlacement)return data;var boundaries=getBoundaries(data.instance.popper,data.instance.reference,options.padding,options.boundariesElement,data.positionFixed),placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement),variation=data.placement.split("-")[1]||"",flipOrder=[];switch(options.behavior){case BEHAVIORS_FLIP:flipOrder=[placement,placementOpposite];break;case BEHAVIORS_CLOCKWISE:flipOrder=clockwise(placement);break;case BEHAVIORS_COUNTERCLOCKWISE:flipOrder=clockwise(placement,!0);break;default:flipOrder=options.behavior}return flipOrder.forEach((function(step,index){if(placement!==step||flipOrder.length===index+1)return data;placement=data.placement.split("-")[0],placementOpposite=getOppositePlacement(placement);var popperOffsets=data.offsets.popper,refOffsets=data.offsets.reference,floor=Math.floor,overlapsRef="left"===placement&&floor(popperOffsets.right)>floor(refOffsets.left)||"right"===placement&&floor(popperOffsets.left)<floor(refOffsets.right)||"top"===placement&&floor(popperOffsets.bottom)>floor(refOffsets.top)||"bottom"===placement&&floor(popperOffsets.top)<floor(refOffsets.bottom),overflowsLeft=floor(popperOffsets.left)<floor(boundaries.left),overflowsRight=floor(popperOffsets.right)>floor(boundaries.right),overflowsTop=floor(popperOffsets.top)<floor(boundaries.top),overflowsBottom=floor(popperOffsets.bottom)>floor(boundaries.bottom),overflowsBoundaries="left"===placement&&overflowsLeft||"right"===placement&&overflowsRight||"top"===placement&&overflowsTop||"bottom"===placement&&overflowsBottom,isVertical=-1!==["top","bottom"].indexOf(placement),flippedVariationByRef=!!options.flipVariations&&(isVertical&&"start"===variation&&overflowsLeft||isVertical&&"end"===variation&&overflowsRight||!isVertical&&"start"===variation&&overflowsTop||!isVertical&&"end"===variation&&overflowsBottom),flippedVariationByContent=!!options.flipVariationsByContent&&(isVertical&&"start"===variation&&overflowsRight||isVertical&&"end"===variation&&overflowsLeft||!isVertical&&"start"===variation&&overflowsBottom||!isVertical&&"end"===variation&&overflowsTop),flippedVariation=flippedVariationByRef||flippedVariationByContent;(overlapsRef||overflowsBoundaries||flippedVariation)&&(data.flipped=!0,(overlapsRef||overflowsBoundaries)&&(placement=flipOrder[index+1]),flippedVariation&&(variation=function getOppositeVariation(variation){return"end"===variation?"start":"start"===variation?"end":variation}(variation)),data.placement=placement+(variation?"-"+variation:""),data.offsets.popper=_extends({},data.offsets.popper,getPopperOffsets(data.instance.popper,data.offsets.reference,data.placement)),data=runModifiers(data.instance.modifiers,data,"flip"))})),data},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function inner(data){var placement=data.placement,basePlacement=placement.split("-")[0],_data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,isHoriz=-1!==["left","right"].indexOf(basePlacement),subtractLength=-1===["top","left"].indexOf(basePlacement);return popper[isHoriz?"left":"top"]=reference[basePlacement]-(subtractLength?popper[isHoriz?"width":"height"]:0),data.placement=getOppositePlacement(placement),data.offsets.popper=getClientRect(popper),data}},hide:{order:800,enabled:!0,fn:function hide(data){if(!isModifierRequired(data.instance.modifiers,"hide","preventOverflow"))return data;var refRect=data.offsets.reference,bound=find(data.instance.modifiers,(function(modifier){return"preventOverflow"===modifier.name})).boundaries;if(refRect.bottom<bound.top||refRect.left>bound.right||refRect.top>bound.bottom||refRect.right<bound.left){if(!0===data.hide)return data;data.hide=!0,data.attributes["x-out-of-boundaries"]=""}else{if(!1===data.hide)return data;data.hide=!1,data.attributes["x-out-of-boundaries"]=!1}return data}},computeStyle:{order:850,enabled:!0,fn:function computeStyle(data,options){var x=options.x,y=options.y,popper=data.offsets.popper,legacyGpuAccelerationOption=find(data.instance.modifiers,(function(modifier){return"applyStyle"===modifier.name})).gpuAcceleration;void 0!==legacyGpuAccelerationOption&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var gpuAcceleration=void 0!==legacyGpuAccelerationOption?legacyGpuAccelerationOption:options.gpuAcceleration,offsetParent=getOffsetParent(data.instance.popper),offsetParentRect=getBoundingClientRect(offsetParent),styles={position:popper.position},offsets=function getRoundedOffsets(data,shouldRound){var _data$offsets=data.offsets,popper=_data$offsets.popper,reference=_data$offsets.reference,round=Math.round,floor=Math.floor,noRound=function noRound(v){return v},referenceWidth=round(reference.width),popperWidth=round(popper.width),isVertical=-1!==["left","right"].indexOf(data.placement),isVariation=-1!==data.placement.indexOf("-"),horizontalToInteger=shouldRound?isVertical||isVariation||referenceWidth%2==popperWidth%2?round:floor:noRound,verticalToInteger=shouldRound?round:noRound;return{left:horizontalToInteger(referenceWidth%2==1&&popperWidth%2==1&&!isVariation&&shouldRound?popper.left-1:popper.left),top:verticalToInteger(popper.top),bottom:verticalToInteger(popper.bottom),right:horizontalToInteger(popper.right)}}(data,window.devicePixelRatio<2||!isFirefox),sideA="bottom"===x?"top":"bottom",sideB="right"===y?"left":"right",prefixedProperty=getSupportedPropertyName("transform"),left=void 0,top=void 0;if(top="bottom"===sideA?"HTML"===offsetParent.nodeName?-offsetParent.clientHeight+offsets.bottom:-offsetParentRect.height+offsets.bottom:offsets.top,left="right"===sideB?"HTML"===offsetParent.nodeName?-offsetParent.clientWidth+offsets.right:-offsetParentRect.width+offsets.right:offsets.left,gpuAcceleration&&prefixedProperty)styles[prefixedProperty]="translate3d("+left+"px, "+top+"px, 0)",styles[sideA]=0,styles[sideB]=0,styles.willChange="transform";else{var invertTop="bottom"===sideA?-1:1,invertLeft="right"===sideB?-1:1;styles[sideA]=top*invertTop,styles[sideB]=left*invertLeft,styles.willChange=sideA+", "+sideB}var attributes={"x-placement":data.placement};return data.attributes=_extends({},attributes,data.attributes),data.styles=_extends({},styles,data.styles),data.arrowStyles=_extends({},data.offsets.arrow,data.arrowStyles),data},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function applyStyle(data){return setStyles(data.instance.popper,data.styles),function setAttributes(element,attributes){Object.keys(attributes).forEach((function(prop){!1!==attributes[prop]?element.setAttribute(prop,attributes[prop]):element.removeAttribute(prop)}))}(data.instance.popper,data.attributes),data.arrowElement&&Object.keys(data.arrowStyles).length&&setStyles(data.arrowElement,data.arrowStyles),data},onLoad:function applyStyleOnLoad(reference,popper,options,modifierOptions,state){var referenceOffsets=getReferenceOffsets(state,popper,reference,options.positionFixed),placement=computeAutoPlacement(options.placement,referenceOffsets,popper,reference,options.modifiers.flip.boundariesElement,options.modifiers.flip.padding);return popper.setAttribute("x-placement",placement),setStyles(popper,{position:options.positionFixed?"fixed":"absolute"}),options},gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function onCreate(){},onUpdate:function onUpdate(){},modifiers},Popper=function(){function Popper(reference,popper){var _this=this,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Popper),this.scheduleUpdate=function(){return requestAnimationFrame(_this.update)},this.update=debounce(this.update.bind(this)),this.options=_extends({},Popper.Defaults,options),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=reference&&reference.jquery?reference[0]:reference,this.popper=popper&&popper.jquery?popper[0]:popper,this.options.modifiers={},Object.keys(_extends({},Popper.Defaults.modifiers,options.modifiers)).forEach((function(name){_this.options.modifiers[name]=_extends({},Popper.Defaults.modifiers[name]||{},options.modifiers?options.modifiers[name]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(name){return _extends({name},_this.options.modifiers[name])})).sort((function(a,b){return a.order-b.order})),this.modifiers.forEach((function(modifierOptions){modifierOptions.enabled&&isFunction(modifierOptions.onLoad)&&modifierOptions.onLoad(_this.reference,_this.popper,_this.options,modifierOptions,_this.state)})),this.update();var eventsEnabled=this.options.eventsEnabled;eventsEnabled&&this.enableEventListeners(),this.state.eventsEnabled=eventsEnabled}return createClass(Popper,[{key:"update",value:function update$$1(){return update.call(this)}},{key:"destroy",value:function destroy$$1(){return destroy.call(this)}},{key:"enableEventListeners",value:function enableEventListeners$$1(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function disableEventListeners$$1(){return disableEventListeners.call(this)}}]),Popper}();Popper.Utils=("undefined"!=typeof window?window:__webpack_require__.g).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;const esm_popper=Popper;var useTheme=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),Portal=__webpack_require__("./node_modules/@material-ui/core/esm/Portal/Portal.js"),createChainedFunction=__webpack_require__("./node_modules/@material-ui/core/esm/utils/createChainedFunction.js"),setRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/setRef.js"),useForkRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js");function getAnchorEl(anchorEl){return"function"==typeof anchorEl?anchorEl():anchorEl}var useEnhancedEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect,defaultPopperOptions={},Popper_Popper=react.forwardRef((function Popper(props,ref){var anchorEl=props.anchorEl,children=props.children,container=props.container,_props$disablePortal=props.disablePortal,disablePortal=void 0!==_props$disablePortal&&_props$disablePortal,_props$keepMounted=props.keepMounted,keepMounted=void 0!==_props$keepMounted&&_props$keepMounted,modifiers=props.modifiers,open=props.open,_props$placement=props.placement,initialPlacement=void 0===_props$placement?"bottom":_props$placement,_props$popperOptions=props.popperOptions,popperOptions=void 0===_props$popperOptions?defaultPopperOptions:_props$popperOptions,popperRefProp=props.popperRef,style=props.style,_props$transition=props.transition,transition=void 0!==_props$transition&&_props$transition,other=(0,objectWithoutProperties.Z)(props,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),tooltipRef=react.useRef(null),ownRef=(0,useForkRef.Z)(tooltipRef,ref),popperRef=react.useRef(null),handlePopperRef=(0,useForkRef.Z)(popperRef,popperRefProp),handlePopperRefRef=react.useRef(handlePopperRef);useEnhancedEffect((function(){handlePopperRefRef.current=handlePopperRef}),[handlePopperRef]),react.useImperativeHandle(popperRefProp,(function(){return popperRef.current}),[]);var _React$useState=react.useState(!0),exited=_React$useState[0],setExited=_React$useState[1],rtlPlacement=function flipPlacement(placement,theme){if("ltr"===(theme&&theme.direction||"ltr"))return placement;switch(placement){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return placement}}(initialPlacement,(0,useTheme.Z)()),_React$useState2=react.useState(rtlPlacement),placement=_React$useState2[0],setPlacement=_React$useState2[1];react.useEffect((function(){popperRef.current&&popperRef.current.update()}));var handleOpen=react.useCallback((function(){if(tooltipRef.current&&anchorEl&&open){popperRef.current&&(popperRef.current.destroy(),handlePopperRefRef.current(null));var handlePopperUpdate=function handlePopperUpdate(data){setPlacement(data.placement)},popper=(getAnchorEl(anchorEl),new esm_popper(getAnchorEl(anchorEl),tooltipRef.current,(0,esm_extends.Z)({placement:rtlPlacement},popperOptions,{modifiers:(0,esm_extends.Z)({},disablePortal?{}:{preventOverflow:{boundariesElement:"window"}},modifiers,popperOptions.modifiers),onCreate:(0,createChainedFunction.Z)(handlePopperUpdate,popperOptions.onCreate),onUpdate:(0,createChainedFunction.Z)(handlePopperUpdate,popperOptions.onUpdate)})));handlePopperRefRef.current(popper)}}),[anchorEl,disablePortal,modifiers,open,rtlPlacement,popperOptions]),handleRef=react.useCallback((function(node){(0,setRef.Z)(ownRef,node),handleOpen()}),[ownRef,handleOpen]),handleClose=function handleClose(){popperRef.current&&(popperRef.current.destroy(),handlePopperRefRef.current(null))};if(react.useEffect((function(){return function(){handleClose()}}),[]),react.useEffect((function(){open||transition||handleClose()}),[open,transition]),!keepMounted&&!open&&(!transition||exited))return null;var childProps={placement};return transition&&(childProps.TransitionProps={in:open,onEnter:function handleEnter(){setExited(!1)},onExited:function handleExited(){setExited(!0),handleClose()}}),react.createElement(Portal.Z,{disablePortal,container},react.createElement("div",(0,esm_extends.Z)({ref:handleRef,role:"tooltip"},other,{style:(0,esm_extends.Z)({position:"fixed",top:0,left:0,display:open||!keepMounted||transition?null:"none"},style)}),"function"==typeof children?children(childProps):children))}));const esm_Popper_Popper=Popper_Popper},"./node_modules/@material-ui/core/esm/Portal/Portal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js"),_utils_setRef__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/utils/setRef.js"),_utils_useForkRef__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js");var useEnhancedEffect="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Portal(props,ref){var children=props.children,container=props.container,_props$disablePortal=props.disablePortal,disablePortal=void 0!==_props$disablePortal&&_props$disablePortal,onRendered=props.onRendered,_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),mountNode=_React$useState[0],setMountNode=_React$useState[1],handleRef=(0,_utils_useForkRef__WEBPACK_IMPORTED_MODULE_2__.Z)(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)?children.ref:null,ref);return useEnhancedEffect((function(){disablePortal||setMountNode(function getContainer(container){return container="function"==typeof container?container():container,react_dom__WEBPACK_IMPORTED_MODULE_1__.findDOMNode(container)}(container)||document.body)}),[container,disablePortal]),useEnhancedEffect((function(){if(mountNode&&!disablePortal)return(0,_utils_setRef__WEBPACK_IMPORTED_MODULE_3__.Z)(ref,mountNode),function(){(0,_utils_setRef__WEBPACK_IMPORTED_MODULE_3__.Z)(ref,null)}}),[ref,mountNode,disablePortal]),useEnhancedEffect((function(){onRendered&&(mountNode||disablePortal)&&onRendered()}),[onRendered,mountNode,disablePortal]),disablePortal?react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,{ref:handleRef}):children:mountNode?react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(children,mountNode):mountNode}))},"./node_modules/@material-ui/core/esm/Select/Select.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Select_Select});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),mergeClasses=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js"),formatMuiErrorMessage=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js"),clsx_m=(__webpack_require__("./node_modules/react-is/index.js"),__webpack_require__("./node_modules/clsx/dist/clsx.m.js")),ownerDocument=__webpack_require__("./node_modules/@material-ui/core/esm/utils/ownerDocument.js"),capitalize=__webpack_require__("./node_modules/@material-ui/core/esm/utils/capitalize.js"),withStyles=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),Popover=__webpack_require__("./node_modules/@material-ui/core/esm/Popover/Popover.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),List=__webpack_require__("./node_modules/@material-ui/core/esm/List/List.js"),getScrollbarSize=__webpack_require__("./node_modules/@material-ui/core/esm/utils/getScrollbarSize.js"),useForkRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/useForkRef.js");function nextItem(list,item,disableListWrap){return list===item?list.firstChild:item&&item.nextElementSibling?item.nextElementSibling:disableListWrap?null:list.firstChild}function previousItem(list,item,disableListWrap){return list===item?disableListWrap?list.firstChild:list.lastChild:item&&item.previousElementSibling?item.previousElementSibling:disableListWrap?null:list.lastChild}function textCriteriaMatches(nextFocus,textCriteria){if(void 0===textCriteria)return!0;var text=nextFocus.innerText;return void 0===text&&(text=nextFocus.textContent),0!==(text=text.trim().toLowerCase()).length&&(textCriteria.repeating?text[0]===textCriteria.keys[0]:0===text.indexOf(textCriteria.keys.join("")))}function moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,traversalFunction,textCriteria){for(var wrappedOnce=!1,nextFocus=traversalFunction(list,currentFocus,!!currentFocus&&disableListWrap);nextFocus;){if(nextFocus===list.firstChild){if(wrappedOnce)return;wrappedOnce=!0}var nextFocusDisabled=!disabledItemsFocusable&&(nextFocus.disabled||"true"===nextFocus.getAttribute("aria-disabled"));if(nextFocus.hasAttribute("tabindex")&&textCriteriaMatches(nextFocus,textCriteria)&&!nextFocusDisabled)return void nextFocus.focus();nextFocus=traversalFunction(list,nextFocus,disableListWrap)}}var useEnhancedEffect="undefined"==typeof window?react.useEffect:react.useLayoutEffect;const MenuList_MenuList=react.forwardRef((function MenuList(props,ref){var actions=props.actions,_props$autoFocus=props.autoFocus,autoFocus=void 0!==_props$autoFocus&&_props$autoFocus,_props$autoFocusItem=props.autoFocusItem,autoFocusItem=void 0!==_props$autoFocusItem&&_props$autoFocusItem,children=props.children,className=props.className,_props$disabledItemsF=props.disabledItemsFocusable,disabledItemsFocusable=void 0!==_props$disabledItemsF&&_props$disabledItemsF,_props$disableListWra=props.disableListWrap,disableListWrap=void 0!==_props$disableListWra&&_props$disableListWra,onKeyDown=props.onKeyDown,_props$variant=props.variant,variant=void 0===_props$variant?"selectedMenu":_props$variant,other=(0,objectWithoutProperties.Z)(props,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),listRef=react.useRef(null),textCriteriaRef=react.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect((function(){autoFocus&&listRef.current.focus()}),[autoFocus]),react.useImperativeHandle(actions,(function(){return{adjustStyleForScrollbar:function adjustStyleForScrollbar(containerElement,theme){var noExplicitWidth=!listRef.current.style.width;if(containerElement.clientHeight<listRef.current.clientHeight&&noExplicitWidth){var scrollbarSize="".concat((0,getScrollbarSize.Z)(!0),"px");listRef.current.style["rtl"===theme.direction?"paddingLeft":"paddingRight"]=scrollbarSize,listRef.current.style.width="calc(100% + ".concat(scrollbarSize,")")}return listRef.current}}}),[]);var handleOwnRef=react.useCallback((function(instance){listRef.current=react_dom.findDOMNode(instance)}),[]),handleRef=(0,useForkRef.Z)(handleOwnRef,ref),activeItemIndex=-1;react.Children.forEach(children,(function(child,index){react.isValidElement(child)&&(child.props.disabled||("selectedMenu"===variant&&child.props.selected||-1===activeItemIndex)&&(activeItemIndex=index))}));var items=react.Children.map(children,(function(child,index){if(index===activeItemIndex){var newChildProps={};return autoFocusItem&&(newChildProps.autoFocus=!0),void 0===child.props.tabIndex&&"selectedMenu"===variant&&(newChildProps.tabIndex=0),react.cloneElement(child,newChildProps)}return child}));return react.createElement(List.Z,(0,esm_extends.Z)({role:"menu",ref:handleRef,className,onKeyDown:function handleKeyDown(event){var list=listRef.current,key=event.key,currentFocus=(0,ownerDocument.Z)(list).activeElement;if("ArrowDown"===key)event.preventDefault(),moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,nextItem);else if("ArrowUp"===key)event.preventDefault(),moveFocus(list,currentFocus,disableListWrap,disabledItemsFocusable,previousItem);else if("Home"===key)event.preventDefault(),moveFocus(list,null,disableListWrap,disabledItemsFocusable,nextItem);else if("End"===key)event.preventDefault(),moveFocus(list,null,disableListWrap,disabledItemsFocusable,previousItem);else if(1===key.length){var criteria=textCriteriaRef.current,lowerKey=key.toLowerCase(),currTime=performance.now();criteria.keys.length>0&&(currTime-criteria.lastTime>500?(criteria.keys=[],criteria.repeating=!0,criteria.previousKeyMatched=!0):criteria.repeating&&lowerKey!==criteria.keys[0]&&(criteria.repeating=!1)),criteria.lastTime=currTime,criteria.keys.push(lowerKey);var keepFocusOnCurrent=currentFocus&&!criteria.repeating&&textCriteriaMatches(currentFocus,criteria);criteria.previousKeyMatched&&(keepFocusOnCurrent||moveFocus(list,currentFocus,!1,disabledItemsFocusable,nextItem,criteria))?event.preventDefault():criteria.previousKeyMatched=!1}onKeyDown&&onKeyDown(event)},tabIndex:autoFocus?0:-1},other),items)}));var setRef=__webpack_require__("./node_modules/@material-ui/core/esm/utils/setRef.js"),useTheme=__webpack_require__("./node_modules/@material-ui/core/esm/styles/useTheme.js"),RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},Menu=react.forwardRef((function Menu(props,ref){var _props$autoFocus=props.autoFocus,autoFocus=void 0===_props$autoFocus||_props$autoFocus,children=props.children,classes=props.classes,_props$disableAutoFoc=props.disableAutoFocusItem,disableAutoFocusItem=void 0!==_props$disableAutoFoc&&_props$disableAutoFoc,_props$MenuListProps=props.MenuListProps,MenuListProps=void 0===_props$MenuListProps?{}:_props$MenuListProps,onClose=props.onClose,onEnteringProp=props.onEntering,open=props.open,_props$PaperProps=props.PaperProps,PaperProps=void 0===_props$PaperProps?{}:_props$PaperProps,PopoverClasses=props.PopoverClasses,_props$transitionDura=props.transitionDuration,transitionDuration=void 0===_props$transitionDura?"auto":_props$transitionDura,_props$TransitionProp=props.TransitionProps,onEntering=(_props$TransitionProp=void 0===_props$TransitionProp?{}:_props$TransitionProp).onEntering,TransitionProps=(0,objectWithoutProperties.Z)(_props$TransitionProp,["onEntering"]),_props$variant=props.variant,variant=void 0===_props$variant?"selectedMenu":_props$variant,other=(0,objectWithoutProperties.Z)(props,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),theme=(0,useTheme.Z)(),autoFocusItem=autoFocus&&!disableAutoFocusItem&&open,menuListActionsRef=react.useRef(null),contentAnchorRef=react.useRef(null),activeItemIndex=-1;react.Children.map(children,(function(child,index){react.isValidElement(child)&&(child.props.disabled||("menu"!==variant&&child.props.selected||-1===activeItemIndex)&&(activeItemIndex=index))}));var items=react.Children.map(children,(function(child,index){return index===activeItemIndex?react.cloneElement(child,{ref:function ref(instance){contentAnchorRef.current=react_dom.findDOMNode(instance),(0,setRef.Z)(child.ref,instance)}}):child}));return react.createElement(Popover.ZP,(0,esm_extends.Z)({getContentAnchorEl:function getContentAnchorEl(){return contentAnchorRef.current},classes:PopoverClasses,onClose,TransitionProps:(0,esm_extends.Z)({onEntering:function handleEntering(element,isAppearing){menuListActionsRef.current&&menuListActionsRef.current.adjustStyleForScrollbar(element,theme),onEnteringProp&&onEnteringProp(element,isAppearing),onEntering&&onEntering(element,isAppearing)}},TransitionProps),anchorOrigin:"rtl"===theme.direction?RTL_ORIGIN:LTR_ORIGIN,transformOrigin:"rtl"===theme.direction?RTL_ORIGIN:LTR_ORIGIN,PaperProps:(0,esm_extends.Z)({},PaperProps,{classes:(0,esm_extends.Z)({},PaperProps.classes,{root:classes.paper})}),open,ref,transitionDuration},other),react.createElement(MenuList_MenuList,(0,esm_extends.Z)({onKeyDown:function handleListKeyDown(event){"Tab"===event.key&&(event.preventDefault(),onClose&&onClose(event,"tabKeyDown"))},actions:menuListActionsRef,autoFocus:autoFocus&&(-1===activeItemIndex||disableAutoFocusItem),autoFocusItem,variant},MenuListProps,{className:(0,clsx_m.Z)(classes.list,MenuListProps.className)}),items))}));const Menu_Menu=(0,withStyles.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Menu);function hasValue(value){return null!=value&&!(Array.isArray(value)&&0===value.length)}function isFilled(obj){var SSR=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return obj&&(hasValue(obj.value)&&""!==obj.value||SSR&&hasValue(obj.defaultValue)&&""!==obj.defaultValue)}function areEqualValues(a,b){return"object"===(0,esm_typeof.Z)(b)&&null!==b?a===b:String(a)===String(b)}var SelectInput=react.forwardRef((function SelectInput(props,ref){var ariaLabel=props["aria-label"],autoFocus=props.autoFocus,autoWidth=props.autoWidth,children=props.children,classes=props.classes,className=props.className,defaultValue=props.defaultValue,disabled=props.disabled,displayEmpty=props.displayEmpty,IconComponent=props.IconComponent,inputRefProp=props.inputRef,labelId=props.labelId,_props$MenuProps=props.MenuProps,MenuProps=void 0===_props$MenuProps?{}:_props$MenuProps,multiple=props.multiple,name=props.name,onBlur=props.onBlur,onChange=props.onChange,onClose=props.onClose,onFocus=props.onFocus,onOpen=props.onOpen,openProp=props.open,readOnly=props.readOnly,renderValue=props.renderValue,_props$SelectDisplayP=props.SelectDisplayProps,SelectDisplayProps=void 0===_props$SelectDisplayP?{}:_props$SelectDisplayP,tabIndexProp=props.tabIndex,valueProp=(props.type,props.value),_props$variant=props.variant,variant=void 0===_props$variant?"standard":_props$variant,other=(0,objectWithoutProperties.Z)(props,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),_useControlled=function useControlled(_ref){var controlled=_ref.controlled,defaultProp=_ref.default,isControlled=(_ref.name,_ref.state,react.useRef(void 0!==controlled).current),_React$useState=react.useState(defaultProp),valueState=_React$useState[0],setValue=_React$useState[1];return[isControlled?controlled:valueState,react.useCallback((function(newValue){isControlled||setValue(newValue)}),[])]}({controlled:valueProp,default:defaultValue,name:"Select"}),_useControlled2=(0,slicedToArray.Z)(_useControlled,2),value=_useControlled2[0],setValue=_useControlled2[1],inputRef=react.useRef(null),_React$useState=react.useState(null),displayNode=_React$useState[0],setDisplayNode=_React$useState[1],isOpenControlled=react.useRef(null!=openProp).current,_React$useState2=react.useState(),menuMinWidthState=_React$useState2[0],setMenuMinWidthState=_React$useState2[1],_React$useState3=react.useState(!1),openState=_React$useState3[0],setOpenState=_React$useState3[1],handleRef=(0,useForkRef.Z)(ref,inputRefProp);react.useImperativeHandle(handleRef,(function(){return{focus:function focus(){displayNode.focus()},node:inputRef.current,value}}),[displayNode,value]),react.useEffect((function(){autoFocus&&displayNode&&displayNode.focus()}),[autoFocus,displayNode]),react.useEffect((function(){if(displayNode){var label=(0,ownerDocument.Z)(displayNode).getElementById(labelId);if(label){var handler=function handler(){getSelection().isCollapsed&&displayNode.focus()};return label.addEventListener("click",handler),function(){label.removeEventListener("click",handler)}}}}),[labelId,displayNode]);var display,displaySingle,update=function update(open,event){open?onOpen&&onOpen(event):onClose&&onClose(event),isOpenControlled||(setMenuMinWidthState(autoWidth?null:displayNode.clientWidth),setOpenState(open))},childrenArray=react.Children.toArray(children),handleItemClick=function handleItemClick(child){return function(event){var newValue;if(multiple||update(!1,event),multiple){newValue=Array.isArray(value)?value.slice():[];var itemIndex=value.indexOf(child.props.value);-1===itemIndex?newValue.push(child.props.value):newValue.splice(itemIndex,1)}else newValue=child.props.value;child.props.onClick&&child.props.onClick(event),value!==newValue&&(setValue(newValue),onChange&&(event.persist(),Object.defineProperty(event,"target",{writable:!0,value:{value:newValue,name}}),onChange(event,child)))}},open=null!==displayNode&&(isOpenControlled?openProp:openState);delete other["aria-invalid"];var displayMultiple=[],computeDisplay=!1;(isFilled({value})||displayEmpty)&&(renderValue?display=renderValue(value):computeDisplay=!0);var items=childrenArray.map((function(child){if(!react.isValidElement(child))return null;var selected;if(multiple){if(!Array.isArray(value))throw new Error((0,formatMuiErrorMessage.Z)(2));(selected=value.some((function(v){return areEqualValues(v,child.props.value)})))&&computeDisplay&&displayMultiple.push(child.props.children)}else(selected=areEqualValues(value,child.props.value))&&computeDisplay&&(displaySingle=child.props.children);return selected&&!0,react.cloneElement(child,{"aria-selected":selected?"true":void 0,onClick:handleItemClick(child),onKeyUp:function onKeyUp(event){" "===event.key&&event.preventDefault(),child.props.onKeyUp&&child.props.onKeyUp(event)},role:"option",selected,value:void 0,"data-value":child.props.value})}));computeDisplay&&(display=multiple?displayMultiple.join(", "):displaySingle);var tabIndex,menuMinWidth=menuMinWidthState;!autoWidth&&isOpenControlled&&displayNode&&(menuMinWidth=displayNode.clientWidth),tabIndex=void 0!==tabIndexProp?tabIndexProp:disabled?null:0;var buttonId=SelectDisplayProps.id||(name?"mui-component-select-".concat(name):void 0);return react.createElement(react.Fragment,null,react.createElement("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,classes.select,classes.selectMenu,classes[variant],className,disabled&&classes.disabled),ref:setDisplayNode,tabIndex,role:"button","aria-disabled":disabled?"true":void 0,"aria-expanded":open?"true":void 0,"aria-haspopup":"listbox","aria-label":ariaLabel,"aria-labelledby":[labelId,buttonId].filter(Boolean).join(" ")||void 0,onKeyDown:function handleKeyDown(event){if(!readOnly){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(event.key)&&(event.preventDefault(),update(!0,event))}},onMouseDown:disabled||readOnly?null:function handleMouseDown(event){0===event.button&&(event.preventDefault(),displayNode.focus(),update(!0,event))},onBlur:function handleBlur(event){!open&&onBlur&&(event.persist(),Object.defineProperty(event,"target",{writable:!0,value:{value,name}}),onBlur(event))},onFocus},SelectDisplayProps,{id:buttonId}),function isEmpty(display){return null==display||"string"==typeof display&&!display.trim()}(display)?react.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):display),react.createElement("input",(0,esm_extends.Z)({value:Array.isArray(value)?value.join(","):value,name,ref:inputRef,"aria-hidden":!0,onChange:function handleChange(event){var index=childrenArray.map((function(child){return child.props.value})).indexOf(event.target.value);if(-1!==index){var child=childrenArray[index];setValue(child.props.value),onChange&&onChange(event,child)}},tabIndex:-1,className:classes.nativeInput,autoFocus},other)),react.createElement(IconComponent,{className:(0,clsx_m.Z)(classes.icon,classes["icon".concat((0,capitalize.Z)(variant))],open&&classes.iconOpen,disabled&&classes.disabled)}),react.createElement(Menu_Menu,(0,esm_extends.Z)({id:"menu-".concat(name||""),anchorEl:displayNode,open,onClose:function handleClose(event){update(!1,event)}},MenuProps,{MenuListProps:(0,esm_extends.Z)({"aria-labelledby":labelId,role:"listbox",disableListWrap:!0},MenuProps.MenuListProps),PaperProps:(0,esm_extends.Z)({},MenuProps.PaperProps,{style:(0,esm_extends.Z)({minWidth:menuMinWidth},null!=MenuProps.PaperProps?MenuProps.PaperProps.style:null)})}),items))}));const Select_SelectInput=SelectInput;function formControlState(_ref){var props=_ref.props,states=_ref.states,muiFormControl=_ref.muiFormControl;return states.reduce((function(acc,state){return acc[state]=props[state],muiFormControl&&void 0===props[state]&&(acc[state]=muiFormControl[state]),acc}),{})}var FormControlContext=react.createContext();const FormControl_FormControlContext=FormControlContext;function useFormControl_useFormControl(){return react.useContext(FormControl_FormControlContext)}var SvgIcon=react.forwardRef((function SvgIcon(props,ref){var children=props.children,classes=props.classes,className=props.className,_props$color=props.color,color=void 0===_props$color?"inherit":_props$color,_props$component=props.component,Component=void 0===_props$component?"svg":_props$component,_props$fontSize=props.fontSize,fontSize=void 0===_props$fontSize?"medium":_props$fontSize,htmlColor=props.htmlColor,titleAccess=props.titleAccess,_props$viewBox=props.viewBox,viewBox=void 0===_props$viewBox?"0 0 24 24":_props$viewBox,other=(0,objectWithoutProperties.Z)(props,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return react.createElement(Component,(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,className,"inherit"!==color&&classes["color".concat((0,capitalize.Z)(color))],"default"!==fontSize&&"medium"!==fontSize&&classes["fontSize".concat((0,capitalize.Z)(fontSize))]),focusable:"false",viewBox,color:htmlColor,"aria-hidden":!titleAccess||void 0,role:titleAccess?"img":void 0,ref},other),children,titleAccess?react.createElement("title",null,titleAccess):null)}));SvgIcon.muiName="SvgIcon";const SvgIcon_SvgIcon=(0,withStyles.Z)((function styles(theme){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:theme.typography.pxToRem(24),transition:theme.transitions.create("fill",{duration:theme.transitions.duration.shorter})},colorPrimary:{color:theme.palette.primary.main},colorSecondary:{color:theme.palette.secondary.main},colorAction:{color:theme.palette.action.active},colorError:{color:theme.palette.error.main},colorDisabled:{color:theme.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:theme.typography.pxToRem(20)},fontSizeLarge:{fontSize:theme.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(SvgIcon);const ArrowDropDown=function createSvgIcon(path,displayName){var Component=function Component(props,ref){return react.createElement(SvgIcon_SvgIcon,(0,esm_extends.Z)({ref},props),path)};return Component.muiName=SvgIcon_SvgIcon.muiName,react.memo(react.forwardRef(Component))}(react.createElement("path",{d:"M7 10l5 5 5-5z"}));var debounce=__webpack_require__("./node_modules/@material-ui/core/esm/utils/debounce.js");function getStyleValue(computedStyle,property){return parseInt(computedStyle[property],10)||0}var TextareaAutosize_useEnhancedEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect,TextareaAutosize_styles_shadow={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const TextareaAutosize_TextareaAutosize=react.forwardRef((function TextareaAutosize(props,ref){var onChange=props.onChange,rows=props.rows,rowsMax=props.rowsMax,rowsMinProp=props.rowsMin,maxRowsProp=props.maxRows,_props$minRows=props.minRows,minRowsProp=void 0===_props$minRows?1:_props$minRows,style=props.style,value=props.value,other=(0,objectWithoutProperties.Z)(props,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),maxRows=maxRowsProp||rowsMax,minRows=rows||rowsMinProp||minRowsProp,isControlled=react.useRef(null!=value).current,inputRef=react.useRef(null),handleRef=(0,useForkRef.Z)(ref,inputRef),shadowRef=react.useRef(null),renders=react.useRef(0),_React$useState=react.useState({}),state=_React$useState[0],setState=_React$useState[1],syncHeight=react.useCallback((function(){var input=inputRef.current,computedStyle=window.getComputedStyle(input),inputShallow=shadowRef.current;inputShallow.style.width=computedStyle.width,inputShallow.value=input.value||props.placeholder||"x","\n"===inputShallow.value.slice(-1)&&(inputShallow.value+=" ");var boxSizing=computedStyle["box-sizing"],padding=getStyleValue(computedStyle,"padding-bottom")+getStyleValue(computedStyle,"padding-top"),border=getStyleValue(computedStyle,"border-bottom-width")+getStyleValue(computedStyle,"border-top-width"),innerHeight=inputShallow.scrollHeight-padding;inputShallow.value="x";var singleRowHeight=inputShallow.scrollHeight-padding,outerHeight=innerHeight;minRows&&(outerHeight=Math.max(Number(minRows)*singleRowHeight,outerHeight)),maxRows&&(outerHeight=Math.min(Number(maxRows)*singleRowHeight,outerHeight));var outerHeightStyle=(outerHeight=Math.max(outerHeight,singleRowHeight))+("border-box"===boxSizing?padding+border:0),overflow=Math.abs(outerHeight-innerHeight)<=1;setState((function(prevState){return renders.current<20&&(outerHeightStyle>0&&Math.abs((prevState.outerHeightStyle||0)-outerHeightStyle)>1||prevState.overflow!==overflow)?(renders.current+=1,{overflow,outerHeightStyle}):prevState}))}),[maxRows,minRows,props.placeholder]);react.useEffect((function(){var handleResize=(0,debounce.Z)((function(){renders.current=0,syncHeight()}));return window.addEventListener("resize",handleResize),function(){handleResize.clear(),window.removeEventListener("resize",handleResize)}}),[syncHeight]),TextareaAutosize_useEnhancedEffect((function(){syncHeight()})),react.useEffect((function(){renders.current=0}),[value]);return react.createElement(react.Fragment,null,react.createElement("textarea",(0,esm_extends.Z)({value,onChange:function handleChange(event){renders.current=0,isControlled||syncHeight(),onChange&&onChange(event)},ref:handleRef,rows:minRows,style:(0,esm_extends.Z)({height:state.outerHeightStyle,overflow:state.overflow?"hidden":null},style)},other)),react.createElement("textarea",{"aria-hidden":!0,className:props.className,readOnly:!0,ref:shadowRef,tabIndex:-1,style:(0,esm_extends.Z)({},TextareaAutosize_styles_shadow,style)}))}));var InputBase_useEnhancedEffect="undefined"==typeof window?react.useEffect:react.useLayoutEffect,InputBase=react.forwardRef((function InputBase(props,ref){var ariaDescribedby=props["aria-describedby"],autoComplete=props.autoComplete,autoFocus=props.autoFocus,classes=props.classes,className=props.className,defaultValue=(props.color,props.defaultValue),disabled=props.disabled,endAdornment=props.endAdornment,_props$fullWidth=(props.error,props.fullWidth),fullWidth=void 0!==_props$fullWidth&&_props$fullWidth,id=props.id,_props$inputComponent=props.inputComponent,inputComponent=void 0===_props$inputComponent?"input":_props$inputComponent,_props$inputProps=props.inputProps,inputPropsProp=void 0===_props$inputProps?{}:_props$inputProps,inputRefProp=props.inputRef,_props$multiline=(props.margin,props.multiline),multiline=void 0!==_props$multiline&&_props$multiline,name=props.name,onBlur=props.onBlur,onChange=props.onChange,onClick=props.onClick,onFocus=props.onFocus,onKeyDown=props.onKeyDown,onKeyUp=props.onKeyUp,placeholder=props.placeholder,readOnly=props.readOnly,renderSuffix=props.renderSuffix,rows=props.rows,rowsMax=props.rowsMax,rowsMin=props.rowsMin,maxRows=props.maxRows,minRows=props.minRows,startAdornment=props.startAdornment,_props$type=props.type,type=void 0===_props$type?"text":_props$type,valueProp=props.value,other=(0,objectWithoutProperties.Z)(props,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),value=null!=inputPropsProp.value?inputPropsProp.value:valueProp,isControlled=react.useRef(null!=value).current,inputRef=react.useRef(),handleInputRefWarning=react.useCallback((function(instance){0}),[]),handleInputPropsRefProp=(0,useForkRef.Z)(inputPropsProp.ref,handleInputRefWarning),handleInputRefProp=(0,useForkRef.Z)(inputRefProp,handleInputPropsRefProp),handleInputRef=(0,useForkRef.Z)(inputRef,handleInputRefProp),_React$useState=react.useState(!1),focused=_React$useState[0],setFocused=_React$useState[1],muiFormControl=function useFormControl(){return react.useContext(FormControlContext)}();var fcs=formControlState({props,muiFormControl,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});fcs.focused=muiFormControl?muiFormControl.focused:focused,react.useEffect((function(){!muiFormControl&&disabled&&focused&&(setFocused(!1),onBlur&&onBlur())}),[muiFormControl,disabled,focused,onBlur]);var onFilled=muiFormControl&&muiFormControl.onFilled,onEmpty=muiFormControl&&muiFormControl.onEmpty,checkDirty=react.useCallback((function(obj){isFilled(obj)?onFilled&&onFilled():onEmpty&&onEmpty()}),[onFilled,onEmpty]);InputBase_useEnhancedEffect((function(){isControlled&&checkDirty({value})}),[value,checkDirty,isControlled]);react.useEffect((function(){checkDirty(inputRef.current)}),[]);var InputComponent=inputComponent,inputProps=(0,esm_extends.Z)({},inputPropsProp,{ref:handleInputRef});"string"!=typeof InputComponent?inputProps=(0,esm_extends.Z)({inputRef:handleInputRef,type},inputProps,{ref:null}):multiline?!rows||maxRows||minRows||rowsMax||rowsMin?(inputProps=(0,esm_extends.Z)({minRows:rows||minRows,rowsMax,maxRows},inputProps),InputComponent=TextareaAutosize_TextareaAutosize):InputComponent="textarea":inputProps=(0,esm_extends.Z)({type},inputProps);return react.useEffect((function(){muiFormControl&&muiFormControl.setAdornedStart(Boolean(startAdornment))}),[muiFormControl,startAdornment]),react.createElement("div",(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,classes["color".concat((0,capitalize.Z)(fcs.color||"primary"))],className,fcs.disabled&&classes.disabled,fcs.error&&classes.error,fullWidth&&classes.fullWidth,fcs.focused&&classes.focused,muiFormControl&&classes.formControl,multiline&&classes.multiline,startAdornment&&classes.adornedStart,endAdornment&&classes.adornedEnd,"dense"===fcs.margin&&classes.marginDense),onClick:function handleClick(event){inputRef.current&&event.currentTarget===event.target&&inputRef.current.focus(),onClick&&onClick(event)},ref},other),startAdornment,react.createElement(FormControl_FormControlContext.Provider,{value:null},react.createElement(InputComponent,(0,esm_extends.Z)({"aria-invalid":fcs.error,"aria-describedby":ariaDescribedby,autoComplete,autoFocus,defaultValue,disabled:fcs.disabled,id,onAnimationStart:function handleAutoFill(event){checkDirty("mui-auto-fill-cancel"===event.animationName?inputRef.current:{value:"x"})},name,placeholder,readOnly,required:fcs.required,rows,value,onKeyDown,onKeyUp},inputProps,{className:(0,clsx_m.Z)(classes.input,inputPropsProp.className,fcs.disabled&&classes.disabled,multiline&&classes.inputMultiline,fcs.hiddenLabel&&classes.inputHiddenLabel,startAdornment&&classes.inputAdornedStart,endAdornment&&classes.inputAdornedEnd,"search"===type&&classes.inputTypeSearch,"dense"===fcs.margin&&classes.inputMarginDense),onBlur:function handleBlur(event){onBlur&&onBlur(event),inputPropsProp.onBlur&&inputPropsProp.onBlur(event),muiFormControl&&muiFormControl.onBlur?muiFormControl.onBlur(event):setFocused(!1)},onChange:function handleChange(event){if(!isControlled){var element=event.target||inputRef.current;if(null==element)throw new Error((0,formatMuiErrorMessage.Z)(1));checkDirty({value:element.value})}for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];inputPropsProp.onChange&&inputPropsProp.onChange.apply(inputPropsProp,[event].concat(args)),onChange&&onChange.apply(void 0,[event].concat(args))},onFocus:function handleFocus(event){fcs.disabled?event.stopPropagation():(onFocus&&onFocus(event),inputPropsProp.onFocus&&inputPropsProp.onFocus(event),muiFormControl&&muiFormControl.onFocus?muiFormControl.onFocus(event):setFocused(!0))}}))),endAdornment,renderSuffix?renderSuffix((0,esm_extends.Z)({},fcs,{startAdornment})):null)}));const InputBase_InputBase=(0,withStyles.Z)((function styles(theme){var light="light"===theme.palette.type,placeholder={color:"currentColor",opacity:light?.42:.5,transition:theme.transitions.create("opacity",{duration:theme.transitions.duration.shorter})},placeholderHidden={opacity:"0 !important"},placeholderVisible={opacity:light?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,esm_extends.Z)({},theme.typography.body1,{color:theme.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:theme.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":placeholder,"&::-moz-placeholder":placeholder,"&:-ms-input-placeholder":placeholder,"&::-ms-input-placeholder":placeholder,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":placeholderHidden,"&::-moz-placeholder":placeholderHidden,"&:-ms-input-placeholder":placeholderHidden,"&::-ms-input-placeholder":placeholderHidden,"&:focus::-webkit-input-placeholder":placeholderVisible,"&:focus::-moz-placeholder":placeholderVisible,"&:focus:-ms-input-placeholder":placeholderVisible,"&:focus::-ms-input-placeholder":placeholderVisible},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(InputBase);var Input=react.forwardRef((function Input(props,ref){var disableUnderline=props.disableUnderline,classes=props.classes,_props$fullWidth=props.fullWidth,fullWidth=void 0!==_props$fullWidth&&_props$fullWidth,_props$inputComponent=props.inputComponent,inputComponent=void 0===_props$inputComponent?"input":_props$inputComponent,_props$multiline=props.multiline,multiline=void 0!==_props$multiline&&_props$multiline,_props$type=props.type,type=void 0===_props$type?"text":_props$type,other=(0,objectWithoutProperties.Z)(props,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return react.createElement(InputBase_InputBase,(0,esm_extends.Z)({classes:(0,esm_extends.Z)({},classes,{root:(0,clsx_m.Z)(classes.root,!disableUnderline&&classes.underline),underline:null}),fullWidth,inputComponent,multiline,ref,type},other))}));Input.muiName="Input";const Input_Input=(0,withStyles.Z)((function styles(theme){var bottomLineColor="light"===theme.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:theme.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(theme.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:theme.transitions.create("transform",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:theme.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(bottomLineColor),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:theme.transitions.create("border-bottom-color",{duration:theme.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(theme.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(bottomLineColor)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Input);const NativeSelect_NativeSelectInput=react.forwardRef((function NativeSelectInput(props,ref){var classes=props.classes,className=props.className,disabled=props.disabled,IconComponent=props.IconComponent,inputRef=props.inputRef,_props$variant=props.variant,variant=void 0===_props$variant?"standard":_props$variant,other=(0,objectWithoutProperties.Z)(props,["classes","className","disabled","IconComponent","inputRef","variant"]);return react.createElement(react.Fragment,null,react.createElement("select",(0,esm_extends.Z)({className:(0,clsx_m.Z)(classes.root,classes.select,classes[variant],className,disabled&&classes.disabled),disabled,ref:inputRef||ref},other)),props.multiple?null:react.createElement(IconComponent,{className:(0,clsx_m.Z)(classes.icon,classes["icon".concat((0,capitalize.Z)(variant))],disabled&&classes.disabled)}))}));var NativeSelect_styles=function styles(theme){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===theme.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:theme.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:theme.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:theme.palette.action.active,"&$disabled":{color:theme.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},defaultInput=react.createElement(Input_Input,null),NativeSelect=react.forwardRef((function NativeSelect(props,ref){var children=props.children,classes=props.classes,_props$IconComponent=props.IconComponent,IconComponent=void 0===_props$IconComponent?ArrowDropDown:_props$IconComponent,_props$input=props.input,input=void 0===_props$input?defaultInput:_props$input,inputProps=props.inputProps,other=(props.variant,(0,objectWithoutProperties.Z)(props,["children","classes","IconComponent","input","inputProps","variant"])),fcs=formControlState({props,muiFormControl:useFormControl_useFormControl(),states:["variant"]});return react.cloneElement(input,(0,esm_extends.Z)({inputComponent:NativeSelect_NativeSelectInput,inputProps:(0,esm_extends.Z)({children,classes,IconComponent,variant:fcs.variant,type:void 0},inputProps,input?input.props.inputProps:{}),ref},other))}));NativeSelect.muiName="Select";(0,withStyles.Z)(NativeSelect_styles,{name:"MuiNativeSelect"})(NativeSelect);var FilledInput=react.forwardRef((function FilledInput(props,ref){var disableUnderline=props.disableUnderline,classes=props.classes,_props$fullWidth=props.fullWidth,fullWidth=void 0!==_props$fullWidth&&_props$fullWidth,_props$inputComponent=props.inputComponent,inputComponent=void 0===_props$inputComponent?"input":_props$inputComponent,_props$multiline=props.multiline,multiline=void 0!==_props$multiline&&_props$multiline,_props$type=props.type,type=void 0===_props$type?"text":_props$type,other=(0,objectWithoutProperties.Z)(props,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return react.createElement(InputBase_InputBase,(0,esm_extends.Z)({classes:(0,esm_extends.Z)({},classes,{root:(0,clsx_m.Z)(classes.root,!disableUnderline&&classes.underline),underline:null}),fullWidth,inputComponent,multiline,ref,type},other))}));FilledInput.muiName="Input";const FilledInput_FilledInput=(0,withStyles.Z)((function styles(theme){var light="light"===theme.palette.type,bottomLineColor=light?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",backgroundColor=light?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor,borderTopLeftRadius:theme.shape.borderRadius,borderTopRightRadius:theme.shape.borderRadius,transition:theme.transitions.create("background-color",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),"&:hover":{backgroundColor:light?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor}},"&$focused":{backgroundColor:light?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:light?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:theme.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(theme.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:theme.transitions.create("transform",{duration:theme.transitions.duration.shorter,easing:theme.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:theme.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(bottomLineColor),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:theme.transitions.create("border-bottom-color",{duration:theme.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(theme.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===theme.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===theme.palette.type?null:"#fff",caretColor:"light"===theme.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(FilledInput);var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),NotchedOutline=react.forwardRef((function NotchedOutline(props,ref){props.children;var classes=props.classes,className=props.className,label=props.label,labelWidthProp=props.labelWidth,notched=props.notched,style=props.style,other=(0,objectWithoutProperties.Z)(props,["children","classes","className","label","labelWidth","notched","style"]),align="rtl"===(0,useTheme.Z)().direction?"right":"left";if(void 0!==label)return react.createElement("fieldset",(0,esm_extends.Z)({"aria-hidden":!0,className:(0,clsx_m.Z)(classes.root,className),ref,style},other),react.createElement("legend",{className:(0,clsx_m.Z)(classes.legendLabelled,notched&&classes.legendNotched)},label?react.createElement("span",null,label):react.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var labelWidth=labelWidthProp>0?.75*labelWidthProp+8:.01;return react.createElement("fieldset",(0,esm_extends.Z)({"aria-hidden":!0,style:(0,esm_extends.Z)((0,defineProperty.Z)({},"padding".concat((0,capitalize.Z)(align)),8),style),className:(0,clsx_m.Z)(classes.root,className),ref},other),react.createElement("legend",{className:classes.legend,style:{width:notched?labelWidth:.01}},react.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const OutlinedInput_NotchedOutline=(0,withStyles.Z)((function styles(theme){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:theme.transitions.create("width",{duration:150,easing:theme.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:theme.transitions.create("max-width",{duration:50,easing:theme.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:theme.transitions.create("max-width",{duration:100,easing:theme.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(NotchedOutline);var OutlinedInput=react.forwardRef((function OutlinedInput(props,ref){var classes=props.classes,_props$fullWidth=props.fullWidth,fullWidth=void 0!==_props$fullWidth&&_props$fullWidth,_props$inputComponent=props.inputComponent,inputComponent=void 0===_props$inputComponent?"input":_props$inputComponent,label=props.label,_props$labelWidth=props.labelWidth,labelWidth=void 0===_props$labelWidth?0:_props$labelWidth,_props$multiline=props.multiline,multiline=void 0!==_props$multiline&&_props$multiline,notched=props.notched,_props$type=props.type,type=void 0===_props$type?"text":_props$type,other=(0,objectWithoutProperties.Z)(props,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return react.createElement(InputBase_InputBase,(0,esm_extends.Z)({renderSuffix:function renderSuffix(state){return react.createElement(OutlinedInput_NotchedOutline,{className:classes.notchedOutline,label,labelWidth,notched:void 0!==notched?notched:Boolean(state.startAdornment||state.filled||state.focused)})},classes:(0,esm_extends.Z)({},classes,{root:(0,clsx_m.Z)(classes.root,classes.underline),notchedOutline:null}),fullWidth,inputComponent,multiline,ref,type},other))}));OutlinedInput.muiName="Input";const OutlinedInput_OutlinedInput=(0,withStyles.Z)((function styles(theme){var borderColor="light"===theme.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:theme.shape.borderRadius,"&:hover $notchedOutline":{borderColor:theme.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor}},"&$focused $notchedOutline":{borderColor:theme.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:theme.palette.error.main},"&$disabled $notchedOutline":{borderColor:theme.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:theme.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===theme.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===theme.palette.type?null:"#fff",caretColor:"light"===theme.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(OutlinedInput);var Select_styles=NativeSelect_styles,_ref=react.createElement(Input_Input,null),_ref2=react.createElement(FilledInput_FilledInput,null),Select=react.forwardRef((function Select(props,ref){var _props$autoWidth=props.autoWidth,autoWidth=void 0!==_props$autoWidth&&_props$autoWidth,children=props.children,classes=props.classes,_props$displayEmpty=props.displayEmpty,displayEmpty=void 0!==_props$displayEmpty&&_props$displayEmpty,_props$IconComponent=props.IconComponent,IconComponent=void 0===_props$IconComponent?ArrowDropDown:_props$IconComponent,id=props.id,input=props.input,inputProps=props.inputProps,label=props.label,labelId=props.labelId,_props$labelWidth=props.labelWidth,labelWidth=void 0===_props$labelWidth?0:_props$labelWidth,MenuProps=props.MenuProps,_props$multiple=props.multiple,multiple=void 0!==_props$multiple&&_props$multiple,_props$native=props.native,native=void 0!==_props$native&&_props$native,onClose=props.onClose,onOpen=props.onOpen,open=props.open,renderValue=props.renderValue,SelectDisplayProps=props.SelectDisplayProps,_props$variant=props.variant,variantProps=void 0===_props$variant?"standard":_props$variant,other=(0,objectWithoutProperties.Z)(props,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),inputComponent=native?NativeSelect_NativeSelectInput:Select_SelectInput,variant=formControlState({props,muiFormControl:useFormControl_useFormControl(),states:["variant"]}).variant||variantProps,InputComponent=input||{standard:_ref,outlined:react.createElement(OutlinedInput_OutlinedInput,{label,labelWidth}),filled:_ref2}[variant];return react.cloneElement(InputComponent,(0,esm_extends.Z)({inputComponent,inputProps:(0,esm_extends.Z)({children,IconComponent,variant,type:void 0,multiple},native?{id}:{autoWidth,displayEmpty,labelId,MenuProps,onClose,onOpen,open,renderValue,SelectDisplayProps:(0,esm_extends.Z)({id},SelectDisplayProps)},inputProps,{classes:inputProps?(0,mergeClasses.Z)({baseClasses:classes,newClasses:inputProps.classes,Component:Select}):classes},input?input.props.inputProps:{}),ref},other))}));Select.muiName="Select";const Select_Select=(0,withStyles.Z)(Select_styles,{name:"MuiSelect"})(Select)},"./node_modules/@material-ui/core/esm/Typography/Typography.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/withStyles.js"),_utils_capitalize__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/esm/utils/capitalize.js"),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Typography=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Typography(props,ref){var _props$align=props.align,align=void 0===_props$align?"inherit":_props$align,classes=props.classes,className=props.className,_props$color=props.color,color=void 0===_props$color?"initial":_props$color,component=props.component,_props$display=props.display,display=void 0===_props$display?"initial":_props$display,_props$gutterBottom=props.gutterBottom,gutterBottom=void 0!==_props$gutterBottom&&_props$gutterBottom,_props$noWrap=props.noWrap,noWrap=void 0!==_props$noWrap&&_props$noWrap,_props$paragraph=props.paragraph,paragraph=void 0!==_props$paragraph&&_props$paragraph,_props$variant=props.variant,variant=void 0===_props$variant?"body1":_props$variant,_props$variantMapping=props.variantMapping,variantMapping=void 0===_props$variantMapping?defaultVariantMapping:_props$variantMapping,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.Z)(props,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),Component=component||(paragraph?"p":variantMapping[variant]||defaultVariantMapping[variant])||"span";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_2__.Z)({className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)(classes.root,className,"inherit"!==variant&&classes[variant],"initial"!==color&&classes["color".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_4__.Z)(color))],noWrap&&classes.noWrap,gutterBottom&&classes.gutterBottom,paragraph&&classes.paragraph,"inherit"!==align&&classes["align".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_4__.Z)(align))],"initial"!==display&&classes["display".concat((0,_utils_capitalize__WEBPACK_IMPORTED_MODULE_4__.Z)(display))]),ref},other))}));const __WEBPACK_DEFAULT_EXPORT__=(0,_styles_withStyles__WEBPACK_IMPORTED_MODULE_5__.Z)((function styles(theme){return{root:{margin:0},body2:theme.typography.body2,body1:theme.typography.body1,caption:theme.typography.caption,button:theme.typography.button,h1:theme.typography.h1,h2:theme.typography.h2,h3:theme.typography.h3,h4:theme.typography.h4,h5:theme.typography.h5,h6:theme.typography.h6,subtitle1:theme.typography.subtitle1,subtitle2:theme.typography.subtitle2,overline:theme.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:theme.palette.primary.main},colorSecondary:{color:theme.palette.secondary.main},colorTextPrimary:{color:theme.palette.text.primary},colorTextSecondary:{color:theme.palette.text.secondary},colorError:{color:theme.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Typography)},"./node_modules/@material-ui/core/esm/styles/createBreakpoints.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>keys,Z:()=>createBreakpoints});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),keys=["xs","sm","md","lg","xl"];function createBreakpoints(breakpoints){var _breakpoints$values=breakpoints.values,values=void 0===_breakpoints$values?{xs:0,sm:600,md:960,lg:1280,xl:1920}:_breakpoints$values,_breakpoints$unit=breakpoints.unit,unit=void 0===_breakpoints$unit?"px":_breakpoints$unit,_breakpoints$step=breakpoints.step,step=void 0===_breakpoints$step?5:_breakpoints$step,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.Z)(breakpoints,["values","unit","step"]);function up(key){var value="number"==typeof values[key]?values[key]:key;return"@media (min-width:".concat(value).concat(unit,")")}function between(start,end){var endIndex=keys.indexOf(end);return endIndex===keys.length-1?up(start):"@media (min-width:".concat("number"==typeof values[start]?values[start]:start).concat(unit,") and ")+"(max-width:".concat((-1!==endIndex&&"number"==typeof values[keys[endIndex+1]]?values[keys[endIndex+1]]:end)-step/100).concat(unit,")")}return(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({keys,values,up,down:function down(key){var endIndex=keys.indexOf(key)+1,upperbound=values[keys[endIndex]];return endIndex===keys.length?up("xs"):"@media (max-width:".concat(("number"==typeof upperbound&&endIndex>0?upperbound:key)-step/100).concat(unit,")")},between,only:function only(key){return between(key,key)},width:function width(key){return values[key]}},other)}},"./node_modules/@material-ui/core/esm/styles/createTheme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>styles_createTheme});var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),deepmerge=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/deepmerge.js"),createBreakpoints=__webpack_require__("./node_modules/@material-ui/core/esm/styles/createBreakpoints.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");function createMixins(breakpoints,spacing,mixins){var _toolbar;return(0,esm_extends.Z)({gutters:function gutters(){var styles=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,esm_extends.Z)({paddingLeft:spacing(2),paddingRight:spacing(2)},styles,(0,defineProperty.Z)({},breakpoints.up("sm"),(0,esm_extends.Z)({paddingLeft:spacing(3),paddingRight:spacing(3)},styles[breakpoints.up("sm")])))},toolbar:(_toolbar={minHeight:56},(0,defineProperty.Z)(_toolbar,"".concat(breakpoints.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,defineProperty.Z)(_toolbar,breakpoints.up("sm"),{minHeight:64}),_toolbar)},mixins)}var formatMuiErrorMessage=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js");const colors_common={black:"#000",white:"#fff"};const colors_grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const colors_indigo={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const colors_pink={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const colors_red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const colors_orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const colors_blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const colors_green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function clamp(value){var min=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,max=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(min,value),max)}function decomposeColor(color){if(color.type)return color;if("#"===color.charAt(0))return decomposeColor(function hexToRgb(color){color=color.substr(1);var re=new RegExp(".{1,".concat(color.length>=6?2:1,"}"),"g"),colors=color.match(re);return colors&&1===colors[0].length&&(colors=colors.map((function(n){return n+n}))),colors?"rgb".concat(4===colors.length?"a":"","(").concat(colors.map((function(n,index){return index<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3})).join(", "),")"):""}(color));var marker=color.indexOf("("),type=color.substring(0,marker);if(-1===["rgb","rgba","hsl","hsla"].indexOf(type))throw new Error((0,formatMuiErrorMessage.Z)(3,color));var values=color.substring(marker+1,color.length-1).split(",");return{type,values:values=values.map((function(value){return parseFloat(value)}))}}function recomposeColor(color){var type=color.type,values=color.values;return-1!==type.indexOf("rgb")?values=values.map((function(n,i){return i<3?parseInt(n,10):n})):-1!==type.indexOf("hsl")&&(values[1]="".concat(values[1],"%"),values[2]="".concat(values[2],"%")),"".concat(type,"(").concat(values.join(", "),")")}function getLuminance(color){var rgb="hsl"===(color=decomposeColor(color)).type?decomposeColor(function hslToRgb(color){var values=(color=decomposeColor(color)).values,h=values[0],s=values[1]/100,l=values[2]/100,a=s*Math.min(l,1-l),f=function f(n){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+h/30)%12;return l-a*Math.max(Math.min(k-3,9-k,1),-1)},type="rgb",rgb=[Math.round(255*f(0)),Math.round(255*f(8)),Math.round(255*f(4))];return"hsla"===color.type&&(type+="a",rgb.push(values[3])),recomposeColor({type,values:rgb})}(color)).values:color.values;return rgb=rgb.map((function(val){return(val/=255)<=.03928?val/12.92:Math.pow((val+.055)/1.055,2.4)})),Number((.2126*rgb[0]+.7152*rgb[1]+.0722*rgb[2]).toFixed(3))}function darken(color,coefficient){if(color=decomposeColor(color),coefficient=clamp(coefficient),-1!==color.type.indexOf("hsl"))color.values[2]*=1-coefficient;else if(-1!==color.type.indexOf("rgb"))for(var i=0;i<3;i+=1)color.values[i]*=1-coefficient;return recomposeColor(color)}function lighten(color,coefficient){if(color=decomposeColor(color),coefficient=clamp(coefficient),-1!==color.type.indexOf("hsl"))color.values[2]+=(100-color.values[2])*coefficient;else if(-1!==color.type.indexOf("rgb"))for(var i=0;i<3;i+=1)color.values[i]+=(255-color.values[i])*coefficient;return recomposeColor(color)}var light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:colors_common.white,default:colors_grey[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:colors_common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:colors_grey[800],default:"#303030"},action:{active:colors_common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(intent,direction,shade,tonalOffset){var tonalOffsetLight=tonalOffset.light||tonalOffset,tonalOffsetDark=tonalOffset.dark||1.5*tonalOffset;intent[direction]||(intent.hasOwnProperty(shade)?intent[direction]=intent[shade]:"light"===direction?intent.light=lighten(intent.main,tonalOffsetLight):"dark"===direction&&(intent.dark=darken(intent.main,tonalOffsetDark)))}function createPalette(palette){var _palette$primary=palette.primary,primary=void 0===_palette$primary?{light:colors_indigo[300],main:colors_indigo[500],dark:colors_indigo[700]}:_palette$primary,_palette$secondary=palette.secondary,secondary=void 0===_palette$secondary?{light:colors_pink.A200,main:colors_pink.A400,dark:colors_pink.A700}:_palette$secondary,_palette$error=palette.error,error=void 0===_palette$error?{light:colors_red[300],main:colors_red[500],dark:colors_red[700]}:_palette$error,_palette$warning=palette.warning,warning=void 0===_palette$warning?{light:colors_orange[300],main:colors_orange[500],dark:colors_orange[700]}:_palette$warning,_palette$info=palette.info,info=void 0===_palette$info?{light:colors_blue[300],main:colors_blue[500],dark:colors_blue[700]}:_palette$info,_palette$success=palette.success,success=void 0===_palette$success?{light:colors_green[300],main:colors_green[500],dark:colors_green[700]}:_palette$success,_palette$type=palette.type,type=void 0===_palette$type?"light":_palette$type,_palette$contrastThre=palette.contrastThreshold,contrastThreshold=void 0===_palette$contrastThre?3:_palette$contrastThre,_palette$tonalOffset=palette.tonalOffset,tonalOffset=void 0===_palette$tonalOffset?.2:_palette$tonalOffset,other=(0,objectWithoutProperties.Z)(palette,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function getContrastText(background){var contrastText=function getContrastRatio(foreground,background){var lumA=getLuminance(foreground),lumB=getLuminance(background);return(Math.max(lumA,lumB)+.05)/(Math.min(lumA,lumB)+.05)}(background,dark.text.primary)>=contrastThreshold?dark.text.primary:light.text.primary;return contrastText}var augmentColor=function augmentColor(color){var mainShade=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,lightShade=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,darkShade=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(color=(0,esm_extends.Z)({},color)).main&&color[mainShade]&&(color.main=color[mainShade]),!color.main)throw new Error((0,formatMuiErrorMessage.Z)(4,mainShade));if("string"!=typeof color.main)throw new Error((0,formatMuiErrorMessage.Z)(5,JSON.stringify(color.main)));return addLightOrDark(color,"light",lightShade,tonalOffset),addLightOrDark(color,"dark",darkShade,tonalOffset),color.contrastText||(color.contrastText=getContrastText(color.main)),color},types={dark,light};return(0,deepmerge.Z)((0,esm_extends.Z)({common:colors_common,type,primary:augmentColor(primary),secondary:augmentColor(secondary,"A400","A200","A700"),error:augmentColor(error),warning:augmentColor(warning),info:augmentColor(info),success:augmentColor(success),grey:colors_grey,contrastThreshold,getContrastText,augmentColor,tonalOffset},types[type]),other)}function round(value){return Math.round(1e5*value)/1e5}function roundWithDeprecationWarning(value){return round(value)}var caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(palette,typography){var _ref="function"==typeof typography?typography(palette):typography,_ref$fontFamily=_ref.fontFamily,fontFamily=void 0===_ref$fontFamily?defaultFontFamily:_ref$fontFamily,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?14:_ref$fontSize,_ref$fontWeightLight=_ref.fontWeightLight,fontWeightLight=void 0===_ref$fontWeightLight?300:_ref$fontWeightLight,_ref$fontWeightRegula=_ref.fontWeightRegular,fontWeightRegular=void 0===_ref$fontWeightRegula?400:_ref$fontWeightRegula,_ref$fontWeightMedium=_ref.fontWeightMedium,fontWeightMedium=void 0===_ref$fontWeightMedium?500:_ref$fontWeightMedium,_ref$fontWeightBold=_ref.fontWeightBold,fontWeightBold=void 0===_ref$fontWeightBold?700:_ref$fontWeightBold,_ref$htmlFontSize=_ref.htmlFontSize,htmlFontSize=void 0===_ref$htmlFontSize?16:_ref$htmlFontSize,allVariants=_ref.allVariants,pxToRem2=_ref.pxToRem,other=(0,objectWithoutProperties.Z)(_ref,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var coef=fontSize/14,pxToRem=pxToRem2||function(size){return"".concat(size/htmlFontSize*coef,"rem")},buildVariant=function buildVariant(fontWeight,size,lineHeight,letterSpacing,casing){return(0,esm_extends.Z)({fontFamily,fontWeight,fontSize:pxToRem(size),lineHeight},fontFamily===defaultFontFamily?{letterSpacing:"".concat(round(letterSpacing/size),"em")}:{},casing,allVariants)},variants={h1:buildVariant(fontWeightLight,96,1.167,-1.5),h2:buildVariant(fontWeightLight,60,1.2,-.5),h3:buildVariant(fontWeightRegular,48,1.167,0),h4:buildVariant(fontWeightRegular,34,1.235,.25),h5:buildVariant(fontWeightRegular,24,1.334,0),h6:buildVariant(fontWeightMedium,20,1.6,.15),subtitle1:buildVariant(fontWeightRegular,16,1.75,.15),subtitle2:buildVariant(fontWeightMedium,14,1.57,.1),body1:buildVariant(fontWeightRegular,16,1.5,.15),body2:buildVariant(fontWeightRegular,14,1.43,.15),button:buildVariant(fontWeightMedium,14,1.75,.4,caseAllCaps),caption:buildVariant(fontWeightRegular,12,1.66,.4),overline:buildVariant(fontWeightRegular,12,2.66,1,caseAllCaps)};return(0,deepmerge.Z)((0,esm_extends.Z)({htmlFontSize,pxToRem,round:roundWithDeprecationWarning,fontFamily,fontSize,fontWeightLight,fontWeightRegular,fontWeightMedium,fontWeightBold},variants),other,{clone:!1})}function createShadow(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const styles_shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)];const styles_shape={borderRadius:4};var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js"),values={xs:0,sm:600,md:960,lg:1280,xl:1920},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:function up(key){return"@media (min-width:".concat(values[key],"px)")}};const esm_merge=function merge_merge(acc,item){return item?(0,deepmerge.Z)(acc,item,{clone:!1}):acc};var properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=function memoize(fn){var cache={};return function(arg){return void 0===cache[arg]&&(cache[arg]=fn(arg)),cache[arg]}}((function(prop){if(prop.length>2){if(!aliases[prop])return[prop];prop=aliases[prop]}var _prop$split=prop.split(""),_prop$split2=(0,slicedToArray.Z)(_prop$split,2),a=_prop$split2[0],b=_prop$split2[1],property=properties[a],direction=directions[b]||"";return Array.isArray(direction)?direction.map((function(dir){return property+dir})):[property+direction]})),spacingKeys=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function createUnarySpacing(theme){var themeSpacing=theme.spacing||8;return"number"==typeof themeSpacing?function(abs){return themeSpacing*abs}:Array.isArray(themeSpacing)?function(abs){return themeSpacing[abs]}:"function"==typeof themeSpacing?themeSpacing:function(){}}function getStyleFromPropValue(cssProperties,transformer){return function(propValue){return cssProperties.reduce((function(acc,cssProperty){return acc[cssProperty]=function getValue(transformer,propValue){if("string"==typeof propValue||null==propValue)return propValue;var transformed=transformer(Math.abs(propValue));return propValue>=0?transformed:"number"==typeof transformed?-transformed:"-".concat(transformed)}(transformer,propValue),acc}),{})}}function spacing(props){var transformer=createUnarySpacing(props.theme);return Object.keys(props).map((function(prop){if(-1===spacingKeys.indexOf(prop))return null;var styleFromPropValue=getStyleFromPropValue(getCssProperties(prop),transformer),propValue=props[prop];return function handleBreakpoints(props,propValue,styleFromPropValue){if(Array.isArray(propValue)){var themeBreakpoints=props.theme.breakpoints||defaultBreakpoints;return propValue.reduce((function(acc,item,index){return acc[themeBreakpoints.up(themeBreakpoints.keys[index])]=styleFromPropValue(propValue[index]),acc}),{})}if("object"===(0,esm_typeof.Z)(propValue)){var _themeBreakpoints=props.theme.breakpoints||defaultBreakpoints;return Object.keys(propValue).reduce((function(acc,breakpoint){return acc[_themeBreakpoints.up(breakpoint)]=styleFromPropValue(propValue[breakpoint]),acc}),{})}return styleFromPropValue(propValue)}(props,propValue,styleFromPropValue)})).reduce(esm_merge,{})}spacing.propTypes={},spacing.filterProps=spacingKeys;var transitions=__webpack_require__("./node_modules/@material-ui/core/esm/styles/transitions.js"),zIndex=__webpack_require__("./node_modules/@material-ui/core/esm/styles/zIndex.js");function createTheme(){for(var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$breakpoints=options.breakpoints,breakpointsInput=void 0===_options$breakpoints?{}:_options$breakpoints,_options$mixins=options.mixins,mixinsInput=void 0===_options$mixins?{}:_options$mixins,_options$palette=options.palette,paletteInput=void 0===_options$palette?{}:_options$palette,spacingInput=options.spacing,_options$typography=options.typography,typographyInput=void 0===_options$typography?{}:_options$typography,other=(0,objectWithoutProperties.Z)(options,["breakpoints","mixins","palette","spacing","typography"]),palette=createPalette(paletteInput),breakpoints=(0,createBreakpoints.Z)(breakpointsInput),spacing=function createSpacing(){var spacingInput=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(spacingInput.mui)return spacingInput;var transform=createUnarySpacing({spacing:spacingInput}),spacing=function spacing(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return 0===args.length?transform(1):1===args.length?transform(args[0]):args.map((function(argument){if("string"==typeof argument)return argument;var output=transform(argument);return"number"==typeof output?"".concat(output,"px"):output})).join(" ")};return Object.defineProperty(spacing,"unit",{get:function get(){return spacingInput}}),spacing.mui=!0,spacing}(spacingInput),muiTheme=(0,deepmerge.Z)({breakpoints,direction:"ltr",mixins:createMixins(breakpoints,spacing,mixinsInput),overrides:{},palette,props:{},shadows:styles_shadows,typography:createTypography(palette,typographyInput),spacing,shape:styles_shape,transitions:transitions.ZP,zIndex:zIndex.Z},other),_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return muiTheme=args.reduce((function(acc,argument){return(0,deepmerge.Z)(acc,argument)}),muiTheme)}const styles_createTheme=createTheme},"./node_modules/@material-ui/core/esm/styles/defaultTheme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/@material-ui/core/esm/styles/createTheme.js").Z)()},"./node_modules/@material-ui/core/esm/styles/transitions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,x9:()=>duration});var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(milliseconds){return"".concat(Math.round(milliseconds),"ms")}const __WEBPACK_DEFAULT_EXPORT__={easing,duration,create:function create(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$duration=options.duration,durationOption=void 0===_options$duration?duration.standard:_options$duration,_options$easing=options.easing,easingOption=void 0===_options$easing?easing.easeInOut:_options$easing,_options$delay=options.delay,delay=void 0===_options$delay?0:_options$delay;(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.Z)(options,["duration","easing","delay"]);return(Array.isArray(props)?props:[props]).map((function(animatedProp){return"".concat(animatedProp," ").concat("string"==typeof durationOption?durationOption:formatMs(durationOption)," ").concat(easingOption," ").concat("string"==typeof delay?delay:formatMs(delay))})).join(",")},getAutoHeightDuration:function getAutoHeightDuration(height){if(!height)return 0;var constant=height/36;return Math.round(10*(4+15*Math.pow(constant,.25)+constant/5))}}},"./node_modules/@material-ui/core/esm/styles/useTheme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useTheme});var _material_ui_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),_defaultTheme__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@material-ui/core/esm/styles/defaultTheme.js"));function useTheme(){return(0,_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__.Z)()||_defaultTheme__WEBPACK_IMPORTED_MODULE_2__.Z}},"./node_modules/@material-ui/core/esm/styles/withStyles.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>styles_withStyles});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),hoist_non_react_statics_cjs=__webpack_require__("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};const dist_module="object"===("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof document?"undefined":_typeof(document))&&9===document.nodeType;var createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inheritsLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),assertThisInitialized=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),plainObjectConstrurctor={}.constructor;function cloneStyle(style){if(null==style||"object"!=typeof style)return style;if(Array.isArray(style))return style.map(cloneStyle);if(style.constructor!==plainObjectConstrurctor)return style;var newStyle={};for(var name in style)newStyle[name]=cloneStyle(style[name]);return newStyle}function createRule(name,decl,options){void 0===name&&(name="unnamed");var jss=options.jss,declCopy=cloneStyle(decl),rule=jss.plugins.onCreateRule(name,declCopy,options);return rule||(name[0],null)}var join=function join(value,by){for(var result="",i=0;i<value.length&&"!important"!==value[i];i++)result&&(result+=by),result+=value[i];return result},toCssValue=function toCssValue(value){if(!Array.isArray(value))return value;var cssValue="";if(Array.isArray(value[0]))for(var i=0;i<value.length&&"!important"!==value[i];i++)cssValue&&(cssValue+=", "),cssValue+=join(value[i]," ");else cssValue=join(value,", ");return"!important"===value[value.length-1]&&(cssValue+=" !important"),cssValue};function getWhitespaceSymbols(options){return options&&!1===options.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function indentStr(str,indent){for(var result="",index=0;index<indent;index++)result+="  ";return result+str}function toCss(selector,style,options){void 0===options&&(options={});var result="";if(!style)return result;var _options$indent=options.indent,indent=void 0===_options$indent?0:_options$indent,fallbacks=style.fallbacks;!1===options.format&&(indent=-1/0);var _getWhitespaceSymbols=getWhitespaceSymbols(options),linebreak=_getWhitespaceSymbols.linebreak,space=_getWhitespaceSymbols.space;if(selector&&indent++,fallbacks)if(Array.isArray(fallbacks))for(var index=0;index<fallbacks.length;index++){var fallback=fallbacks[index];for(var prop in fallback){var value=fallback[prop];null!=value&&(result&&(result+=linebreak),result+=indentStr(prop+":"+space+toCssValue(value)+";",indent))}}else for(var _prop in fallbacks){var _value=fallbacks[_prop];null!=_value&&(result&&(result+=linebreak),result+=indentStr(_prop+":"+space+toCssValue(_value)+";",indent))}for(var _prop2 in style){var _value2=style[_prop2];null!=_value2&&"fallbacks"!==_prop2&&(result&&(result+=linebreak),result+=indentStr(_prop2+":"+space+toCssValue(_value2)+";",indent))}return(result||options.allowEmpty)&&selector?(result&&(result=""+linebreak+result+linebreak),indentStr(""+selector+space+"{"+result,--indent)+indentStr("}",indent)):result}var escapeRegex=/([[\].#*$><+~=|^:(),"'`\s])/g,nativeEscape="undefined"!=typeof CSS&&CSS.escape,jss_esm_escape=function(str){return nativeEscape?nativeEscape(str):str.replace(escapeRegex,"\\$1")},BaseStyleRule=function(){function BaseStyleRule(key,style,options){this.type="style",this.isProcessed=!1;var sheet=options.sheet,Renderer=options.Renderer;this.key=key,this.options=options,this.style=style,sheet?this.renderer=sheet.renderer:Renderer&&(this.renderer=new Renderer)}return BaseStyleRule.prototype.prop=function prop(name,value,options){if(void 0===value)return this.style[name];var force=!!options&&options.force;if(!force&&this.style[name]===value)return this;var newValue=value;options&&!1===options.process||(newValue=this.options.jss.plugins.onChangeValue(value,name,this));var isEmpty=null==newValue||!1===newValue,isDefined=name in this.style;if(isEmpty&&!isDefined&&!force)return this;var remove=isEmpty&&isDefined;if(remove?delete this.style[name]:this.style[name]=newValue,this.renderable&&this.renderer)return remove?this.renderer.removeProperty(this.renderable,name):this.renderer.setProperty(this.renderable,name,newValue),this;var sheet=this.options.sheet;return sheet&&sheet.attached,this},BaseStyleRule}(),StyleRule=function(_BaseStyleRule){function StyleRule(key,style,options){var _this;_this=_BaseStyleRule.call(this,key,style,options)||this;var selector=options.selector,scoped=options.scoped,sheet=options.sheet,generateId=options.generateId;return selector?_this.selectorText=selector:!1!==scoped&&(_this.id=generateId((0,assertThisInitialized.Z)((0,assertThisInitialized.Z)(_this)),sheet),_this.selectorText="."+jss_esm_escape(_this.id)),_this}(0,inheritsLoose.Z)(StyleRule,_BaseStyleRule);var _proto2=StyleRule.prototype;return _proto2.applyTo=function applyTo(renderable){var renderer=this.renderer;if(renderer){var json=this.toJSON();for(var prop in json)renderer.setProperty(renderable,prop,json[prop])}return this},_proto2.toJSON=function toJSON(){var json={};for(var prop in this.style){var value=this.style[prop];"object"!=typeof value?json[prop]=value:Array.isArray(value)&&(json[prop]=toCssValue(value))}return json},_proto2.toString=function toString(options){var sheet=this.options.sheet,opts=!!sheet&&sheet.options.link?(0,esm_extends.Z)({},options,{allowEmpty:!0}):options;return toCss(this.selectorText,this.style,opts)},(0,createClass.Z)(StyleRule,[{key:"selector",set:function set(selector){if(selector!==this.selectorText){this.selectorText=selector;var renderer=this.renderer,renderable=this.renderable;if(renderable&&renderer)renderer.setSelector(renderable,selector)||renderer.replaceRule(renderable,this)}},get:function get(){return this.selectorText}}]),StyleRule}(BaseStyleRule),pluginStyleRule={onCreateRule:function onCreateRule(key,style,options){return"@"===key[0]||options.parent&&"keyframes"===options.parent.type?null:new StyleRule(key,style,options)}},defaultToStringOptions={indent:1,children:!0},atRegExp=/@([\w-]+)/,ConditionalRule=function(){function ConditionalRule(key,styles,options){this.type="conditional",this.isProcessed=!1,this.key=key;var atMatch=key.match(atRegExp);for(var name in this.at=atMatch?atMatch[1]:"unknown",this.query=options.name||"@"+this.at,this.options=options,this.rules=new RuleList((0,esm_extends.Z)({},options,{parent:this})),styles)this.rules.add(name,styles[name]);this.rules.process()}var _proto=ConditionalRule.prototype;return _proto.getRule=function getRule(name){return this.rules.get(name)},_proto.indexOf=function indexOf(rule){return this.rules.indexOf(rule)},_proto.addRule=function addRule(name,style,options){var rule=this.rules.add(name,style,options);return rule?(this.options.jss.plugins.onProcessRule(rule),rule):null},_proto.replaceRule=function replaceRule(name,style,options){var newRule=this.rules.replace(name,style,options);return newRule&&this.options.jss.plugins.onProcessRule(newRule),newRule},_proto.toString=function toString(options){void 0===options&&(options=defaultToStringOptions);var linebreak=getWhitespaceSymbols(options).linebreak;if(null==options.indent&&(options.indent=defaultToStringOptions.indent),null==options.children&&(options.children=defaultToStringOptions.children),!1===options.children)return this.query+" {}";var children=this.rules.toString(options);return children?this.query+" {"+linebreak+children+linebreak+"}":""},ConditionalRule}(),keyRegExp=/@container|@media|@supports\s+/,pluginConditionalRule={onCreateRule:function onCreateRule(key,styles,options){return keyRegExp.test(key)?new ConditionalRule(key,styles,options):null}},defaultToStringOptions$1={indent:1,children:!0},nameRegExp=/@keyframes\s+([\w-]+)/,KeyframesRule=function(){function KeyframesRule(key,frames,options){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var nameMatch=key.match(nameRegExp);nameMatch&&nameMatch[1]?this.name=nameMatch[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=options;var scoped=options.scoped,sheet=options.sheet,generateId=options.generateId;for(var name in this.id=!1===scoped?this.name:jss_esm_escape(generateId(this,sheet)),this.rules=new RuleList((0,esm_extends.Z)({},options,{parent:this})),frames)this.rules.add(name,frames[name],(0,esm_extends.Z)({},options,{parent:this}));this.rules.process()}return KeyframesRule.prototype.toString=function toString(options){void 0===options&&(options=defaultToStringOptions$1);var linebreak=getWhitespaceSymbols(options).linebreak;if(null==options.indent&&(options.indent=defaultToStringOptions$1.indent),null==options.children&&(options.children=defaultToStringOptions$1.children),!1===options.children)return this.at+" "+this.id+" {}";var children=this.rules.toString(options);return children&&(children=""+linebreak+children+linebreak),this.at+" "+this.id+" {"+children+"}"},KeyframesRule}(),keyRegExp$1=/@keyframes\s+/,refRegExp=/\$([\w-]+)/g,findReferencedKeyframe=function findReferencedKeyframe(val,keyframes){return"string"==typeof val?val.replace(refRegExp,(function(match,name){return name in keyframes?keyframes[name]:match})):val},replaceRef=function replaceRef(style,prop,keyframes){var value=style[prop],refKeyframe=findReferencedKeyframe(value,keyframes);refKeyframe!==value&&(style[prop]=refKeyframe)},pluginKeyframesRule={onCreateRule:function onCreateRule(key,frames,options){return"string"==typeof key&&keyRegExp$1.test(key)?new KeyframesRule(key,frames,options):null},onProcessStyle:function onProcessStyle(style,rule,sheet){return"style"===rule.type&&sheet?("animation-name"in style&&replaceRef(style,"animation-name",sheet.keyframes),"animation"in style&&replaceRef(style,"animation",sheet.keyframes),style):style},onChangeValue:function onChangeValue(val,prop,rule){var sheet=rule.options.sheet;if(!sheet)return val;switch(prop){case"animation":case"animation-name":return findReferencedKeyframe(val,sheet.keyframes);default:return val}}},KeyframeRule=function(_BaseStyleRule){function KeyframeRule(){return _BaseStyleRule.apply(this,arguments)||this}return(0,inheritsLoose.Z)(KeyframeRule,_BaseStyleRule),KeyframeRule.prototype.toString=function toString(options){var sheet=this.options.sheet,opts=!!sheet&&sheet.options.link?(0,esm_extends.Z)({},options,{allowEmpty:!0}):options;return toCss(this.key,this.style,opts)},KeyframeRule}(BaseStyleRule),pluginKeyframeRule={onCreateRule:function onCreateRule(key,style,options){return options.parent&&"keyframes"===options.parent.type?new KeyframeRule(key,style,options):null}},FontFaceRule=function(){function FontFaceRule(key,style,options){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=key,this.style=style,this.options=options}return FontFaceRule.prototype.toString=function toString(options){var linebreak=getWhitespaceSymbols(options).linebreak;if(Array.isArray(this.style)){for(var str="",index=0;index<this.style.length;index++)str+=toCss(this.at,this.style[index]),this.style[index+1]&&(str+=linebreak);return str}return toCss(this.at,this.style,options)},FontFaceRule}(),keyRegExp$2=/@font-face/,pluginFontFaceRule={onCreateRule:function onCreateRule(key,style,options){return keyRegExp$2.test(key)?new FontFaceRule(key,style,options):null}},ViewportRule=function(){function ViewportRule(key,style,options){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=key,this.style=style,this.options=options}return ViewportRule.prototype.toString=function toString(options){return toCss(this.key,this.style,options)},ViewportRule}(),pluginViewportRule={onCreateRule:function onCreateRule(key,style,options){return"@viewport"===key||"@-ms-viewport"===key?new ViewportRule(key,style,options):null}},SimpleRule=function(){function SimpleRule(key,value,options){this.type="simple",this.isProcessed=!1,this.key=key,this.value=value,this.options=options}return SimpleRule.prototype.toString=function toString(options){if(Array.isArray(this.value)){for(var str="",index=0;index<this.value.length;index++)str+=this.key+" "+this.value[index]+";",this.value[index+1]&&(str+="\n");return str}return this.key+" "+this.value+";"},SimpleRule}(),keysMap={"@charset":!0,"@import":!0,"@namespace":!0},pluginSimpleRule={onCreateRule:function onCreateRule(key,value,options){return key in keysMap?new SimpleRule(key,value,options):null}},plugins=[pluginStyleRule,pluginConditionalRule,pluginKeyframesRule,pluginKeyframeRule,pluginFontFaceRule,pluginViewportRule,pluginSimpleRule],defaultUpdateOptions={process:!0},forceUpdateOptions={force:!0,process:!0},RuleList=function(){function RuleList(options){this.map={},this.raw={},this.index=[],this.counter=0,this.options=options,this.classes=options.classes,this.keyframes=options.keyframes}var _proto=RuleList.prototype;return _proto.add=function add(name,decl,ruleOptions){var _this$options=this.options,parent=_this$options.parent,sheet=_this$options.sheet,jss=_this$options.jss,Renderer=_this$options.Renderer,generateId=_this$options.generateId,scoped=_this$options.scoped,options=(0,esm_extends.Z)({classes:this.classes,parent,sheet,jss,Renderer,generateId,scoped,name,keyframes:this.keyframes,selector:void 0},ruleOptions),key=name;name in this.raw&&(key=name+"-d"+this.counter++),this.raw[key]=decl,key in this.classes&&(options.selector="."+jss_esm_escape(this.classes[key]));var rule=createRule(key,decl,options);if(!rule)return null;this.register(rule);var index=void 0===options.index?this.index.length:options.index;return this.index.splice(index,0,rule),rule},_proto.replace=function replace(name,decl,ruleOptions){var oldRule=this.get(name),oldIndex=this.index.indexOf(oldRule);oldRule&&this.remove(oldRule);var options=ruleOptions;return-1!==oldIndex&&(options=(0,esm_extends.Z)({},ruleOptions,{index:oldIndex})),this.add(name,decl,options)},_proto.get=function get(nameOrSelector){return this.map[nameOrSelector]},_proto.remove=function remove(rule){this.unregister(rule),delete this.raw[rule.key],this.index.splice(this.index.indexOf(rule),1)},_proto.indexOf=function indexOf(rule){return this.index.indexOf(rule)},_proto.process=function process(){var plugins=this.options.jss.plugins;this.index.slice(0).forEach(plugins.onProcessRule,plugins)},_proto.register=function register(rule){this.map[rule.key]=rule,rule instanceof StyleRule?(this.map[rule.selector]=rule,rule.id&&(this.classes[rule.key]=rule.id)):rule instanceof KeyframesRule&&this.keyframes&&(this.keyframes[rule.name]=rule.id)},_proto.unregister=function unregister(rule){delete this.map[rule.key],rule instanceof StyleRule?(delete this.map[rule.selector],delete this.classes[rule.key]):rule instanceof KeyframesRule&&delete this.keyframes[rule.name]},_proto.update=function update(){var name,data,options;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(name=arguments.length<=0?void 0:arguments[0],data=arguments.length<=1?void 0:arguments[1],options=arguments.length<=2?void 0:arguments[2]):(data=arguments.length<=0?void 0:arguments[0],options=arguments.length<=1?void 0:arguments[1],name=null),name)this.updateOne(this.get(name),data,options);else for(var index=0;index<this.index.length;index++)this.updateOne(this.index[index],data,options)},_proto.updateOne=function updateOne(rule,data,options){void 0===options&&(options=defaultUpdateOptions);var _this$options2=this.options,plugins=_this$options2.jss.plugins,sheet=_this$options2.sheet;if(rule.rules instanceof RuleList)rule.rules.update(data,options);else{var style=rule.style;if(plugins.onUpdate(data,rule,sheet,options),options.process&&style&&style!==rule.style){for(var prop in plugins.onProcessStyle(rule.style,rule,sheet),rule.style){var nextValue=rule.style[prop];nextValue!==style[prop]&&rule.prop(prop,nextValue,forceUpdateOptions)}for(var _prop in style){var _nextValue=rule.style[_prop],_prevValue=style[_prop];null==_nextValue&&_nextValue!==_prevValue&&rule.prop(_prop,null,forceUpdateOptions)}}}},_proto.toString=function toString(options){for(var str="",sheet=this.options.sheet,link=!!sheet&&sheet.options.link,linebreak=getWhitespaceSymbols(options).linebreak,index=0;index<this.index.length;index++){var css=this.index[index].toString(options);(css||link)&&(str&&(str+=linebreak),str+=css)}return str},RuleList}(),StyleSheet=function(){function StyleSheet(styles,options){for(var name in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,esm_extends.Z)({},options,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),options.Renderer&&(this.renderer=new options.Renderer(this)),this.rules=new RuleList(this.options),styles)this.rules.add(name,styles[name]);this.rules.process()}var _proto=StyleSheet.prototype;return _proto.attach=function attach(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},_proto.detach=function detach(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},_proto.addRule=function addRule(name,decl,options){var queue=this.queue;this.attached&&!queue&&(this.queue=[]);var rule=this.rules.add(name,decl,options);return rule?(this.options.jss.plugins.onProcessRule(rule),this.attached?this.deployed?(queue?queue.push(rule):(this.insertRule(rule),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),rule):rule:(this.deployed=!1,rule)):null},_proto.replaceRule=function replaceRule(nameOrSelector,decl,options){var oldRule=this.rules.get(nameOrSelector);if(!oldRule)return this.addRule(nameOrSelector,decl,options);var newRule=this.rules.replace(nameOrSelector,decl,options);return newRule&&this.options.jss.plugins.onProcessRule(newRule),this.attached?this.deployed?(this.renderer&&(newRule?oldRule.renderable&&this.renderer.replaceRule(oldRule.renderable,newRule):this.renderer.deleteRule(oldRule)),newRule):newRule:(this.deployed=!1,newRule)},_proto.insertRule=function insertRule(rule){this.renderer&&this.renderer.insertRule(rule)},_proto.addRules=function addRules(styles,options){var added=[];for(var name in styles){var rule=this.addRule(name,styles[name],options);rule&&added.push(rule)}return added},_proto.getRule=function getRule(nameOrSelector){return this.rules.get(nameOrSelector)},_proto.deleteRule=function deleteRule(name){var rule="object"==typeof name?name:this.rules.get(name);return!(!rule||this.attached&&!rule.renderable)&&(this.rules.remove(rule),!(this.attached&&rule.renderable&&this.renderer)||this.renderer.deleteRule(rule.renderable))},_proto.indexOf=function indexOf(rule){return this.rules.indexOf(rule)},_proto.deploy=function deploy(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},_proto.update=function update(){var _this$rules;return(_this$rules=this.rules).update.apply(_this$rules,arguments),this},_proto.updateOne=function updateOne(rule,data,options){return this.rules.updateOne(rule,data,options),this},_proto.toString=function toString(options){return this.rules.toString(options)},StyleSheet}(),PluginsRegistry=function(){function PluginsRegistry(){this.plugins={internal:[],external:[]},this.registry={}}var _proto=PluginsRegistry.prototype;return _proto.onCreateRule=function onCreateRule(name,decl,options){for(var i=0;i<this.registry.onCreateRule.length;i++){var rule=this.registry.onCreateRule[i](name,decl,options);if(rule)return rule}return null},_proto.onProcessRule=function onProcessRule(rule){if(!rule.isProcessed){for(var sheet=rule.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](rule,sheet);rule.style&&this.onProcessStyle(rule.style,rule,sheet),rule.isProcessed=!0}},_proto.onProcessStyle=function onProcessStyle(style,rule,sheet){for(var i=0;i<this.registry.onProcessStyle.length;i++)rule.style=this.registry.onProcessStyle[i](rule.style,rule,sheet)},_proto.onProcessSheet=function onProcessSheet(sheet){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](sheet)},_proto.onUpdate=function onUpdate(data,rule,sheet,options){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](data,rule,sheet,options)},_proto.onChangeValue=function onChangeValue(value,prop,rule){for(var processedValue=value,i=0;i<this.registry.onChangeValue.length;i++)processedValue=this.registry.onChangeValue[i](processedValue,prop,rule);return processedValue},_proto.use=function use(newPlugin,options){void 0===options&&(options={queue:"external"});var plugins=this.plugins[options.queue];-1===plugins.indexOf(newPlugin)&&(plugins.push(newPlugin),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(registry,plugin){for(var name in plugin)name in registry&&registry[name].push(plugin[name]);return registry}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},PluginsRegistry}(),SheetsRegistry=function(){function SheetsRegistry(){this.registry=[]}var _proto=SheetsRegistry.prototype;return _proto.add=function add(sheet){var registry=this.registry,index=sheet.options.index;if(-1===registry.indexOf(sheet))if(0===registry.length||index>=this.index)registry.push(sheet);else for(var i=0;i<registry.length;i++)if(registry[i].options.index>index)return void registry.splice(i,0,sheet)},_proto.reset=function reset(){this.registry=[]},_proto.remove=function remove(sheet){var index=this.registry.indexOf(sheet);this.registry.splice(index,1)},_proto.toString=function toString(_temp){for(var _ref=void 0===_temp?{}:_temp,attached=_ref.attached,options=(0,objectWithoutPropertiesLoose.Z)(_ref,["attached"]),linebreak=getWhitespaceSymbols(options).linebreak,css="",i=0;i<this.registry.length;i++){var sheet=this.registry[i];null!=attached&&sheet.attached!==attached||(css&&(css+=linebreak),css+=sheet.toString(options))}return css},(0,createClass.Z)(SheetsRegistry,[{key:"index",get:function get(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),SheetsRegistry}(),sheets=new SheetsRegistry,globalThis$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),ns="2f1acc6c3a606b082e5eef5e54414ffb";null==globalThis$1[ns]&&(globalThis$1[ns]=0);var moduleId=globalThis$1[ns]++,createGenerateId=function createGenerateId(options){void 0===options&&(options={});var ruleCounter=0;return function generateId(rule,sheet){ruleCounter+=1;var jssId="",prefix="";return sheet&&(sheet.options.classNamePrefix&&(prefix=sheet.options.classNamePrefix),null!=sheet.options.jss.id&&(jssId=String(sheet.options.jss.id))),options.minify?""+(prefix||"c")+moduleId+jssId+ruleCounter:prefix+rule.key+"-"+moduleId+(jssId?"-"+jssId:"")+"-"+ruleCounter}},memoize=function memoize(fn){var value;return function(){return value||(value=fn()),value}},getPropertyValue=function getPropertyValue(cssRule,prop){try{return cssRule.attributeStyleMap?cssRule.attributeStyleMap.get(prop):cssRule.style.getPropertyValue(prop)}catch(err){return""}},setProperty=function setProperty(cssRule,prop,value){try{var cssValue=value;if(Array.isArray(value)&&(cssValue=toCssValue(value)),cssRule.attributeStyleMap)cssRule.attributeStyleMap.set(prop,cssValue);else{var indexOfImportantFlag=cssValue?cssValue.indexOf("!important"):-1,cssValueWithoutImportantFlag=indexOfImportantFlag>-1?cssValue.substr(0,indexOfImportantFlag-1):cssValue;cssRule.style.setProperty(prop,cssValueWithoutImportantFlag,indexOfImportantFlag>-1?"important":"")}}catch(err){return!1}return!0},removeProperty=function removeProperty(cssRule,prop){try{cssRule.attributeStyleMap?cssRule.attributeStyleMap.delete(prop):cssRule.style.removeProperty(prop)}catch(err){}},setSelector=function setSelector(cssRule,selectorText){return cssRule.selectorText=selectorText,cssRule.selectorText===selectorText},getHead=memoize((function(){return document.querySelector("head")}));function findPrevNode(options){var registry=sheets.registry;if(registry.length>0){var sheet=function findHigherSheet(registry,options){for(var i=0;i<registry.length;i++){var sheet=registry[i];if(sheet.attached&&sheet.options.index>options.index&&sheet.options.insertionPoint===options.insertionPoint)return sheet}return null}(registry,options);if(sheet&&sheet.renderer)return{parent:sheet.renderer.element.parentNode,node:sheet.renderer.element};if(sheet=function findHighestSheet(registry,options){for(var i=registry.length-1;i>=0;i--){var sheet=registry[i];if(sheet.attached&&sheet.options.insertionPoint===options.insertionPoint)return sheet}return null}(registry,options),sheet&&sheet.renderer)return{parent:sheet.renderer.element.parentNode,node:sheet.renderer.element.nextSibling}}var insertionPoint=options.insertionPoint;if(insertionPoint&&"string"==typeof insertionPoint){var comment=function findCommentNode(text){for(var head=getHead(),i=0;i<head.childNodes.length;i++){var node=head.childNodes[i];if(8===node.nodeType&&node.nodeValue.trim()===text)return node}return null}(insertionPoint);if(comment)return{parent:comment.parentNode,node:comment.nextSibling}}return!1}var getNonce=memoize((function(){var node=document.querySelector('meta[property="csp-nonce"]');return node?node.getAttribute("content"):null})),_insertRule=function insertRule(container,rule,index){try{"insertRule"in container?container.insertRule(rule,index):"appendRule"in container&&container.appendRule(rule)}catch(err){return!1}return container.cssRules[index]},getValidRuleInsertionIndex=function getValidRuleInsertionIndex(container,index){var maxIndex=container.cssRules.length;return void 0===index||index>maxIndex?maxIndex:index},DomRenderer=function(){function DomRenderer(sheet){this.getPropertyValue=getPropertyValue,this.setProperty=setProperty,this.removeProperty=removeProperty,this.setSelector=setSelector,this.hasInsertedRules=!1,this.cssRules=[],sheet&&sheets.add(sheet),this.sheet=sheet;var _ref=this.sheet?this.sheet.options:{},media=_ref.media,meta=_ref.meta,element=_ref.element;this.element=element||function createStyle(){var el=document.createElement("style");return el.textContent="\n",el}(),this.element.setAttribute("data-jss",""),media&&this.element.setAttribute("media",media),meta&&this.element.setAttribute("data-meta",meta);var nonce=getNonce();nonce&&this.element.setAttribute("nonce",nonce)}var _proto=DomRenderer.prototype;return _proto.attach=function attach(){if(!this.element.parentNode&&this.sheet){!function insertStyle(style,options){var insertionPoint=options.insertionPoint,nextNode=findPrevNode(options);if(!1!==nextNode&&nextNode.parent)nextNode.parent.insertBefore(style,nextNode.node);else if(insertionPoint&&"number"==typeof insertionPoint.nodeType){var insertionPointElement=insertionPoint,parentNode=insertionPointElement.parentNode;parentNode&&parentNode.insertBefore(style,insertionPointElement.nextSibling)}else getHead().appendChild(style)}(this.element,this.sheet.options);var deployed=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&deployed&&(this.hasInsertedRules=!1,this.deploy())}},_proto.detach=function detach(){if(this.sheet){var parentNode=this.element.parentNode;parentNode&&parentNode.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},_proto.deploy=function deploy(){var sheet=this.sheet;sheet&&(sheet.options.link?this.insertRules(sheet.rules):this.element.textContent="\n"+sheet.toString()+"\n")},_proto.insertRules=function insertRules(rules,nativeParent){for(var i=0;i<rules.index.length;i++)this.insertRule(rules.index[i],i,nativeParent)},_proto.insertRule=function insertRule(rule,index,nativeParent){if(void 0===nativeParent&&(nativeParent=this.element.sheet),rule.rules){var parent=rule,latestNativeParent=nativeParent;if("conditional"===rule.type||"keyframes"===rule.type){var _insertionIndex=getValidRuleInsertionIndex(nativeParent,index);if(!1===(latestNativeParent=_insertRule(nativeParent,parent.toString({children:!1}),_insertionIndex)))return!1;this.refCssRule(rule,_insertionIndex,latestNativeParent)}return this.insertRules(parent.rules,latestNativeParent),latestNativeParent}var ruleStr=rule.toString();if(!ruleStr)return!1;var insertionIndex=getValidRuleInsertionIndex(nativeParent,index),nativeRule=_insertRule(nativeParent,ruleStr,insertionIndex);return!1!==nativeRule&&(this.hasInsertedRules=!0,this.refCssRule(rule,insertionIndex,nativeRule),nativeRule)},_proto.refCssRule=function refCssRule(rule,index,cssRule){rule.renderable=cssRule,rule.options.parent instanceof StyleSheet&&this.cssRules.splice(index,0,cssRule)},_proto.deleteRule=function deleteRule(cssRule){var sheet=this.element.sheet,index=this.indexOf(cssRule);return-1!==index&&(sheet.deleteRule(index),this.cssRules.splice(index,1),!0)},_proto.indexOf=function indexOf(cssRule){return this.cssRules.indexOf(cssRule)},_proto.replaceRule=function replaceRule(cssRule,rule){var index=this.indexOf(cssRule);return-1!==index&&(this.element.sheet.deleteRule(index),this.cssRules.splice(index,1),this.insertRule(rule,index))},_proto.getRules=function getRules(){return this.element.sheet.cssRules},DomRenderer}(),instanceCounter=0,Jss=function(){function Jss(options){this.id=instanceCounter++,this.version="10.10.0",this.plugins=new PluginsRegistry,this.options={id:{minify:!1},createGenerateId,Renderer:dist_module?DomRenderer:null,plugins:[]},this.generateId=createGenerateId({minify:!1});for(var i=0;i<plugins.length;i++)this.plugins.use(plugins[i],{queue:"internal"});this.setup(options)}var _proto=Jss.prototype;return _proto.setup=function setup(options){return void 0===options&&(options={}),options.createGenerateId&&(this.options.createGenerateId=options.createGenerateId),options.id&&(this.options.id=(0,esm_extends.Z)({},this.options.id,options.id)),(options.createGenerateId||options.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=options.insertionPoint&&(this.options.insertionPoint=options.insertionPoint),"Renderer"in options&&(this.options.Renderer=options.Renderer),options.plugins&&this.use.apply(this,options.plugins),this},_proto.createStyleSheet=function createStyleSheet(styles,options){void 0===options&&(options={});var index=options.index;"number"!=typeof index&&(index=0===sheets.index?0:sheets.index+1);var sheet=new StyleSheet(styles,(0,esm_extends.Z)({},options,{jss:this,generateId:options.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index}));return this.plugins.onProcessSheet(sheet),sheet},_proto.removeStyleSheet=function removeStyleSheet(sheet){return sheet.detach(),sheets.remove(sheet),this},_proto.createRule=function createRule$1(name,style,options){if(void 0===style&&(style={}),void 0===options&&(options={}),"object"==typeof name)return this.createRule(void 0,name,style);var ruleOptions=(0,esm_extends.Z)({},options,{name,jss:this,Renderer:this.options.Renderer});ruleOptions.generateId||(ruleOptions.generateId=this.generateId),ruleOptions.classes||(ruleOptions.classes={}),ruleOptions.keyframes||(ruleOptions.keyframes={});var rule=createRule(name,style,ruleOptions);return rule&&this.plugins.onProcessRule(rule),rule},_proto.use=function use(){for(var _this=this,_len=arguments.length,plugins=new Array(_len),_key=0;_key<_len;_key++)plugins[_key]=arguments[_key];return plugins.forEach((function(plugin){_this.plugins.use(plugin)})),this},Jss}(),createJss=function createJss(options){return new Jss(options)},hasCSSTOMSupport="object"==typeof CSS&&null!=CSS&&"number"in CSS;function getDynamicStyles(styles){var to=null;for(var key in styles){var value=styles[key],type=typeof value;if("function"===type)to||(to={}),to[key]=value;else if("object"===type&&null!==value&&!Array.isArray(value)){var extracted=getDynamicStyles(value);extracted&&(to||(to={}),to[key]=extracted)}}return to}createJss();var mergeClasses=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js"),multiKeyStore={set:function set(cache,key1,key2,value){var subCache=cache.get(key1);subCache||(subCache=new Map,cache.set(key1,subCache)),subCache.set(key2,value)},get:function get(cache,key1,key2){var subCache=cache.get(key1);return subCache?subCache.get(key2):void 0},delete:function _delete(cache,key1,key2){cache.get(key1).delete(key2)}};const makeStyles_multiKeyStore=multiKeyStore;var useTheme=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),nested=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/ThemeProvider/nested.js"),pseudoClasses=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var now=Date.now(),fnValuesNs="fnValues"+now,fnRuleNs="fnStyle"+ ++now;const jss_plugin_rule_value_function_esm=function functionPlugin(){return{onCreateRule:function onCreateRule(name,decl,options){if("function"!=typeof decl)return null;var rule=createRule(name,{},options);return rule[fnRuleNs]=decl,rule},onProcessStyle:function onProcessStyle(style,rule){if(fnValuesNs in rule||fnRuleNs in rule)return style;var fnValues={};for(var prop in style){var value=style[prop];"function"==typeof value&&(delete style[prop],fnValues[prop]=value)}return rule[fnValuesNs]=fnValues,style},onUpdate:function onUpdate(data,rule,sheet,options){var styleRule=rule,fnRule=styleRule[fnRuleNs];fnRule&&(styleRule.style=fnRule(data)||{});var fnValues=styleRule[fnValuesNs];if(fnValues)for(var _prop in fnValues)styleRule.prop(_prop,fnValues[_prop](data),options)}}};var at="@global",GlobalContainerRule=function(){function GlobalContainerRule(key,styles,options){for(var selector in this.type="global",this.at=at,this.isProcessed=!1,this.key=key,this.options=options,this.rules=new RuleList((0,esm_extends.Z)({},options,{parent:this})),styles)this.rules.add(selector,styles[selector]);this.rules.process()}var _proto=GlobalContainerRule.prototype;return _proto.getRule=function getRule(name){return this.rules.get(name)},_proto.addRule=function addRule(name,style,options){var rule=this.rules.add(name,style,options);return rule&&this.options.jss.plugins.onProcessRule(rule),rule},_proto.replaceRule=function replaceRule(name,style,options){var newRule=this.rules.replace(name,style,options);return newRule&&this.options.jss.plugins.onProcessRule(newRule),newRule},_proto.indexOf=function indexOf(rule){return this.rules.indexOf(rule)},_proto.toString=function toString(options){return this.rules.toString(options)},GlobalContainerRule}(),GlobalPrefixedRule=function(){function GlobalPrefixedRule(key,style,options){this.type="global",this.at=at,this.isProcessed=!1,this.key=key,this.options=options;var selector=key.substr(8);this.rule=options.jss.createRule(selector,style,(0,esm_extends.Z)({},options,{parent:this}))}return GlobalPrefixedRule.prototype.toString=function toString(options){return this.rule?this.rule.toString(options):""},GlobalPrefixedRule}(),separatorRegExp=/\s*,\s*/g;function addScope(selector,scope){for(var parts=selector.split(separatorRegExp),scoped="",i=0;i<parts.length;i++)scoped+=scope+" "+parts[i].trim(),parts[i+1]&&(scoped+=", ");return scoped}const jss_plugin_global_esm=function jssGlobal(){return{onCreateRule:function onCreateRule(name,styles,options){if(!name)return null;if(name===at)return new GlobalContainerRule(name,styles,options);if("@"===name[0]&&"@global "===name.substr(0,8))return new GlobalPrefixedRule(name,styles,options);var parent=options.parent;return parent&&("global"===parent.type||parent.options.parent&&"global"===parent.options.parent.type)&&(options.scoped=!1),options.selector||!1!==options.scoped||(options.selector=name),null},onProcessRule:function onProcessRule(rule,sheet){"style"===rule.type&&sheet&&(!function handleNestedGlobalContainerRule(rule,sheet){var options=rule.options,style=rule.style,rules=style?style[at]:null;if(rules){for(var name in rules)sheet.addRule(name,rules[name],(0,esm_extends.Z)({},options,{selector:addScope(name,rule.selector)}));delete style[at]}}(rule,sheet),function handlePrefixedGlobalRule(rule,sheet){var options=rule.options,style=rule.style;for(var prop in style)if("@"===prop[0]&&prop.substr(0,at.length)===at){var selector=addScope(prop.substr(at.length),rule.selector);sheet.addRule(selector,style[prop],(0,esm_extends.Z)({},options,{selector})),delete style[prop]}}(rule,sheet))}}};var jss_plugin_nested_esm_separatorRegExp=/\s*,\s*/g,parentRegExp=/&/g,jss_plugin_nested_esm_refRegExp=/\$([\w-]+)/g;const jss_plugin_nested_esm=function jssNested(){function getReplaceRef(container,sheet){return function(match,key){var rule=container.getRule(key)||sheet&&sheet.getRule(key);return rule?rule.selector:key}}function replaceParentRefs(nestedProp,parentProp){for(var parentSelectors=parentProp.split(jss_plugin_nested_esm_separatorRegExp),nestedSelectors=nestedProp.split(jss_plugin_nested_esm_separatorRegExp),result="",i=0;i<parentSelectors.length;i++)for(var parent=parentSelectors[i],j=0;j<nestedSelectors.length;j++){var nested=nestedSelectors[j];result&&(result+=", "),result+=-1!==nested.indexOf("&")?nested.replace(parentRegExp,parent):parent+" "+nested}return result}function getOptions(rule,container,prevOptions){if(prevOptions)return(0,esm_extends.Z)({},prevOptions,{index:prevOptions.index+1});var nestingLevel=rule.options.nestingLevel;nestingLevel=void 0===nestingLevel?1:nestingLevel+1;var options=(0,esm_extends.Z)({},rule.options,{nestingLevel,index:container.indexOf(rule)+1});return delete options.name,options}return{onProcessStyle:function onProcessStyle(style,rule,sheet){if("style"!==rule.type)return style;var options,replaceRef,styleRule=rule,container=styleRule.options.parent;for(var prop in style){var isNested=-1!==prop.indexOf("&"),isNestedConditional="@"===prop[0];if(isNested||isNestedConditional){if(options=getOptions(styleRule,container,options),isNested){var selector=replaceParentRefs(prop,styleRule.selector);replaceRef||(replaceRef=getReplaceRef(container,sheet)),selector=selector.replace(jss_plugin_nested_esm_refRegExp,replaceRef);var name=styleRule.key+"-"+prop;"replaceRule"in container?container.replaceRule(name,style[prop],(0,esm_extends.Z)({},options,{selector})):container.addRule(name,style[prop],(0,esm_extends.Z)({},options,{selector}))}else isNestedConditional&&container.addRule(prop,{},options).addRule(styleRule.key,style[prop],{selector:styleRule.selector});delete style[prop]}}return style}}};var uppercasePattern=/[A-Z]/g,msPattern=/^ms-/,cache={};function toHyphenLower(match){return"-"+match.toLowerCase()}const hyphenate_style_name=function hyphenateStyleName(name){if(cache.hasOwnProperty(name))return cache[name];var hName=name.replace(uppercasePattern,toHyphenLower);return cache[name]=msPattern.test(hName)?"-"+hName:hName};function convertCase(style){var converted={};for(var prop in style){converted[0===prop.indexOf("--")?prop:hyphenate_style_name(prop)]=style[prop]}return style.fallbacks&&(Array.isArray(style.fallbacks)?converted.fallbacks=style.fallbacks.map(convertCase):converted.fallbacks=convertCase(style.fallbacks)),converted}const jss_plugin_camel_case_esm=function camelCase(){return{onProcessStyle:function onProcessStyle(style){if(Array.isArray(style)){for(var index=0;index<style.length;index++)style[index]=convertCase(style[index]);return style}return convertCase(style)},onChangeValue:function onChangeValue(value,prop,rule){if(0===prop.indexOf("--"))return value;var hyphenatedProp=hyphenate_style_name(prop);return prop===hyphenatedProp?value:(rule.prop(hyphenatedProp,value),null)}}};var px=hasCSSTOMSupport&&CSS?CSS.px:"px",ms=hasCSSTOMSupport&&CSS?CSS.ms:"ms",percent=hasCSSTOMSupport&&CSS?CSS.percent:"%";function addCamelCasedVersion(obj){var regExp=/(-[a-z])/g,replace=function replace(str){return str[1].toUpperCase()},newObj={};for(var key in obj)newObj[key]=obj[key],newObj[key.replace(regExp,replace)]=obj[key];return newObj}var units=addCamelCasedVersion({"animation-delay":ms,"animation-duration":ms,"background-position":px,"background-position-x":px,"background-position-y":px,"background-size":px,border:px,"border-bottom":px,"border-bottom-left-radius":px,"border-bottom-right-radius":px,"border-bottom-width":px,"border-left":px,"border-left-width":px,"border-radius":px,"border-right":px,"border-right-width":px,"border-top":px,"border-top-left-radius":px,"border-top-right-radius":px,"border-top-width":px,"border-width":px,"border-block":px,"border-block-end":px,"border-block-end-width":px,"border-block-start":px,"border-block-start-width":px,"border-block-width":px,"border-inline":px,"border-inline-end":px,"border-inline-end-width":px,"border-inline-start":px,"border-inline-start-width":px,"border-inline-width":px,"border-start-start-radius":px,"border-start-end-radius":px,"border-end-start-radius":px,"border-end-end-radius":px,margin:px,"margin-bottom":px,"margin-left":px,"margin-right":px,"margin-top":px,"margin-block":px,"margin-block-end":px,"margin-block-start":px,"margin-inline":px,"margin-inline-end":px,"margin-inline-start":px,padding:px,"padding-bottom":px,"padding-left":px,"padding-right":px,"padding-top":px,"padding-block":px,"padding-block-end":px,"padding-block-start":px,"padding-inline":px,"padding-inline-end":px,"padding-inline-start":px,"mask-position-x":px,"mask-position-y":px,"mask-size":px,height:px,width:px,"min-height":px,"max-height":px,"min-width":px,"max-width":px,bottom:px,left:px,top:px,right:px,inset:px,"inset-block":px,"inset-block-end":px,"inset-block-start":px,"inset-inline":px,"inset-inline-end":px,"inset-inline-start":px,"box-shadow":px,"text-shadow":px,"column-gap":px,"column-rule":px,"column-rule-width":px,"column-width":px,"font-size":px,"font-size-delta":px,"letter-spacing":px,"text-decoration-thickness":px,"text-indent":px,"text-stroke":px,"text-stroke-width":px,"word-spacing":px,motion:px,"motion-offset":px,outline:px,"outline-offset":px,"outline-width":px,perspective:px,"perspective-origin-x":percent,"perspective-origin-y":percent,"transform-origin":percent,"transform-origin-x":percent,"transform-origin-y":percent,"transform-origin-z":percent,"transition-delay":ms,"transition-duration":ms,"vertical-align":px,"flex-basis":px,"shape-margin":px,size:px,gap:px,grid:px,"grid-gap":px,"row-gap":px,"grid-row-gap":px,"grid-column-gap":px,"grid-template-rows":px,"grid-template-columns":px,"grid-auto-rows":px,"grid-auto-columns":px,"box-shadow-x":px,"box-shadow-y":px,"box-shadow-blur":px,"box-shadow-spread":px,"font-line-height":px,"text-shadow-x":px,"text-shadow-y":px,"text-shadow-blur":px});function iterate(prop,value,options){if(null==value)return value;if(Array.isArray(value))for(var i=0;i<value.length;i++)value[i]=iterate(prop,value[i],options);else if("object"==typeof value)if("fallbacks"===prop)for(var innerProp in value)value[innerProp]=iterate(innerProp,value[innerProp],options);else for(var _innerProp in value)value[_innerProp]=iterate(prop+"-"+_innerProp,value[_innerProp],options);else if("number"==typeof value&&!1===isNaN(value)){var unit=options[prop]||units[prop];return!unit||0===value&&unit===px?value.toString():"function"==typeof unit?unit(value).toString():""+value+unit}return value}const jss_plugin_default_unit_esm=function defaultUnit(options){void 0===options&&(options={});var camelCasedOptions=addCamelCasedVersion(options);return{onProcessStyle:function onProcessStyle(style,rule){if("style"!==rule.type)return style;for(var prop in style)style[prop]=iterate(prop,style[prop],camelCasedOptions);return style},onChangeValue:function onChangeValue(value,prop){return iterate(prop,value,camelCasedOptions)}}};var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),js="",css="",vendor="",browser="",isTouch=dist_module&&"ontouchstart"in document.documentElement;if(dist_module){var jsCssMap={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},style=document.createElement("p").style;for(var key in jsCssMap)if(key+"Transform"in style){js=key,css=jsCssMap[key];break}"Webkit"===js&&"msHyphens"in style&&(js="ms",css=jsCssMap.ms,browser="edge"),"Webkit"===js&&"-apple-trailing-word"in style&&(vendor="apple")}var prefix={js,css,vendor,browser,isTouch};var appearence={noPrefill:["appearance"],supportedProperty:function supportedProperty(prop){return"appearance"===prop&&("ms"===prefix.js?"-webkit-"+prop:prefix.css+prop)}},colorAdjust={noPrefill:["color-adjust"],supportedProperty:function supportedProperty(prop){return"color-adjust"===prop&&("Webkit"===prefix.js?prefix.css+"print-"+prop:prop)}},regExp=/[-\s]+(.)?/g;function toUpper(match,c){return c?c.toUpperCase():""}function camelize(str){return str.replace(regExp,toUpper)}function pascalize(str){return camelize("-"+str)}var el,mask={noPrefill:["mask"],supportedProperty:function supportedProperty(prop,style){if(!/^mask/.test(prop))return!1;if("Webkit"===prefix.js){if(camelize("mask-image")in style)return prop;if(prefix.js+pascalize("mask-image")in style)return prefix.css+prop}return prop}},textOrientation={noPrefill:["text-orientation"],supportedProperty:function supportedProperty(prop){return"text-orientation"===prop&&("apple"!==prefix.vendor||prefix.isTouch?prop:prefix.css+prop)}},transform={noPrefill:["transform"],supportedProperty:function supportedProperty(prop,style,options){return"transform"===prop&&(options.transform?prop:prefix.css+prop)}},transition={noPrefill:["transition"],supportedProperty:function supportedProperty(prop,style,options){return"transition"===prop&&(options.transition?prop:prefix.css+prop)}},writingMode={noPrefill:["writing-mode"],supportedProperty:function supportedProperty(prop){return"writing-mode"===prop&&("Webkit"===prefix.js||"ms"===prefix.js&&"edge"!==prefix.browser?prefix.css+prop:prop)}},userSelect={noPrefill:["user-select"],supportedProperty:function supportedProperty(prop){return"user-select"===prop&&("Moz"===prefix.js||"ms"===prefix.js||"apple"===prefix.vendor?prefix.css+prop:prop)}},breakPropsOld={supportedProperty:function supportedProperty(prop,style){return!!/^break-/.test(prop)&&("Webkit"===prefix.js?"WebkitColumn"+pascalize(prop)in style&&prefix.css+"column-"+prop:"Moz"===prefix.js&&("page"+pascalize(prop)in style&&"page-"+prop))}},inlineLogicalOld={supportedProperty:function supportedProperty(prop,style){if(!/^(border|margin|padding)-inline/.test(prop))return!1;if("Moz"===prefix.js)return prop;var newProp=prop.replace("-inline","");return prefix.js+pascalize(newProp)in style&&prefix.css+newProp}},unprefixed={supportedProperty:function supportedProperty(prop,style){return camelize(prop)in style&&prop}},prefixed={supportedProperty:function supportedProperty(prop,style){var pascalized=pascalize(prop);return"-"===prop[0]||"-"===prop[0]&&"-"===prop[1]?prop:prefix.js+pascalized in style?prefix.css+prop:"Webkit"!==prefix.js&&"Webkit"+pascalized in style&&"-webkit-"+prop}},scrollSnap={supportedProperty:function supportedProperty(prop){return"scroll-snap"===prop.substring(0,11)&&("ms"===prefix.js?""+prefix.css+prop:prop)}},overscrollBehavior={supportedProperty:function supportedProperty(prop){return"overscroll-behavior"===prop&&("ms"===prefix.js?prefix.css+"scroll-chaining":prop)}},propMap={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},flex2012={supportedProperty:function supportedProperty(prop,style){var newProp=propMap[prop];return!!newProp&&(prefix.js+pascalize(newProp)in style&&prefix.css+newProp)}},propMap$1={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},propKeys=Object.keys(propMap$1),prefixCss=function prefixCss(p){return prefix.css+p},flex2009={supportedProperty:function supportedProperty(prop,style,_ref){var multiple=_ref.multiple;if(propKeys.indexOf(prop)>-1){var newProp=propMap$1[prop];if(!Array.isArray(newProp))return prefix.js+pascalize(newProp)in style&&prefix.css+newProp;if(!multiple)return!1;for(var i=0;i<newProp.length;i++)if(!(prefix.js+pascalize(newProp[0])in style))return!1;return newProp.map(prefixCss)}return!1}},css_vendor_esm_plugins=[appearence,colorAdjust,mask,textOrientation,transform,transition,writingMode,userSelect,breakPropsOld,inlineLogicalOld,unprefixed,prefixed,scrollSnap,overscrollBehavior,flex2012,flex2009],propertyDetectors=css_vendor_esm_plugins.filter((function(p){return p.supportedProperty})).map((function(p){return p.supportedProperty})),noPrefill=css_vendor_esm_plugins.filter((function(p){return p.noPrefill})).reduce((function(a,p){return a.push.apply(a,(0,toConsumableArray.Z)(p.noPrefill)),a}),[]),css_vendor_esm_cache={};if(dist_module){el=document.createElement("p");var computed=window.getComputedStyle(document.documentElement,"");for(var key$1 in computed)isNaN(key$1)||(css_vendor_esm_cache[computed[key$1]]=computed[key$1]);noPrefill.forEach((function(x){return delete css_vendor_esm_cache[x]}))}function supportedProperty(prop,options){if(void 0===options&&(options={}),!el)return prop;if(null!=css_vendor_esm_cache[prop])return css_vendor_esm_cache[prop];"transition"!==prop&&"transform"!==prop||(options[prop]=prop in el.style);for(var i=0;i<propertyDetectors.length&&(css_vendor_esm_cache[prop]=propertyDetectors[i](prop,el.style,options),!css_vendor_esm_cache[prop]);i++);try{el.style[prop]=""}catch(err){return!1}return css_vendor_esm_cache[prop]}var el$1,cache$1={},transitionProperties={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},transPropsRegExp=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function prefixTransitionCallback(match,p1,p2){if("var"===p1)return"var";if("all"===p1)return"all";if("all"===p2)return", all";var prefixedValue=p1?supportedProperty(p1):", "+supportedProperty(p2);return prefixedValue||(p1||p2)}function supportedValue(property,value){var prefixedValue=value;if(!el$1||"content"===property)return value;if("string"!=typeof prefixedValue||!isNaN(parseInt(prefixedValue,10)))return prefixedValue;var cacheKey=property+prefixedValue;if(null!=cache$1[cacheKey])return cache$1[cacheKey];try{el$1.style[property]=prefixedValue}catch(err){return cache$1[cacheKey]=!1,!1}if(transitionProperties[property])prefixedValue=prefixedValue.replace(transPropsRegExp,prefixTransitionCallback);else if(""===el$1.style[property]&&("-ms-flex"===(prefixedValue=prefix.css+prefixedValue)&&(el$1.style[property]="-ms-flexbox"),el$1.style[property]=prefixedValue,""===el$1.style[property]))return cache$1[cacheKey]=!1,!1;return el$1.style[property]="",cache$1[cacheKey]=prefixedValue,cache$1[cacheKey]}dist_module&&(el$1=document.createElement("p"));const jss_plugin_vendor_prefixer_esm=function jssVendorPrefixer(){function prefixStyle(style){for(var prop in style){var value=style[prop];if("fallbacks"===prop&&Array.isArray(value))style[prop]=value.map(prefixStyle);else{var changeProp=!1,supportedProp=supportedProperty(prop);supportedProp&&supportedProp!==prop&&(changeProp=!0);var changeValue=!1,supportedValue$1=supportedValue(supportedProp,toCssValue(value));supportedValue$1&&supportedValue$1!==value&&(changeValue=!0),(changeProp||changeValue)&&(changeProp&&delete style[prop],style[supportedProp||prop]=supportedValue$1||value)}}return style}return{onProcessRule:function onProcessRule(rule){if("keyframes"===rule.type){var atRule=rule;atRule.at=function supportedKeyframes(key){return"-"===key[1]||"ms"===prefix.js?key:"@"+prefix.css+"keyframes"+key.substr(10)}(atRule.at)}},onProcessStyle:function onProcessStyle(style,rule){return"style"!==rule.type?style:prefixStyle(style)},onChangeValue:function onChangeValue(value,prop){return supportedValue(prop,toCssValue(value))||value}}};const jss_plugin_props_sort_esm=function jssPropsSort(){var sort=function sort(prop0,prop1){return prop0.length===prop1.length?prop0>prop1?1:-1:prop0.length-prop1.length};return{onProcessStyle:function onProcessStyle(style,rule){if("style"!==rule.type)return style;for(var newStyle={},props=Object.keys(style).sort(sort),i=0;i<props.length;i++)newStyle[props[i]]=style[props[i]];return newStyle}}};var jss=createJss(function jssPreset_jssPreset(){return{plugins:[jss_plugin_rule_value_function_esm(),jss_plugin_global_esm(),jss_plugin_nested_esm(),jss_plugin_camel_case_esm(),jss_plugin_default_unit_esm(),"undefined"==typeof window?null:jss_plugin_vendor_prefixer_esm(),jss_plugin_props_sort_esm()]}}()),generateClassName=function createGenerateClassName(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$disableGloba=options.disableGlobal,disableGlobal=void 0!==_options$disableGloba&&_options$disableGloba,_options$productionPr=options.productionPrefix,productionPrefix=void 0===_options$productionPr?"jss":_options$productionPr,_options$seed=options.seed,seed=void 0===_options$seed?"":_options$seed,seedPrefix=""===seed?"":"".concat(seed,"-"),ruleCounter=0,getNextCounterId=function getNextCounterId(){return ruleCounter+=1};return function(rule,styleSheet){var name=styleSheet.options.name;if(name&&0===name.indexOf("Mui")&&!styleSheet.options.link&&!disableGlobal){if(-1!==pseudoClasses.indexOf(rule.key))return"Mui-".concat(rule.key);var prefix="".concat(seedPrefix).concat(name,"-").concat(rule.key);return styleSheet.options.theme[nested.Z]&&""===seed?"".concat(prefix,"-").concat(getNextCounterId()):prefix}return"".concat(seedPrefix).concat(productionPrefix).concat(getNextCounterId())}}(),defaultOptions={disableGeneration:!1,generateClassName,jss,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},StylesContext=react.createContext(defaultOptions);var indexCounter=-1e9;var deepmerge=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/deepmerge.js");const getStylesCreator_noopTheme={};function attach(_ref2,props){var state=_ref2.state,theme=_ref2.theme,stylesOptions=_ref2.stylesOptions,stylesCreator=_ref2.stylesCreator,name=_ref2.name;if(!stylesOptions.disableGeneration){var sheetManager=makeStyles_multiKeyStore.get(stylesOptions.sheetsManager,stylesCreator,theme);sheetManager||(sheetManager={refs:0,staticSheet:null,dynamicStyles:null},makeStyles_multiKeyStore.set(stylesOptions.sheetsManager,stylesCreator,theme,sheetManager));var options=(0,esm_extends.Z)({},stylesCreator.options,stylesOptions,{theme,flip:"boolean"==typeof stylesOptions.flip?stylesOptions.flip:"rtl"===theme.direction});options.generateId=options.serverGenerateClassName||options.generateClassName;var sheetsRegistry=stylesOptions.sheetsRegistry;if(0===sheetManager.refs){var staticSheet;stylesOptions.sheetsCache&&(staticSheet=makeStyles_multiKeyStore.get(stylesOptions.sheetsCache,stylesCreator,theme));var styles=stylesCreator.create(theme,name);staticSheet||((staticSheet=stylesOptions.jss.createStyleSheet(styles,(0,esm_extends.Z)({link:!1},options))).attach(),stylesOptions.sheetsCache&&makeStyles_multiKeyStore.set(stylesOptions.sheetsCache,stylesCreator,theme,staticSheet)),sheetsRegistry&&sheetsRegistry.add(staticSheet),sheetManager.staticSheet=staticSheet,sheetManager.dynamicStyles=getDynamicStyles(styles)}if(sheetManager.dynamicStyles){var dynamicSheet=stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles,(0,esm_extends.Z)({link:!0},options));dynamicSheet.update(props),dynamicSheet.attach(),state.dynamicSheet=dynamicSheet,state.classes=(0,mergeClasses.Z)({baseClasses:sheetManager.staticSheet.classes,newClasses:dynamicSheet.classes}),sheetsRegistry&&sheetsRegistry.add(dynamicSheet)}else state.classes=sheetManager.staticSheet.classes;sheetManager.refs+=1}}function makeStyles(stylesOrCreator){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},name=options.name,classNamePrefixOption=options.classNamePrefix,Component=options.Component,_options$defaultTheme=options.defaultTheme,defaultTheme=void 0===_options$defaultTheme?getStylesCreator_noopTheme:_options$defaultTheme,stylesOptions2=(0,objectWithoutProperties.Z)(options,["name","classNamePrefix","Component","defaultTheme"]),stylesCreator=function getStylesCreator(stylesOrCreator){var themingEnabled="function"==typeof stylesOrCreator;return{create:function create(theme,name){var styles;try{styles=themingEnabled?stylesOrCreator(theme):stylesOrCreator}catch(err){throw err}if(!name||!theme.overrides||!theme.overrides[name])return styles;var overrides=theme.overrides[name],stylesWithOverrides=(0,esm_extends.Z)({},styles);return Object.keys(overrides).forEach((function(key){stylesWithOverrides[key]=(0,deepmerge.Z)(stylesWithOverrides[key],overrides[key])})),stylesWithOverrides},options:{}}}(stylesOrCreator),classNamePrefix=name||classNamePrefixOption||"makeStyles";stylesCreator.options={index:indexCounter+=1,name,meta:classNamePrefix,classNamePrefix};return function useStyles(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},theme=(0,useTheme.Z)()||defaultTheme,stylesOptions=(0,esm_extends.Z)({},react.useContext(StylesContext),stylesOptions2),instance=react.useRef(),shouldUpdate=react.useRef();!function useSynchronousEffect(func,values){var output,key=react.useRef([]),currentKey=react.useMemo((function(){return{}}),values);key.current!==currentKey&&(key.current=currentKey,output=func()),react.useEffect((function(){return function(){output&&output()}}),[currentKey])}((function(){var current={name,state:{},stylesCreator,stylesOptions,theme};return attach(current,props),shouldUpdate.current=!1,instance.current=current,function(){!function detach(_ref4){var state=_ref4.state,theme=_ref4.theme,stylesOptions=_ref4.stylesOptions,stylesCreator=_ref4.stylesCreator;if(!stylesOptions.disableGeneration){var sheetManager=makeStyles_multiKeyStore.get(stylesOptions.sheetsManager,stylesCreator,theme);sheetManager.refs-=1;var sheetsRegistry=stylesOptions.sheetsRegistry;0===sheetManager.refs&&(makeStyles_multiKeyStore.delete(stylesOptions.sheetsManager,stylesCreator,theme),stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet),sheetsRegistry&&sheetsRegistry.remove(sheetManager.staticSheet)),state.dynamicSheet&&(stylesOptions.jss.removeStyleSheet(state.dynamicSheet),sheetsRegistry&&sheetsRegistry.remove(state.dynamicSheet))}}(current)}}),[theme,stylesCreator]),react.useEffect((function(){shouldUpdate.current&&function update(_ref3,props){var state=_ref3.state;state.dynamicSheet&&state.dynamicSheet.update(props)}(instance.current,props),shouldUpdate.current=!0}));var classes=function getClasses(_ref,classes,Component){var state=_ref.state;if(_ref.stylesOptions.disableGeneration)return classes||{};state.cacheClasses||(state.cacheClasses={value:null,lastProp:null,lastJSS:{}});var generate=!1;return state.classes!==state.cacheClasses.lastJSS&&(state.cacheClasses.lastJSS=state.classes,generate=!0),classes!==state.cacheClasses.lastProp&&(state.cacheClasses.lastProp=classes,generate=!0),generate&&(state.cacheClasses.value=(0,mergeClasses.Z)({baseClasses:state.cacheClasses.lastJSS,newClasses:classes,Component})),state.cacheClasses.value}(instance.current,props.classes,Component);return classes}}var getThemeProps=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js");const withStyles_withStyles=function withStyles(stylesOrCreator){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(Component){var defaultTheme=options.defaultTheme,_options$withTheme=options.withTheme,withTheme=void 0!==_options$withTheme&&_options$withTheme,name=options.name,stylesOptions=(0,objectWithoutProperties.Z)(options,["defaultTheme","withTheme","name"]);var classNamePrefix=name,useStyles=makeStyles(stylesOrCreator,(0,esm_extends.Z)({defaultTheme,Component,name:name||Component.displayName,classNamePrefix},stylesOptions)),WithStyles=react.forwardRef((function WithStyles(props,ref){props.classes;var theme,innerRef=props.innerRef,other=(0,objectWithoutProperties.Z)(props,["classes","innerRef"]),classes=useStyles((0,esm_extends.Z)({},Component.defaultProps,props)),more=other;return("string"==typeof name||withTheme)&&(theme=(0,useTheme.Z)()||defaultTheme,name&&(more=(0,getThemeProps.Z)({theme,name,props:other})),withTheme&&!more.theme&&(more.theme=theme)),react.createElement(Component,(0,esm_extends.Z)({ref:innerRef||ref,classes},more))}));return hoist_non_react_statics_cjs_default()(WithStyles,Component),WithStyles}};var defaultTheme=__webpack_require__("./node_modules/@material-ui/core/esm/styles/defaultTheme.js");const styles_withStyles=function styles_withStyles_withStyles(stylesOrCreator,options){return withStyles_withStyles(stylesOrCreator,(0,esm_extends.Z)({defaultTheme:defaultTheme.Z},options))}},"./node_modules/@material-ui/core/esm/styles/zIndex.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},"./node_modules/@material-ui/core/esm/transitions/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>getTransitionProps,n:()=>reflow});var reflow=function reflow(node){return node.scrollTop};function getTransitionProps(props,options){var timeout=props.timeout,_props$style=props.style,style=void 0===_props$style?{}:_props$style;return{duration:style.transitionDuration||"number"==typeof timeout?timeout:timeout[options.mode]||0,delay:style.transitionDelay}}},"./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useMediaQuery});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js");function useMediaQuery(queryInput){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},theme=(0,_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__.Z)(),props=(0,_material_ui_styles__WEBPACK_IMPORTED_MODULE_2__.Z)({theme,name:"MuiUseMediaQuery",props:{}});var query="function"==typeof queryInput?queryInput(theme):queryInput;query=query.replace(/^@media( ?)/m,"");var supportMatchMedia="undefined"!=typeof window&&void 0!==window.matchMedia,_props$options=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_3__.Z)({},props,options),_props$options$defaul=_props$options.defaultMatches,defaultMatches=void 0!==_props$options$defaul&&_props$options$defaul,_props$options$matchM=_props$options.matchMedia,matchMedia=void 0===_props$options$matchM?supportMatchMedia?window.matchMedia:null:_props$options$matchM,_props$options$noSsr=_props$options.noSsr,noSsr=void 0!==_props$options$noSsr&&_props$options$noSsr,_props$options$ssrMat=_props$options.ssrMatchMedia,ssrMatchMedia=void 0===_props$options$ssrMat?null:_props$options$ssrMat,_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState((function(){return noSsr&&supportMatchMedia?matchMedia(query).matches:ssrMatchMedia?ssrMatchMedia(query).matches:defaultMatches})),match=_React$useState[0],setMatch=_React$useState[1];return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){var active=!0;if(supportMatchMedia){var queryList=matchMedia(query),updateMatch=function updateMatch(){active&&setMatch(queryList.matches)};return updateMatch(),queryList.addListener(updateMatch),function(){active=!1,queryList.removeListener(updateMatch)}}}),[query,matchMedia,supportMatchMedia]),match}},"./node_modules/@material-ui/core/esm/utils/capitalize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>capitalize});var _material_ui_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js");function capitalize(string){if("string"!=typeof string)throw new Error((0,_material_ui_utils__WEBPACK_IMPORTED_MODULE_0__.Z)(7));return string.charAt(0).toUpperCase()+string.slice(1)}},"./node_modules/@material-ui/core/esm/utils/createChainedFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function createChainedFunction(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return funcs.reduce((function(acc,func){return null==func?acc:function chainedFunction(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];acc.apply(this,args),func.apply(this,args)}}),(function(){}))}__webpack_require__.d(__webpack_exports__,{Z:()=>createChainedFunction})},"./node_modules/@material-ui/core/esm/utils/debounce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function debounce(func){var timeout,wait=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function debounced(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var that=this;clearTimeout(timeout),timeout=setTimeout((function later(){func.apply(that,args)}),wait)}return debounced.clear=function(){clearTimeout(timeout)},debounced}__webpack_require__.d(__webpack_exports__,{Z:()=>debounce})},"./node_modules/@material-ui/core/esm/utils/getScrollbarSize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getScrollbarSize(){var scrollDiv=document.createElement("div");scrollDiv.style.width="99px",scrollDiv.style.height="99px",scrollDiv.style.position="absolute",scrollDiv.style.top="-9999px",scrollDiv.style.overflow="scroll",document.body.appendChild(scrollDiv);var scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;return document.body.removeChild(scrollDiv),scrollbarSize}__webpack_require__.d(__webpack_exports__,{Z:()=>getScrollbarSize})},"./node_modules/@material-ui/core/esm/utils/ownerDocument.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function ownerDocument(node){return node&&node.ownerDocument||document}__webpack_require__.d(__webpack_exports__,{Z:()=>ownerDocument})},"./node_modules/@material-ui/core/esm/utils/setRef.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function setRef(ref,value){"function"==typeof ref?ref(value):ref&&(ref.current=value)}__webpack_require__.d(__webpack_exports__,{Z:()=>setRef})},"./node_modules/@material-ui/core/esm/utils/useEventCallback.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useEventCallback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useEnhancedEffect="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function useEventCallback(fn){var ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);return useEnhancedEffect((function(){ref.current=fn})),react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(){return ref.current.apply(void 0,arguments)}),[])}},"./node_modules/@material-ui/core/esm/utils/useForkRef.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useForkRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_setRef__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@material-ui/core/esm/utils/setRef.js");function useForkRef(refA,refB){return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){return null==refA&&null==refB?null:function(refValue){(0,_setRef__WEBPACK_IMPORTED_MODULE_1__.Z)(refA,refValue),(0,_setRef__WEBPACK_IMPORTED_MODULE_1__.Z)(refB,refValue)}}),[refA,refB])}},"./node_modules/@material-ui/core/esm/withWidth/withWidth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,yJ:()=>isWidthUp});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js"),hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__),_styles_useTheme__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/useTheme.js"),_styles_createBreakpoints__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/esm/styles/createBreakpoints.js"),_useMediaQuery__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@material-ui/core/esm/useMediaQuery/useMediaQuery.js"),isWidthUp=function isWidthUp(breakpoint,width){return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?_styles_createBreakpoints__WEBPACK_IMPORTED_MODULE_2__.X.indexOf(breakpoint)<=_styles_createBreakpoints__WEBPACK_IMPORTED_MODULE_2__.X.indexOf(width):_styles_createBreakpoints__WEBPACK_IMPORTED_MODULE_2__.X.indexOf(breakpoint)<_styles_createBreakpoints__WEBPACK_IMPORTED_MODULE_2__.X.indexOf(width)},useEnhancedEffect="undefined"==typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useEffect:react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;const __WEBPACK_DEFAULT_EXPORT__=function withWidth(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(Component){var _options$withTheme=options.withTheme,withThemeOption=void 0!==_options$withTheme&&_options$withTheme,_options$noSSR=options.noSSR,noSSR=void 0!==_options$noSSR&&_options$noSSR,initialWidthOption=options.initialWidth;function WithWidth(props){var contextTheme=(0,_styles_useTheme__WEBPACK_IMPORTED_MODULE_3__.Z)(),theme=props.theme||contextTheme,_getThemeProps=(0,_material_ui_styles__WEBPACK_IMPORTED_MODULE_4__.Z)({theme,name:"MuiWithWidth",props:(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.Z)({},props)}),initialWidth=_getThemeProps.initialWidth,width=_getThemeProps.width,other=(0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__.Z)(_getThemeProps,["initialWidth","width"]),_React$useState=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),mountedState=_React$useState[0],setMountedState=_React$useState[1];useEnhancedEffect((function(){setMountedState(!0)}),[]);var widthComputed=theme.breakpoints.keys.slice().reverse().reduce((function(output,key){var matches=(0,_useMediaQuery__WEBPACK_IMPORTED_MODULE_7__.Z)(theme.breakpoints.up(key));return!output&&matches?key:output}),null),more=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.Z)({width:width||(mountedState||noSSR?widthComputed:void 0)||initialWidth||initialWidthOption},withThemeOption?{theme}:{},other);return void 0===more.width?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,more)}return hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default()(WithWidth,Component),WithWidth}}},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/ThemeProvider/ThemeProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_useTheme_ThemeContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js"),_useTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js"),_nested__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/ThemeProvider/nested.js");const __WEBPACK_DEFAULT_EXPORT__=function ThemeProvider(props){var children=props.children,localTheme=props.theme,outerTheme=(0,_useTheme__WEBPACK_IMPORTED_MODULE_2__.Z)(),theme=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((function(){var output=null===outerTheme?localTheme:function mergeOuterLocalTheme(outerTheme,localTheme){return"function"==typeof localTheme?localTheme(outerTheme):(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({},outerTheme,localTheme)}(outerTheme,localTheme);return null!=output&&(output[_nested__WEBPACK_IMPORTED_MODULE_3__.Z]=null!==outerTheme),output}),[localTheme,outerTheme]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_useTheme_ThemeContext__WEBPACK_IMPORTED_MODULE_4__.Z.Provider,{value:theme},children)}},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/ThemeProvider/nested.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function getThemeProps(params){var theme=params.theme,name=params.name,props=params.props;if(!theme||!theme.props||!theme.props[name])return props;var propName,defaultProps=theme.props[name];for(propName in defaultProps)void 0===props[propName]&&(props[propName]=defaultProps[propName]);return props}__webpack_require__.d(__webpack_exports__,{Z:()=>getThemeProps})},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>mergeClasses});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");function mergeClasses(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},baseClasses=options.baseClasses,newClasses=options.newClasses;options.Component;if(!newClasses)return baseClasses;var nextClasses=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.Z)({},baseClasses);return Object.keys(newClasses).forEach((function(key){newClasses[key]&&(nextClasses[key]="".concat(baseClasses[key]," ").concat(newClasses[key]))})),nextClasses}},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext(null)},"./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/useTheme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useTheme});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ThemeContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@material-ui/core/node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js");function useTheme(){return react__WEBPACK_IMPORTED_MODULE_0__.useContext(_ThemeContext__WEBPACK_IMPORTED_MODULE_1__.Z)}},"./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/deepmerge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>deepmerge});var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function isPlainObject(item){return item&&"object"===(0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__.Z)(item)&&item.constructor===Object}function deepmerge(target,source){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},output=options.clone?(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__.Z)({},target):target;return isPlainObject(target)&&isPlainObject(source)&&Object.keys(source).forEach((function(key){"__proto__"!==key&&(isPlainObject(source[key])&&key in target?output[key]=deepmerge(target[key],source[key],options):output[key]=source[key])})),output}},"./node_modules/@material-ui/core/node_modules/@material-ui/utils/esm/formatMuiErrorMessage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function formatMuiErrorMessage(code){for(var url="https://mui.com/production-error/?code="+code,i=1;i<arguments.length;i+=1)url+="&args[]="+encodeURIComponent(arguments[i]);return"Minified Material-UI error #"+code+"; visit "+url+" for the full message."}__webpack_require__.d(__webpack_exports__,{Z:()=>formatMuiErrorMessage})},"./node_modules/@recogito/annotorious-openseadragon/dist/openseadragon-annotorious.min.js":function(module,__unused_webpack_exports,__webpack_require__){module.exports=function(){"use strict";var ke,X,xt,yn,vs,ys,ws,Rx=Object.defineProperty,Mx=(ke,X,xt)=>X in ke?Rx(ke,X,{enumerable:!0,configurable:!0,writable:!0,value:xt}):ke[X]=xt,P=(ke,X,xt)=>(Mx(ke,"symbol"!=typeof X?X+"":X,xt),xt),Yn={},bs=[],od=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ft(i,t){for(var e in t)i[e]=t[e];return i}function Ss(i){var t=i.parentNode;t&&t.removeChild(i)}function Oe(i,t,e){var n,r,o,s={};for(o in t)"key"==o?n=t[o]:"ref"==o?r=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?ke.call(arguments,2):e),"function"==typeof i&&null!=i.defaultProps)for(o in i.defaultProps)void 0===s[o]&&(s[o]=i.defaultProps[o]);return wn(i,s,n,r,null)}function wn(i,t,e,n,r){var o={type:i,props:t,key:e,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++xt:r};return null==r&&null!=X.vnode&&X.vnode(o),o}function ur(){return{current:null}}function nt(i){return i.children}function Pe(i,t){this.props=i,this.context=t}function jt(i,t){if(null==t)return i.__?jt(i.__,i.__.__k.indexOf(i)+1):null;for(var e;t<i.__k.length;t++)if(null!=(e=i.__k[t])&&null!=e.__e)return e.__e;return"function"==typeof i.type?jt(i):null}function Es(i){var t,e;if(null!=(i=i.__)&&null!=i.__c){for(i.__e=i.__c.base=null,t=0;t<i.__k.length;t++)if(null!=(e=i.__k[t])&&null!=e.__e){i.__e=i.__c.base=e.__e;break}return Es(i)}}function cr(i){(!i.__d&&(i.__d=!0)&&yn.push(i)&&!Zn.__r++||ys!==X.debounceRendering)&&((ys=X.debounceRendering)||vs)(Zn)}function Zn(){for(var i;Zn.__r=yn.length;)i=yn.sort((function(t,e){return t.__v.__b-e.__v.__b})),yn=[],i.some((function(t){var e,n,r,o,s,a;t.__d&&(s=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=ft({},o)).__v=o.__v+1,hr(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[s]:null,n,null==s?jt(o):s,o.__h),Os(n,o),o.__e!=s&&Es(o)))}))}function xs(i,t,e,n,r,o,s,a,l,u){var c,h,d,g,y,x,b,T=n&&n.__k||bs,f=T.length;for(e.__k=[],c=0;c<t.length;c++)if(null!=(g=e.__k[c]=null==(g=t[c])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?wn(null,g,null,null,g):Array.isArray(g)?wn(nt,{children:g},null,null,null):g.__b>0?wn(g.type,g.props,g.key,null,g.__v):g)){if(g.__=e,g.__b=e.__b+1,null===(d=T[c])||d&&g.key==d.key&&g.type===d.type)T[c]=void 0;else for(h=0;h<f;h++){if((d=T[h])&&g.key==d.key&&g.type===d.type){T[h]=void 0;break}d=null}hr(i,g,d=d||Yn,r,o,s,a,l,u),y=g.__e,(h=g.ref)&&d.ref!=h&&(b||(b=[]),d.ref&&b.push(d.ref,null,g),b.push(h,g.__c||y,g)),null!=y?(null==x&&(x=y),"function"==typeof g.type&&g.__k===d.__k?g.__d=l=_s(g,l,i):l=Ts(i,g,d,T,y,l),"function"==typeof e.type&&(e.__d=l)):l&&d.__e==l&&l.parentNode!=i&&(l=jt(d))}for(e.__e=x,c=f;c--;)null!=T[c]&&("function"==typeof e.type&&null!=T[c].__e&&T[c].__e==e.__d&&(e.__d=jt(n,c+1)),Rs(T[c],T[c]));if(b)for(c=0;c<b.length;c++)Ds(b[c],b[++c],b[++c])}function _s(i,t,e){for(var n,r=i.__k,o=0;r&&o<r.length;o++)(n=r[o])&&(n.__=i,t="function"==typeof n.type?_s(n,t,e):Ts(e,n,n,r,n.__e,t));return t}function pt(i,t){return t=t||[],null==i||"boolean"==typeof i||(Array.isArray(i)?i.some((function(e){pt(e,t)})):t.push(i)),t}function Ts(i,t,e,n,r,o){var s,a,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==e||r!=o||null==r.parentNode)e:if(null==o||o.parentNode!==i)i.appendChild(r),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<n.length;l+=2)if(a==r)break e;i.insertBefore(r,o),s=o}return void 0!==s?s:r.nextSibling}function sd(i,t,e,n,r){var o;for(o in e)"children"===o||"key"===o||o in t||Kn(i,o,null,e[o],n);for(o in t)r&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||e[o]===t[o]||Kn(i,o,t[o],e[o],n)}function Cs(i,t,e){"-"===t[0]?i.setProperty(t,e):i[t]=null==e?"":"number"!=typeof e||od.test(t)?e:e+"px"}function Kn(i,t,e,n,r){var o;e:if("style"===t)if("string"==typeof e)i.style.cssText=e;else{if("string"==typeof n&&(i.style.cssText=n=""),n)for(t in n)e&&t in e||Cs(i.style,t,"");if(e)for(t in e)n&&e[t]===n[t]||Cs(i.style,t,e[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in i?t.toLowerCase().slice(2):t.slice(2),i.l||(i.l={}),i.l[t+o]=e,e?n||i.addEventListener(t,o?As:Ps,o):i.removeEventListener(t,o?As:Ps,o);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in i)try{i[t]=null==e?"":e;break e}catch{}"function"==typeof e||(null!=e&&(!1!==e||"a"===t[0]&&"r"===t[1])?i.setAttribute(t,e):i.removeAttribute(t))}}function Ps(i){this.l[i.type+!1](X.event?X.event(i):i)}function As(i){this.l[i.type+!0](X.event?X.event(i):i)}function hr(i,t,e,n,r,o,s,a,l){var u,c,h,d,g,y,x,b,T,f,E,A=t.type;if(void 0!==t.constructor)return null;null!=e.__h&&(l=e.__h,a=t.__e=e.__e,t.__h=null,o=[a]),(u=X.__b)&&u(t);try{e:if("function"==typeof A){if(b=t.props,T=(u=A.contextType)&&n[u.__c],f=u?T?T.props.value:u.__:n,e.__c?x=(c=t.__c=e.__c).__=c.__E:("prototype"in A&&A.prototype.render?t.__c=c=new A(b,f):(t.__c=c=new Pe(b,f),c.constructor=A,c.render=ld),T&&T.sub(c),c.props=b,c.state||(c.state={}),c.context=f,c.__n=n,h=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=A.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=ft({},c.__s)),ft(c.__s,A.getDerivedStateFromProps(b,c.__s))),d=c.props,g=c.state,h)null==A.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==A.getDerivedStateFromProps&&b!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(b,f),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(b,c.__s,f)||t.__v===e.__v){c.props=b,c.state=c.__s,t.__v!==e.__v&&(c.__d=!1),c.__v=t,t.__e=e.__e,t.__k=e.__k,t.__k.forEach((function(C){C&&(C.__=t)})),c.__h.length&&s.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(b,c.__s,f),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(d,g,y)}))}c.context=f,c.props=b,c.state=c.__s,(u=X.__r)&&u(t),c.__d=!1,c.__v=t,c.__P=i,u=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(n=ft(ft({},n),c.getChildContext())),h||null==c.getSnapshotBeforeUpdate||(y=c.getSnapshotBeforeUpdate(d,g)),E=null!=u&&u.type===nt&&null==u.key?u.props.children:u,xs(i,Array.isArray(E)?E:[E],t,e,n,r,o,s,a,l),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),x&&(c.__E=c.__=null),c.__e=!1}else null==o&&t.__v===e.__v?(t.__k=e.__k,t.__e=e.__e):t.__e=ad(e.__e,t,e,n,r,o,s,l);(u=X.diffed)&&u(t)}catch(C){t.__v=null,(l||null!=o)&&(t.__e=a,t.__h=!!l,o[o.indexOf(a)]=null),X.__e(C,t,e)}}function Os(i,t){X.__c&&X.__c(t,i),i.some((function(e){try{i=e.__h,e.__h=[],i.some((function(n){n.call(e)}))}catch(n){X.__e(n,e.__v)}}))}function ad(i,t,e,n,r,o,s,a){var l,u,c,h=e.props,d=t.props,g=t.type,y=0;if("svg"===g&&(r=!0),null!=o)for(;y<o.length;y++)if((l=o[y])&&"setAttribute"in l==!!g&&(g?l.localName===g:3===l.nodeType)){i=l,o[y]=null;break}if(null==i){if(null===g)return document.createTextNode(d);i=r?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,d.is&&d),o=null,a=!1}if(null===g)h===d||a&&i.data===d||(i.data=d);else{if(o=o&&ke.call(i.childNodes),u=(h=e.props||Yn).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!a){if(null!=o)for(h={},y=0;y<i.attributes.length;y++)h[i.attributes[y].name]=i.attributes[y].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===i.innerHTML)||(i.innerHTML=c&&c.__html||""))}if(sd(i,d,h,r,a),c)t.__k=[];else if(y=t.props.children,xs(i,Array.isArray(y)?y:[y],t,e,n,r&&"foreignObject"!==g,o,s,o?o[0]:e.__k&&jt(e,0),a),null!=o)for(y=o.length;y--;)null!=o[y]&&Ss(o[y]);a||("value"in d&&void 0!==(y=d.value)&&(y!==h.value||y!==i.value||"progress"===g&&!y)&&Kn(i,"value",y,h.value,!1),"checked"in d&&void 0!==(y=d.checked)&&y!==i.checked&&Kn(i,"checked",y,h.checked,!1))}return i}function Ds(i,t,e){try{"function"==typeof i?i(t):i.current=t}catch(n){X.__e(n,e)}}function Rs(i,t,e){var n,r;if(X.unmount&&X.unmount(i),(n=i.ref)&&(n.current&&n.current!==i.__e||Ds(n,null,t)),null!=(n=i.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){X.__e(o,t)}n.base=n.__P=null}if(n=i.__k)for(r=0;r<n.length;r++)n[r]&&Rs(n[r],t,"function"!=typeof i.type);e||null==i.__e||Ss(i.__e),i.__e=i.__d=void 0}function ld(i,t,e){return this.constructor(i,e)}function bn(i,t,e){var n,r,o;X.__&&X.__(i,t),r=(n="function"==typeof e)?null:e&&e.__k||t.__k,o=[],hr(t,i=(!n&&e||t).__k=Oe(nt,null,[i]),r||Yn,Yn,void 0!==t.ownerSVGElement,!n&&e?[e]:r?null:t.firstChild?ke.call(t.childNodes):null,o,!n&&e?e:r?r.__e:t.firstChild,n),Os(o,i)}function Ms(i,t){bn(i,t,Ms)}function ud(i,t,e){var n,r,o,s=ft({},i.props);for(o in t)"key"==o?n=t[o]:"ref"==o?r=t[o]:s[o]=t[o];return arguments.length>2&&(s.children=arguments.length>3?ke.call(arguments,2):e),wn(i.type,s,n||i.key,r||i.ref,null)}function Sn(i,t){var e={__c:t="__cC"+ws++,__:i,Consumer:function(n,r){return n.children(r)},Provider:function(n){var r,o;return this.getChildContext||(r=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(cr)},this.sub=function(s){r.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),a&&a.call(s)}}),n.children}};return e.Provider.__=e.Consumer.contextType=e}ke=bs.slice,X={__e:function(i,t){for(var e,n,r;t=t.__;)if((e=t.__c)&&!e.__)try{if((n=e.constructor)&&null!=n.getDerivedStateFromError&&(e.setState(n.getDerivedStateFromError(i)),r=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(i),r=e.__d),r)return e.__E=e}catch(o){i=o}throw i}},xt=0,Pe.prototype.setState=function(i,t){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ft({},this.state),"function"==typeof i&&(i=i(ft({},e),this.props)),i&&ft(e,i),null!=i&&this.__v&&(t&&this.__h.push(t),cr(this))},Pe.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),cr(this))},Pe.prototype.render=nt,yn=[],vs="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zn.__r=0,ws=0;var Ft,Le,Fs,Gt=0,dr=[],ks=X.__b,Ls=X.__r,Bs=X.diffed,Is=X.__c,Ns=X.unmount;function qt(i,t){X.__h&&X.__h(Le,i,Gt||t),Gt=0;var e=Le.__H||(Le.__H={__:[],__h:[]});return i>=e.__.length&&e.__.push({}),e.__[i]}function mt(i){return Gt=1,fr(Us,i)}function fr(i,t,e){var n=qt(Ft++,2);return n.t=i,n.__c||(n.__=[e?e(t):Us(void 0,t),function(r){var o=n.t(n.__[0],r);n.__[0]!==o&&(n.__=[o,n.__[1]],n.__c.setState({}))}],n.__c=Le),n.__}function kt(i,t){var e=qt(Ft++,3);!X.__s&&gr(e.__H,t)&&(e.__=i,e.__H=t,Le.__H.__h.push(e))}function pr(i,t){var e=qt(Ft++,4);!X.__s&&gr(e.__H,t)&&(e.__=i,e.__H=t,Le.__h.push(e))}function ot(i){return Gt=5,gt((function(){return{current:i}}),[])}function Hs(i,t,e){Gt=6,pr((function(){"function"==typeof i?i(t()):i&&(i.current=t())}),null==e?e:e.concat(i))}function gt(i,t){var e=qt(Ft++,7);return gr(e.__H,t)&&(e.__=i(),e.__H=t,e.__h=i),e.__}function st(i,t){return Gt=8,gt((function(){return i}),t)}function En(i){var t=Le.context[i.__c],e=qt(Ft++,9);return e.c=i,t?(null==e.__&&(e.__=!0,t.sub(Le)),t.props.value):i.__}function zs(i,t){X.useDebugValue&&X.useDebugValue(t?t(i):i)}function cd(i){var t=qt(Ft++,10),e=mt();return t.__=i,Le.componentDidCatch||(Le.componentDidCatch=function(n){t.__&&t.__(n),e[1](n)}),[e[0],function(){e[1](void 0)}]}function hd(){var i;for(dr.sort((function(t,e){return t.__v.__b-e.__v.__b}));i=dr.pop();)if(i.__P)try{i.__H.__h.forEach(Jn),i.__H.__h.forEach(mr),i.__H.__h=[]}catch(t){i.__H.__h=[],X.__e(t,i.__v)}}X.__b=function(i){Le=null,ks&&ks(i)},X.__r=function(i){Ls&&Ls(i),Ft=0;var t=(Le=i.__c).__H;t&&(t.__h.forEach(Jn),t.__h.forEach(mr),t.__h=[])},X.diffed=function(i){Bs&&Bs(i);var t=i.__c;t&&t.__H&&t.__H.__h.length&&(1!==dr.push(t)&&Fs===X.requestAnimationFrame||((Fs=X.requestAnimationFrame)||function(e){var n,r=function(){clearTimeout(o),Vs&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(r,100);Vs&&(n=requestAnimationFrame(r))})(hd)),Le=null},X.__c=function(i,t){t.some((function(e){try{e.__h.forEach(Jn),e.__h=e.__h.filter((function(n){return!n.__||mr(n)}))}catch(n){t.some((function(r){r.__h&&(r.__h=[])})),t=[],X.__e(n,e.__v)}})),Is&&Is(i,t)},X.unmount=function(i){Ns&&Ns(i);var t,e=i.__c;e&&e.__H&&(e.__H.__.forEach((function(n){try{Jn(n)}catch(r){t=r}})),t&&X.__e(t,e.__v))};var Vs="function"==typeof requestAnimationFrame;function Jn(i){var t=Le,e=i.__c;"function"==typeof e&&(i.__c=void 0,e()),Le=t}function mr(i){var t=Le;i.__c=i.__(),Le=t}function gr(i,t){return!i||i.length!==t.length||t.some((function(e,n){return e!==i[n]}))}function Us(i,t){return"function"==typeof t?t(i):t}function Ws(i,t){for(var e in t)i[e]=t[e];return i}function vr(i,t){for(var e in i)if("__source"!==e&&!(e in t))return!0;for(var n in t)if("__source"!==n&&i[n]!==t[n])return!0;return!1}function xn(i){this.props=i}function js(i,t){function e(r){var o=this.props.ref,s=o==r.ref;return!s&&o&&(o.call?o(null):o.current=null),t?!t(this.props,r)||!s:vr(this.props,r)}function n(r){return this.shouldComponentUpdate=e,Oe(i,r)}return n.displayName="Memo("+(i.displayName||i.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(xn.prototype=new Pe).isPureReactComponent=!0,xn.prototype.shouldComponentUpdate=function(i,t){return vr(this.props,i)||vr(this.state,t)};var Gs=X.__b;X.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),Gs&&Gs(i)};var dd="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function yr(i){function t(e,n){var r=Ws({},e);return delete r.ref,i(r,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=dd,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(i.displayName||i.name)+")",t}var qs=function(i,t){return null==i?null:pt(pt(i).map(t))},Xs={map:qs,forEach:qs,count:function(i){return i?pt(i).length:0},only:function(i){var t=pt(i);if(1!==t.length)throw"Children.only";return t[0]},toArray:pt},fd=X.__e;X.__e=function(i,t,e){if(i.then)for(var n,r=t;r=r.__;)if((n=r.__c)&&n.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),n.__c(i,t);fd(i,t,e)};var Ys=X.unmount;function _n(){this.__u=0,this.t=null,this.__b=null}function Zs(i){var t=i.__.__c;return t&&t.__e&&t.__e(i)}function Ks(i){var t,e,n;function r(o){if(t||(t=i()).then((function(s){e=s.default||s}),(function(s){n=s})),n)throw n;if(!e)throw t;return Oe(e,o)}return r.displayName="Lazy",r.__f=!0,r}function Xt(){this.u=null,this.o=null}X.unmount=function(i){var t=i.__c;t&&t.__R&&t.__R(),t&&!0===i.__h&&(i.type=null),Ys&&Ys(i)},(_n.prototype=new Pe).__c=function(i,t){var e=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(e);var r=Zs(n.__v),o=!1,s=function(){o||(o=!0,e.__R=null,r?r(a):a())};e.__R=s;var a=function(){if(! --n.__u){if(n.state.__e){var u=n.state.__e;n.__v.__k[0]=function h(d,g,y){return d&&(d.__v=null,d.__k=d.__k&&d.__k.map((function(x){return h(x,g,y)})),d.__c&&d.__c.__P===g&&(d.__e&&y.insertBefore(d.__e,d.__d),d.__c.__e=!0,d.__c.__P=y)),d}(u,u.__c.__P,u.__c.__O)}var c;for(n.setState({__e:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=!0===t.__h;n.__u++||l||n.setState({__e:n.__b=n.__v.__k[0]}),i.then(s,s)},_n.prototype.componentWillUnmount=function(){this.t=[]},_n.prototype.render=function(i,t){if(this.__b){if(this.__v.__k){var e=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function o(s,a,l){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach((function(u){"function"==typeof u.__c&&u.__c()})),s.__c.__H=null),null!=(s=Ws({},s)).__c&&(s.__c.__P===l&&(s.__c.__P=a),s.__c=null),s.__k=s.__k&&s.__k.map((function(u){return o(u,a,l)}))),s}(this.__b,e,n.__O=n.__P)}this.__b=null}var r=t.__e&&Oe(nt,null,i.fallback);return r&&(r.__h=null),[Oe(nt,null,t.__e?null:i.children),r]};var Js=function(i,t,e){if(++e[1]===e[0]&&i.o.delete(t),i.props.revealOrder&&("t"!==i.props.revealOrder[0]||!i.o.size))for(e=i.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;i.u=e=e[2]}};function pd(i){return this.getChildContext=function(){return i.context},i.children}function md(i){var t=this,e=i.i;t.componentWillUnmount=function(){bn(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),i.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,r){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),bn(Oe(pd,{context:t.context},i.__v),t.l)):t.l&&t.componentWillUnmount()}function wr(i,t){return Oe(md,{__v:i,i:t})}(Xt.prototype=new Pe).__e=function(i){var t=this,e=Zs(t.__v),n=t.o.get(i);return n[0]++,function(r){var o=function(){t.props.revealOrder?(n.push(r),Js(t,i,n)):r()};e?e(o):o()}},Xt.prototype.render=function(i){this.u=null,this.o=new Map;var t=pt(i.children);i.revealOrder&&"b"===i.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return i.children},Xt.prototype.componentDidUpdate=Xt.prototype.componentDidMount=function(){var i=this;this.o.forEach((function(t,e){Js(i,e,t)}))};var Qs="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,gd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,vd="undefined"!=typeof document,yd=function(i){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(i)};function $s(i,t,e){return null==t.__k&&(t.textContent=""),bn(i,t),"function"==typeof e&&e(),i?i.__c:null}function ea(i,t,e){return Ms(i,t),"function"==typeof e&&e(),i?i.__c:null}Pe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(i){Object.defineProperty(Pe.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(t){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:t})}})}));var ta=X.event;function wd(){}function bd(){return this.cancelBubble}function Sd(){return this.defaultPrevented}X.event=function(i){return ta&&(i=ta(i)),i.persist=wd,i.isPropagationStopped=bd,i.isDefaultPrevented=Sd,i.nativeEvent=i};var na,ia={configurable:!0,get:function(){return this.class}},ra=X.vnode;X.vnode=function(i){var t=i.type,e=i.props,n=e;if("string"==typeof t){var r=-1===t.indexOf("-");for(var o in n={},e){var s=e[o];vd&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in e&&null==s||("defaultValue"===o&&"value"in e&&null==e.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!yd(e.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():r&&gd.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),n[o]=s)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=pt(e.children).forEach((function(a){a.props.selected=-1!=n.value.indexOf(a.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=pt(e.children).forEach((function(a){a.props.selected=n.multiple?-1!=n.defaultValue.indexOf(a.props.value):n.defaultValue==a.props.value}))),i.props=n,e.class!=e.className&&(ia.enumerable="className"in e,null!=e.className&&(n.class=e.className),Object.defineProperty(n,"className",ia))}i.$$typeof=Qs,ra&&ra(i)};var oa=X.__r;X.__r=function(i){oa&&oa(i),na=i.__c};var sa={ReactCurrentDispatcher:{current:{readContext:function(i){return na.__n[i.__c].props.value}}}},Ed="17.0.2";function aa(i){return Oe.bind(null,i)}function br(i){return!!i&&i.$$typeof===Qs}function la(i){return br(i)?ud.apply(null,arguments):i}function ua(i){return!!i.__k&&(bn(null,i),!0)}function ca(i){return i&&(i.base||1===i.nodeType&&i)||null}var ha=function(i,t){return i(t)},da=function(i,t){return i(t)},xd=nt,k={useState:mt,useReducer:fr,useEffect:kt,useLayoutEffect:pr,useRef:ot,useImperativeHandle:Hs,useMemo:gt,useCallback:st,useContext:En,useDebugValue:zs,version:"17.0.2",Children:Xs,render:$s,hydrate:ea,unmountComponentAtNode:ua,createPortal:wr,createElement:Oe,createContext:Sn,createFactory:aa,cloneElement:la,createRef:ur,Fragment:nt,isValidElement:br,findDOMNode:ca,Component:Pe,PureComponent:xn,memo:js,forwardRef:yr,flushSync:da,unstable_batchedUpdates:ha,StrictMode:nt,Suspense:_n,SuspenseList:Xt,lazy:Ks,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sa},Sr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k,version:Ed,Children:Xs,render:$s,hydrate:ea,unmountComponentAtNode:ua,createPortal:wr,createFactory:aa,cloneElement:la,isValidElement:br,findDOMNode:ca,PureComponent:xn,memo:js,forwardRef:yr,flushSync:da,unstable_batchedUpdates:ha,StrictMode:xd,Suspense:_n,SuspenseList:Xt,lazy:Ks,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sa,createElement:Oe,createContext:Sn,createRef:ur,Fragment:nt,Component:Pe,useState:mt,useReducer:fr,useEffect:kt,useLayoutEffect:pr,useRef:ot,useImperativeHandle:Hs,useMemo:gt,useCallback:st,useContext:En,useDebugValue:zs,useErrorBoundary:cd}),_t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function _d(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Er(i){if(i.__esModule)return i;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(i).forEach((function(e){var n=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:function(){return i[e]}})})),t}var xr={exports:{}};function _r(){}_r.prototype={on:function(i,t,e){var n=this.e||(this.e={});return(n[i]||(n[i]=[])).push({fn:t,ctx:e}),this},once:function(i,t,e){var n=this;function r(){n.off(i,r),t.apply(e,arguments)}return r._=t,this.on(i,r,e)},emit:function(i){for(var t=[].slice.call(arguments,1),e=((this.e||(this.e={}))[i]||[]).slice(),n=0,r=e.length;n<r;n++)e[n].fn.apply(e[n].ctx,t);return this},off:function(i,t){var e=this.e||(this.e={}),n=e[i],r=[];if(n&&t)for(var o=0,s=n.length;o<s;o++)n[o].fn!==t&&n[o].fn._!==t&&r.push(n[o]);return r.length?e[i]=r:delete e[i],this}},xr.exports=_r,xr.exports.TinyEmitter=_r;var Qn=xr.exports,$n={exports:{}},fa={},Yt=Er(Sr),Tn={exports:{}},Pd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function pa(){}function ma(){}ma.resetWarningCache=pa;var Ad=function(){function i(n,r,o,s,a,l){if(l!==Pd){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return i}i.isRequired=i;var e={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:t,element:i,elementType:i,instanceOf:t,node:i,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ma,resetWarningCache:pa};return e.PropTypes=e,e};function ga(i){var t,e,n="";if("string"==typeof i||"number"==typeof i)n+=i;else if("object"==typeof i)if(Array.isArray(i))for(t=0;t<i.length;t++)i[t]&&(e=ga(i[t]))&&(n&&(n+=" "),n+=e);else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function va(){for(var i,t,e=0,n="";e<arguments.length;)(i=arguments[e++])&&(t=ga(i))&&(n&&(n+=" "),n+=t);return n}Tn.exports=Ad();var Dd=Er(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",clsx:va,default:va})),xe={},at={};function Rd(i,t){for(var e=0,n=i.length;e<n;e++)if(t.apply(t,[i[e],e,i]))return i[e]}function Md(i){return"function"==typeof i||"[object Function]"===Object.prototype.toString.call(i)}function Fd(i){return"number"==typeof i&&!isNaN(i)}function kd(i){return parseInt(i,10)}function Ld(i,t,e){if(i[t])return new Error("Invalid prop ".concat(t," passed to ").concat(e," - do not set this, set it on the child."))}Object.defineProperty(at,"__esModule",{value:!0}),at.dontSetMe=Ld,at.findInArray=Rd,at.int=kd,at.isFunction=Md,at.isNum=Fd;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.browserPrefixToKey=wa,Lt.browserPrefixToStyle=Bd,Lt.default=void 0,Lt.getPrefix=ya;var Tr=["Moz","Webkit","O","ms"];function ya(){var i,t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var n=null===(i=window.document)||void 0===i||null===(t=i.documentElement)||void 0===t?void 0:t.style;if(!n||e in n)return"";for(var r=0;r<Tr.length;r++)if(wa(e,Tr[r])in n)return Tr[r];return""}function wa(i,t){return t?"".concat(t).concat(Id(i)):i}function Bd(i,t){return t?"-".concat(t.toLowerCase(),"-").concat(i):i}function Id(i){for(var t="",e=!0,n=0;n<i.length;n++)e?(t+=i[n].toUpperCase(),e=!1):"-"===i[n]?e=!0:t+=i[n];return t}var Nd=ya();function Cr(i){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}Lt.default=Nd,Object.defineProperty(xe,"__esModule",{value:!0}),xe.addClassName=Ca,xe.addEvent=Vd,xe.addUserSelectStyles=Qd,xe.createCSSTransform=Yd,xe.createSVGTransform=Zd,xe.getTouch=Kd,xe.getTouchIdentifier=Jd,xe.getTranslation=Pr,xe.innerHeight=Gd,xe.innerWidth=qd,xe.matchesSelector=Ta,xe.matchesSelectorAndParentsTo=zd,xe.offsetXYFromParent=Xd,xe.outerHeight=Wd,xe.outerWidth=jd,xe.removeClassName=Pa,xe.removeEvent=Ud,xe.removeUserSelectStyles=$d;var qe=at,ba=Hd(Lt);function Sa(i){if("function"!=typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(Sa=function(r){return r?e:t})(i)}function Hd(i,t){if(!t&&i&&i.__esModule)return i;if(null===i||"object"!==Cr(i)&&"function"!=typeof i)return{default:i};var e=Sa(t);if(e&&e.has(i))return e.get(i);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in i)if("default"!==o&&Object.prototype.hasOwnProperty.call(i,o)){var s=r?Object.getOwnPropertyDescriptor(i,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=i[o]}return n.default=i,e&&e.set(i,n),n}function Ea(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),e.push.apply(e,n)}return e}function xa(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(e),!0).forEach((function(n){_a(i,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Ea(Object(e)).forEach((function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))}))}return i}function _a(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var ei="";function Ta(i,t){return ei||(ei=(0,qe.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(e){return(0,qe.isFunction)(i[e])}))),!!(0,qe.isFunction)(i[ei])&&i[ei](t)}function zd(i,t,e){var n=i;do{if(Ta(n,t))return!0;if(n===e)return!1;n=n.parentNode}while(n);return!1}function Vd(i,t,e,n){if(i){var r=xa({capture:!0},n);i.addEventListener?i.addEventListener(t,e,r):i.attachEvent?i.attachEvent("on"+t,e):i["on"+t]=e}}function Ud(i,t,e,n){if(i){var r=xa({capture:!0},n);i.removeEventListener?i.removeEventListener(t,e,r):i.detachEvent?i.detachEvent("on"+t,e):i["on"+t]=null}}function Wd(i){var t=i.clientHeight,e=i.ownerDocument.defaultView.getComputedStyle(i);return t+=(0,qe.int)(e.borderTopWidth),t+=(0,qe.int)(e.borderBottomWidth)}function jd(i){var t=i.clientWidth,e=i.ownerDocument.defaultView.getComputedStyle(i);return t+=(0,qe.int)(e.borderLeftWidth),t+=(0,qe.int)(e.borderRightWidth)}function Gd(i){var t=i.clientHeight,e=i.ownerDocument.defaultView.getComputedStyle(i);return t-=(0,qe.int)(e.paddingTop),t-=(0,qe.int)(e.paddingBottom)}function qd(i){var t=i.clientWidth,e=i.ownerDocument.defaultView.getComputedStyle(i);return t-=(0,qe.int)(e.paddingLeft),t-=(0,qe.int)(e.paddingRight)}function Xd(i,t,e){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(i.clientX+t.scrollLeft-r.left)/e,y:(i.clientY+t.scrollTop-r.top)/e}}function Yd(i,t){var e=Pr(i,t,"px");return _a({},(0,ba.browserPrefixToKey)("transform",ba.default),e)}function Zd(i,t){return Pr(i,t,"")}function Pr(i,t,e){var n=i.x,r=i.y,o="translate(".concat(n).concat(e,",").concat(r).concat(e,")");if(t){var s="".concat("string"==typeof t.x?t.x:t.x+e),a="".concat("string"==typeof t.y?t.y:t.y+e);o="translate(".concat(s,", ").concat(a,")")+o}return o}function Kd(i,t){return i.targetTouches&&(0,qe.findInArray)(i.targetTouches,(function(e){return t===e.identifier}))||i.changedTouches&&(0,qe.findInArray)(i.changedTouches,(function(e){return t===e.identifier}))}function Jd(i){return i.targetTouches&&i.targetTouches[0]?i.targetTouches[0].identifier:i.changedTouches&&i.changedTouches[0]?i.changedTouches[0].identifier:void 0}function Qd(i){if(i){var t=i.getElementById("react-draggable-style-el");t||((t=i.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",i.getElementsByTagName("head")[0].appendChild(t)),i.body&&Ca(i.body,"react-draggable-transparent-selection")}}function $d(i){if(i)try{if(i.body&&Pa(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{var t=(i.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch{}}function Ca(i,t){i.classList?i.classList.add(t):i.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(i.className+=" ".concat(t))}function Pa(i,t){i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.canDragX=nf,lt.canDragY=rf,lt.createCoreData=sf,lt.createDraggableData=af,lt.getBoundPosition=ef,lt.getControlPosition=of,lt.snapToGrid=tf;var Xe=at,Zt=xe;function ef(i,t,e){if(!i.props.bounds)return[t,e];var n=i.props.bounds;n="string"==typeof n?n:lf(n);var r=Ar(i);if("string"==typeof n){var a,o=r.ownerDocument,s=o.defaultView;if(!((a="parent"===n?r.parentNode:o.querySelector(n))instanceof s.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');var l=a,u=s.getComputedStyle(r),c=s.getComputedStyle(l);n={left:-r.offsetLeft+(0,Xe.int)(c.paddingLeft)+(0,Xe.int)(u.marginLeft),top:-r.offsetTop+(0,Xe.int)(c.paddingTop)+(0,Xe.int)(u.marginTop),right:(0,Zt.innerWidth)(l)-(0,Zt.outerWidth)(r)-r.offsetLeft+(0,Xe.int)(c.paddingRight)-(0,Xe.int)(u.marginRight),bottom:(0,Zt.innerHeight)(l)-(0,Zt.outerHeight)(r)-r.offsetTop+(0,Xe.int)(c.paddingBottom)-(0,Xe.int)(u.marginBottom)}}return(0,Xe.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,Xe.isNum)(n.bottom)&&(e=Math.min(e,n.bottom)),(0,Xe.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,Xe.isNum)(n.top)&&(e=Math.max(e,n.top)),[t,e]}function tf(i,t,e){return[Math.round(t/i[0])*i[0],Math.round(e/i[1])*i[1]]}function nf(i){return"both"===i.props.axis||"x"===i.props.axis}function rf(i){return"both"===i.props.axis||"y"===i.props.axis}function of(i,t,e){var n="number"==typeof t?(0,Zt.getTouch)(i,t):null;if("number"==typeof t&&!n)return null;var r=Ar(e),o=e.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,Zt.offsetXYFromParent)(n||i,o,e.props.scale)}function sf(i,t,e){var n=i.state,r=!(0,Xe.isNum)(n.lastX),o=Ar(i);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:e,x:t,y:e}:{node:o,deltaX:t-n.lastX,deltaY:e-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:e}}function af(i,t){var e=i.props.scale;return{node:t.node,x:i.state.x+t.deltaX/e,y:i.state.y+t.deltaY/e,deltaX:t.deltaX/e,deltaY:t.deltaY/e,lastX:i.state.x,lastY:i.state.y}}function lf(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function Ar(i){var t=i.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var ti={},ni={};function uf(){}function ii(i){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=uf,Object.defineProperty(ti,"__esModule",{value:!0}),ti.default=void 0;var Or=hf(Yt),Ye=Rr(Tn.exports),cf=Rr(Yt),Ve=xe,Tt=lt,Dr=at,Cn=Rr(ni);function Rr(i){return i&&i.__esModule?i:{default:i}}function Aa(i){if("function"!=typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(Aa=function(r){return r?e:t})(i)}function hf(i,t){if(!t&&i&&i.__esModule)return i;if(null===i||"object"!==ii(i)&&"function"!=typeof i)return{default:i};var e=Aa(t);if(e&&e.has(i))return e.get(i);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in i)if("default"!==o&&Object.prototype.hasOwnProperty.call(i,o)){var s=r?Object.getOwnPropertyDescriptor(i,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=i[o]}return n.default=i,e&&e.set(i,n),n}function Oa(i,t){return mf(i)||pf(i,t)||ff(i,t)||df()}function df(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ff(i,t){if(i){if("string"==typeof i)return Da(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if("Object"===e&&i.constructor&&(e=i.constructor.name),"Map"===e||"Set"===e)return Array.from(i);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Da(i,t)}}function Da(i,t){(null==t||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function pf(i,t){var e=null==i?null:"undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(null!=e){var s,a,n=[],r=!0,o=!1;try{for(e=e.call(i);!(r=(s=e.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&null!=e.return&&e.return()}finally{if(o)throw a}}return n}}function mf(i){if(Array.isArray(i))return i}function gf(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function vf(i,t,e){return t&&Ra(i.prototype,t),e&&Ra(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function yf(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&Mr(i,t)}function Mr(i,t){return(Mr=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(i,t)}function wf(i){var t=Sf();return function(){var r,n=ri(i);if(t){var o=ri(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bf(this,r)}}function bf(i,t){if(t&&("object"===ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(i)}function Ue(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Sf(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function ri(i){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(i)}function it(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var rt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ct=rt.mouse,oi=function(i){yf(e,i);var t=wf(e);function e(){var n;gf(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return it(Ue(n=t.call.apply(t,[this].concat(o))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),it(Ue(n),"mounted",!1),it(Ue(n),"handleDragStart",(function(a){if(n.props.onMouseDown(a),!n.props.allowAnyClick&&"number"==typeof a.button&&0!==a.button)return!1;var l=n.findDOMNode();if(!l||!l.ownerDocument||!l.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var u=l.ownerDocument;if(!(n.props.disabled||!(a.target instanceof u.defaultView.Node)||n.props.handle&&!(0,Ve.matchesSelectorAndParentsTo)(a.target,n.props.handle,l)||n.props.cancel&&(0,Ve.matchesSelectorAndParentsTo)(a.target,n.props.cancel,l))){"touchstart"===a.type&&a.preventDefault();var c=(0,Ve.getTouchIdentifier)(a);n.setState({touchIdentifier:c});var h=(0,Tt.getControlPosition)(a,c,Ue(n));if(null!=h){var d=h.x,g=h.y,y=(0,Tt.createCoreData)(Ue(n),d,g);(0,Cn.default)("DraggableCore: handleDragStart: %j",y),(0,Cn.default)("calling",n.props.onStart),!1===n.props.onStart(a,y)||!1===n.mounted||(n.props.enableUserSelectHack&&(0,Ve.addUserSelectStyles)(u),n.setState({dragging:!0,lastX:d,lastY:g}),(0,Ve.addEvent)(u,Ct.move,n.handleDrag),(0,Ve.addEvent)(u,Ct.stop,n.handleDragStop))}}})),it(Ue(n),"handleDrag",(function(a){var l=(0,Tt.getControlPosition)(a,n.state.touchIdentifier,Ue(n));if(null!=l){var u=l.x,c=l.y;if(Array.isArray(n.props.grid)){var h=u-n.state.lastX,d=c-n.state.lastY,y=Oa((0,Tt.snapToGrid)(n.props.grid,h,d),2);if(h=y[0],d=y[1],!h&&!d)return;u=n.state.lastX+h,c=n.state.lastY+d}var x=(0,Tt.createCoreData)(Ue(n),u,c);if((0,Cn.default)("DraggableCore: handleDrag: %j",x),!1===n.props.onDrag(a,x)||!1===n.mounted){try{n.handleDragStop(new MouseEvent("mouseup"))}catch{var T=document.createEvent("MouseEvents");T.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(T)}return}n.setState({lastX:u,lastY:c})}})),it(Ue(n),"handleDragStop",(function(a){if(n.state.dragging){var l=(0,Tt.getControlPosition)(a,n.state.touchIdentifier,Ue(n));if(null!=l){var u=l.x,c=l.y;if(Array.isArray(n.props.grid)){var h=u-n.state.lastX||0,d=c-n.state.lastY||0,y=Oa((0,Tt.snapToGrid)(n.props.grid,h,d),2);h=y[0],d=y[1],u=n.state.lastX+h,c=n.state.lastY+d}var x=(0,Tt.createCoreData)(Ue(n),u,c);if(!1===n.props.onStop(a,x)||!1===n.mounted)return!1;var T=n.findDOMNode();T&&n.props.enableUserSelectHack&&(0,Ve.removeUserSelectStyles)(T.ownerDocument),(0,Cn.default)("DraggableCore: handleDragStop: %j",x),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),T&&((0,Cn.default)("DraggableCore: Removing handlers"),(0,Ve.removeEvent)(T.ownerDocument,Ct.move,n.handleDrag),(0,Ve.removeEvent)(T.ownerDocument,Ct.stop,n.handleDragStop))}}})),it(Ue(n),"onMouseDown",(function(a){return Ct=rt.mouse,n.handleDragStart(a)})),it(Ue(n),"onMouseUp",(function(a){return Ct=rt.mouse,n.handleDragStop(a)})),it(Ue(n),"onTouchStart",(function(a){return Ct=rt.touch,n.handleDragStart(a)})),it(Ue(n),"onTouchEnd",(function(a){return Ct=rt.touch,n.handleDragStop(a)})),n}return vf(e,[{key:"componentDidMount",value:function(){this.mounted=!0;var r=this.findDOMNode();r&&(0,Ve.addEvent)(r,rt.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.findDOMNode();if(r){var o=r.ownerDocument;(0,Ve.removeEvent)(o,rt.mouse.move,this.handleDrag),(0,Ve.removeEvent)(o,rt.touch.move,this.handleDrag),(0,Ve.removeEvent)(o,rt.mouse.stop,this.handleDragStop),(0,Ve.removeEvent)(o,rt.touch.stop,this.handleDragStop),(0,Ve.removeEvent)(r,rt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ve.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var r,o,s;return null!==(r=this.props)&&void 0!==r&&r.nodeRef?null===(o=this.props)||void 0===o||null===(s=o.nodeRef)||void 0===s?void 0:s.current:cf.default.findDOMNode(this)}},{key:"render",value:function(){return Or.cloneElement(Or.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(Or.Component);ti.default=oi,it(oi,"displayName","DraggableCore"),it(oi,"propTypes",{allowAnyClick:Ye.default.bool,disabled:Ye.default.bool,enableUserSelectHack:Ye.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Ye.default.arrayOf(Ye.default.number),handle:Ye.default.string,cancel:Ye.default.string,nodeRef:Ye.default.object,onStart:Ye.default.func,onDrag:Ye.default.func,onStop:Ye.default.func,onMouseDown:Ye.default.func,scale:Ye.default.number,className:Dr.dontSetMe,style:Dr.dontSetMe,transform:Dr.dontSetMe}),it(oi,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(i){function t(F){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(F)}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),i.default=void 0;var e=y(Yt),n=d(Tn.exports),r=d(Yt),o=d(Dd),s=xe,a=lt,l=at,u=d(ti),c=d(ni),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(F){return F&&F.__esModule?F:{default:F}}function g(F){if("function"!=typeof WeakMap)return null;var H=new WeakMap,U=new WeakMap;return(g=function(j){return j?U:H})(F)}function y(F,H){if(!H&&F&&F.__esModule)return F;if(null===F||"object"!==t(F)&&"function"!=typeof F)return{default:F};var U=g(H);if(U&&U.has(F))return U.get(F);var W={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in F)if("default"!==$&&Object.prototype.hasOwnProperty.call(F,$)){var ae=j?Object.getOwnPropertyDescriptor(F,$):null;ae&&(ae.get||ae.set)?Object.defineProperty(W,$,ae):W[$]=F[$]}return W.default=F,U&&U.set(F,W),W}function x(){return x=Object.assign||function(F){for(var H=1;H<arguments.length;H++){var U=arguments[H];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(F[W]=U[W])}return F},x.apply(this,arguments)}function b(F,H){if(null==F)return{};var W,j,U=T(F,H);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(F);for(j=0;j<$.length;j++)W=$[j],!(H.indexOf(W)>=0)&&(!Object.prototype.propertyIsEnumerable.call(F,W)||(U[W]=F[W]))}return U}function T(F,H){if(null==F)return{};var j,$,U={},W=Object.keys(F);for($=0;$<W.length;$++)j=W[$],!(H.indexOf(j)>=0)&&(U[j]=F[j]);return U}function f(F,H){var U=Object.keys(F);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(F);H&&(W=W.filter((function(j){return Object.getOwnPropertyDescriptor(F,j).enumerable}))),U.push.apply(U,W)}return U}function E(F){for(var H=1;H<arguments.length;H++){var U=null!=arguments[H]?arguments[H]:{};H%2?f(Object(U),!0).forEach((function(W){G(F,W,U[W])})):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(U)):f(Object(U)).forEach((function(W){Object.defineProperty(F,W,Object.getOwnPropertyDescriptor(U,W))}))}return F}function A(F,H){return B(F)||I(F,H)||O(F,H)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(F,H){if(F){if("string"==typeof F)return D(F,H);var U=Object.prototype.toString.call(F).slice(8,-1);if("Object"===U&&F.constructor&&(U=F.constructor.name),"Map"===U||"Set"===U)return Array.from(F);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return D(F,H)}}function D(F,H){(null==H||H>F.length)&&(H=F.length);for(var U=0,W=new Array(H);U<H;U++)W[U]=F[U];return W}function I(F,H){var U=null==F?null:"undefined"!=typeof Symbol&&F[Symbol.iterator]||F["@@iterator"];if(null!=U){var ae,we,W=[],j=!0,$=!1;try{for(U=U.call(F);!(j=(ae=U.next()).done)&&(W.push(ae.value),!H||W.length!==H);j=!0);}catch(me){$=!0,we=me}finally{try{!j&&null!=U.return&&U.return()}finally{if($)throw we}}return W}}function B(F){if(Array.isArray(F))return F}function Z(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function Y(F,H){for(var U=0;U<H.length;U++){var W=H[U];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(F,W.key,W)}}function V(F,H,U){return H&&Y(F.prototype,H),U&&Y(F,U),Object.defineProperty(F,"prototype",{writable:!1}),F}function K(F,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),H&&Q(F,H)}function Q(F,H){return(Q=Object.setPrototypeOf||function(W,j){return W.__proto__=j,W})(F,H)}function le(F){var H=de();return function(){var j,W=pe(F);if(H){var $=pe(this).constructor;j=Reflect.construct(W,arguments,$)}else j=W.apply(this,arguments);return re(this,j)}}function re(F,H){if(H&&("object"===t(H)||"function"==typeof H))return H;if(void 0!==H)throw new TypeError("Derived constructors may only return object or undefined");return se(F)}function se(F){if(void 0===F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function de(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function pe(F){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(F)}function G(F,H,U){return H in F?Object.defineProperty(F,H,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[H]=U,F}var Me=function(F){K(U,F);var H=le(U);function U(W){var j;return Z(this,U),G(se(j=H.call(this,W)),"onDragStart",(function($,ae){if((0,c.default)("Draggable: onDragStart: %j",ae),!1===j.props.onStart($,(0,a.createDraggableData)(se(j),ae)))return!1;j.setState({dragging:!0,dragged:!0})})),G(se(j),"onDrag",(function($,ae){if(!j.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",ae);var we=(0,a.createDraggableData)(se(j),ae),me={x:we.x,y:we.y};if(j.props.bounds){var Qe=me.x,$e=me.y;me.x+=j.state.slackX,me.y+=j.state.slackY;var p=A((0,a.getBoundPosition)(se(j),me.x,me.y),2),_=p[0],R=p[1];me.x=_,me.y=R,me.slackX=j.state.slackX+(Qe-me.x),me.slackY=j.state.slackY+($e-me.y),we.x=me.x,we.y=me.y,we.deltaX=me.x-j.state.x,we.deltaY=me.y-j.state.y}if(!1===j.props.onDrag($,we))return!1;j.setState(me)})),G(se(j),"onDragStop",(function($,ae){if(!j.state.dragging)return!1;if(!1===j.props.onStop($,(0,a.createDraggableData)(se(j),ae)))return!1;(0,c.default)("Draggable: onDragStop: %j",ae);var me={dragging:!1,slackX:0,slackY:0};if(Boolean(j.props.position)){var $e=j.props.position,et=$e.x,p=$e.y;me.x=et,me.y=p}j.setState(me)})),j.state={dragging:!1,dragged:!1,x:W.position?W.position.x:W.defaultPosition.x,y:W.position?W.position.y:W.defaultPosition.y,prevPropsPosition:E({},W.position),slackX:0,slackY:0,isElementSVG:!1},W.position&&!(W.onDrag||W.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),j}return V(U,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var j,$,ae;return null!==(j=null===($=this.props)||void 0===$||null===(ae=$.nodeRef)||void 0===ae?void 0:ae.current)&&void 0!==j?j:r.default.findDOMNode(this)}},{key:"render",value:function(){var j,$=this.props;$.axis,$.bounds;var ae=$.children,we=$.defaultPosition,me=$.defaultClassName,Qe=$.defaultClassNameDragging,$e=$.defaultClassNameDragged,et=$.position,p=$.positionOffset;$.scale;var _=b($,h),R={},N=null,J=!Boolean(et)||this.state.dragging,q=et||we,fe={x:(0,a.canDragX)(this)&&J?this.state.x:q.x,y:(0,a.canDragY)(this)&&J?this.state.y:q.y};this.state.isElementSVG?N=(0,s.createSVGTransform)(fe,p):R=(0,s.createCSSTransform)(fe,p);var Se=(0,o.default)(ae.props.className||"",me,(G(j={},Qe,this.state.dragging),G(j,$e,this.state.dragged),j));return e.createElement(u.default,x({},_,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(ae),{className:Se,style:E(E({},ae.props.style),R),transform:N}))}}],[{key:"getDerivedStateFromProps",value:function(j,$){var ae=j.position,we=$.prevPropsPosition;return!ae||we&&ae.x===we.x&&ae.y===we.y?null:((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:ae,prevPropsPosition:we}),{x:ae.x,y:ae.y,prevPropsPosition:E({},ae)})}}]),U}(e.Component);i.default=Me,G(Me,"displayName","Draggable"),G(Me,"propTypes",E(E({},u.default.propTypes),{},{axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),G(Me,"defaultProps",E(E({},u.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(fa);var Ma=fa,Fa=Ma.default,Ef=Ma.DraggableCore;$n.exports=Fa,$n.exports.default=Fa,$n.exports.DraggableCore=Ef;var xf=$n.exports,_f=["second","minute","hour","day","week","month","year"];function Tf(i,t){if(0===t)return["just now","right now"];var e=_f[Math.floor(t/2)];return i>1&&(e+="s"),[i+" "+e+" ago","in "+i+" "+e]}var Cf=["秒","分钟","小时","天","周","个月","年"];function Pf(i,t){if(0===t)return["刚刚","片刻后"];var e=Cf[~~(t/2)];return[i+" "+e+"前",i+" "+e+"后"]}var Fr={},_e=function(i,t){Fr[i]=t},ka=function(i){return Fr[i]||Fr.en_US},Bt=[60,60,24,7,365/7/12,12];function La(i){return i instanceof Date?i:!isNaN(i)||/^\d+$/.test(i)?new Date(parseInt(i)):(i=(i||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(i))}function Ba(i,t){for(var e=i<0?1:0,n=i=Math.abs(i),r=0;i>=Bt[r]&&r<Bt.length;r++)i/=Bt[r];return(i=Math.floor(i))>(0==(r*=2)?9:1)&&(r+=1),t(i,r,n)[e].replace("%s",i.toString())}function Ia(i,t){return(+(t?La(t):new Date)-+La(i))/1e3}function Af(i){for(var t=1,e=0,n=Math.abs(i);i>=Bt[e]&&e<Bt.length;e++)i/=Bt[e],t*=Bt[e];return n=(n%=t)?t-n:t,Math.ceil(n)}var Of=function(i,t,e){return Ba(Ia(i,e&&e.relativeDate),ka(t))},Na="timeago-id";function Df(i){return i.getAttribute("datetime")}function Rf(i,t){i.setAttribute(Na,t)}function Ha(i){return parseInt(i.getAttribute(Na))}var kr={},Lr=function(i){clearTimeout(i),delete kr[i]};function za(i,t,e,n){Lr(Ha(i));var r=n.relativeDate,o=n.minInterval,s=Ia(t,r);i.innerText=Ba(s,e);var a=setTimeout((function(){za(i,t,e,n)}),Math.min(1e3*Math.max(Af(s),o||1),2147483647));kr[a]=0,Rf(i,a)}function Va(i){i?Lr(Ha(i)):Object.keys(kr).forEach(Lr)}function Mf(i,t,e){var n=i.length?i:[i];return n.forEach((function(r){za(r,Df(r),ka(t),e||{})})),n}_e("en_US",Tf),_e("zh_CN",Pf);var i,Ff=globalThis&&globalThis.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Br=globalThis&&globalThis.__assign||function(){return Br=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},Br.apply(this,arguments)},kf=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(null!=i&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]])}return e},Lf=function(i){return""+(i instanceof Date?i.getTime():i)},Bf=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.dom=null,e}return Ff(t,i),t.prototype.componentDidMount=function(){this.renderTimeAgo()},t.prototype.componentDidUpdate=function(){this.renderTimeAgo()},t.prototype.renderTimeAgo=function(){var e=this.props,n=e.live,r=e.datetime,o=e.locale,s=e.opts;Va(this.dom),!1!==n&&(this.dom.setAttribute("datetime",Lf(r)),Mf(this.dom,o,s))},t.prototype.componentWillUnmount=function(){Va(this.dom)},t.prototype.render=function(){var e=this,n=this.props,r=n.datetime;n.live;var o=n.locale,s=n.opts,a=kf(n,["datetime","live","locale","opts"]);return Oe("time",Br({ref:function(l){e.dom=l}},a),Of(r,o,s))},t.defaultProps={live:!0,className:""},t}(xn);function If(i,t){const e=n=>{i.current&&!i.current.contains(event.target)&&t()};kt((()=>(document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e))))}var ja,Ua=Object.prototype.toString,Wa=function(t){var e=Ua.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Ua.call(t.callee)),n};if(!Object.keys){var si=Object.prototype.hasOwnProperty,Ga=Object.prototype.toString,Nf=Wa,qa=Object.prototype.propertyIsEnumerable,Hf=!qa.call({toString:null},"toString"),zf=qa.call((function(){}),"prototype"),ai=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ir=function(i){var t=i.constructor;return t&&t.prototype===i},Vf={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Uf=function(){if("undefined"==typeof window)return!1;for(var i in window)try{if(!Vf["$"+i]&&si.call(window,i)&&null!==window[i]&&"object"==typeof window[i])try{Ir(window[i])}catch{return!0}}catch{return!0}return!1}(),Wf=function(i){if("undefined"==typeof window||!Uf)return Ir(i);try{return Ir(i)}catch{return!1}};ja=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===Ga.call(t),r=Nf(t),o=e&&"[object String]"===Ga.call(t),s=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=zf&&n;if(o&&t.length>0&&!si.call(t,0))for(var l=0;l<t.length;++l)s.push(String(l));if(r&&t.length>0)for(var u=0;u<t.length;++u)s.push(String(u));else for(var c in t)(!a||"prototype"!==c)&&si.call(t,c)&&s.push(String(c));if(Hf)for(var h=Wf(t),d=0;d<ai.length;++d)(!h||"constructor"!==ai[d])&&si.call(t,ai[d])&&s.push(ai[d]);return s}}var jf=ja,Gf=Array.prototype.slice,qf=Wa,Xa=Object.keys,li=Xa?function(t){return Xa(t)}:jf,Ya=Object.keys;li.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(n){return qf(n)?Ya(Gf.call(n)):Ya(n)})}else Object.keys=li;return Object.keys||li};var ue,Xf=li,Za=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(e in t[e]=r,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==r||!0!==s.enumerable)return!1}return!0},Ka="undefined"!=typeof Symbol&&Symbol,Yf=Za,Ja=function(){return"function"==typeof Ka&&"function"==typeof Symbol&&"symbol"==typeof Ka("foo")&&"symbol"==typeof Symbol("bar")&&Yf()},Qa={foo:{}},Zf=Object,Kf=function(){return{__proto__:Qa}.foo===Qa.foo&&!({__proto__:null}instanceof Zf)},Jf="Function.prototype.bind called on incompatible ",Nr=Array.prototype.slice,Qf=Object.prototype.toString,$f="[object Function]",ep=function(t){var e=this;if("function"!=typeof e||Qf.call(e)!==$f)throw new TypeError(Jf+e);for(var r,n=Nr.call(arguments,1),o=function(){if(this instanceof r){var c=e.apply(this,n.concat(Nr.call(arguments)));return Object(c)===c?c:this}return e.apply(t,n.concat(Nr.call(arguments)))},s=Math.max(0,e.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var u=function(){};u.prototype=e.prototype,r.prototype=new u,u.prototype=null}return r},tp=ep,Hr=Function.prototype.bind||tp,$a=Hr.call(Function.call,Object.prototype.hasOwnProperty),Kt=SyntaxError,el=Function,Jt=TypeError,zr=function(i){try{return el('"use strict"; return ('+i+").constructor;")()}catch{}},It=Object.getOwnPropertyDescriptor;if(It)try{It({},"")}catch{It=null}var Vr=function(){throw new Jt},ip=It?function(){try{return Vr}catch{try{return It(arguments,"callee").get}catch{return Vr}}}():Vr,Qt=Ja(),rp=Kf(),De=Object.getPrototypeOf||(rp?function(i){return i.__proto__}:null),$t={},op="undefined"!=typeof Uint8Array&&De?De(Uint8Array):ue,Nt={"%AggregateError%":"undefined"==typeof AggregateError?ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?ue:ArrayBuffer,"%ArrayIteratorPrototype%":Qt&&De?De([][Symbol.iterator]()):ue,"%AsyncFromSyncIteratorPrototype%":ue,"%AsyncFunction%":$t,"%AsyncGenerator%":$t,"%AsyncGeneratorFunction%":$t,"%AsyncIteratorPrototype%":$t,"%Atomics%":"undefined"==typeof Atomics?ue:Atomics,"%BigInt%":"undefined"==typeof BigInt?ue:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?ue:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?ue:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?ue:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?ue:FinalizationRegistry,"%Function%":el,"%GeneratorFunction%":$t,"%Int8Array%":"undefined"==typeof Int8Array?ue:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?ue:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qt&&De?De(De([][Symbol.iterator]())):ue,"%JSON%":"object"==typeof JSON?JSON:ue,"%Map%":"undefined"==typeof Map?ue:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Qt&&De?De((new Map)[Symbol.iterator]()):ue,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?ue:Promise,"%Proxy%":"undefined"==typeof Proxy?ue:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?ue:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?ue:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Qt&&De?De((new Set)[Symbol.iterator]()):ue,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qt&&De?De(""[Symbol.iterator]()):ue,"%Symbol%":Qt?Symbol:ue,"%SyntaxError%":Kt,"%ThrowTypeError%":ip,"%TypedArray%":op,"%TypeError%":Jt,"%Uint8Array%":"undefined"==typeof Uint8Array?ue:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?ue:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?ue:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?ue:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?ue:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?ue:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?ue:WeakSet};if(De)try{null.error}catch(i){var sp=De(De(i));Nt["%Error.prototype%"]=sp}var ap=function i(t){var e;if("%AsyncFunction%"===t)e=zr("async function () {}");else if("%GeneratorFunction%"===t)e=zr("function* () {}");else if("%AsyncGeneratorFunction%"===t)e=zr("async function* () {}");else if("%AsyncGenerator%"===t){var n=i("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=i("%AsyncGenerator%");r&&De&&(e=De(r.prototype))}return Nt[t]=e,e},tl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Pn=Hr,ui=$a,lp=Pn.call(Function.call,Array.prototype.concat),up=Pn.call(Function.apply,Array.prototype.splice),nl=Pn.call(Function.call,String.prototype.replace),ci=Pn.call(Function.call,String.prototype.slice),cp=Pn.call(Function.call,RegExp.prototype.exec),hp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,dp=/\\(\\)?/g,fp=function(t){var e=ci(t,0,1),n=ci(t,-1);if("%"===e&&"%"!==n)throw new Kt("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new Kt("invalid intrinsic syntax, expected opening `%`");var r=[];return nl(t,hp,(function(o,s,a,l){r[r.length]=a?nl(l,dp,"$1"):s||o})),r},pp=function(t,e){var r,n=t;if(ui(tl,n)&&(n="%"+(r=tl[n])[0]+"%"),ui(Nt,n)){var o=Nt[n];if(o===$t&&(o=ap(n)),void 0===o&&!e)throw new Jt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new Kt("intrinsic "+t+" does not exist!")},Be=function(t,e){if("string"!=typeof t||0===t.length)throw new Jt("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new Jt('"allowMissing" argument must be a boolean');if(null===cp(/^%?[^%]*%?$/,t))throw new Kt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=fp(t),r=n.length>0?n[0]:"",o=pp("%"+r+"%",e),s=o.name,a=o.value,l=!1,u=o.alias;u&&(r=u[0],up(n,lp([0,1],u)));for(var c=1,h=!0;c<n.length;c+=1){var d=n[c],g=ci(d,0,1),y=ci(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new Kt("property names with quotes must have matching quotes");if(("constructor"===d||!h)&&(l=!0),ui(Nt,s="%"+(r+="."+d)+"%"))a=Nt[s];else if(null!=a){if(!(d in a)){if(!e)throw new Jt("base intrinsic for "+t+" exists, but the property is not available.");return}if(It&&c+1>=n.length){var x=It(a,d);a=(h=!!x)&&"get"in x&&!("originalValue"in x.get)?x.get:a[d]}else h=ui(a,d),a=a[d];h&&!l&&(Nt[s]=a)}}return a},Ur=Be("%Object.defineProperty%",!0),Wr=function(){if(Ur)try{return Ur({},"a",{value:1}),!0}catch{return!1}return!1};Wr.hasArrayLengthDefineBug=function(){if(!Wr())return null;try{return 1!==Ur([],"length",{value:1}).length}catch{return!0}};var gp=Wr,vp=Xf,yp="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),wp=Object.prototype.toString,bp=Array.prototype.concat,il=Object.defineProperty,Sp=function(i){return"function"==typeof i&&"[object Function]"===wp.call(i)},Ep=gp(),rl=il&&Ep,xp=function(i,t,e,n){if(t in i)if(!0===n){if(i[t]===e)return}else if(!Sp(n)||!n())return;rl?il(i,t,{configurable:!0,enumerable:!1,value:e,writable:!0}):i[t]=e},ol=function(i,t){var e=arguments.length>2?arguments[2]:{},n=vp(t);yp&&(n=bp.call(n,Object.getOwnPropertySymbols(t)));for(var r=0;r<n.length;r+=1)xp(i,n[r],t[n[r]],e[n[r]])};ol.supportsDescriptors=!!rl;var en=ol,An={exports:{}};!function(i){var t=Hr,e=Be,n=e("%Function.prototype.apply%"),r=e("%Function.prototype.call%"),o=e("%Reflect.apply%",!0)||t.call(r,n),s=e("%Object.getOwnPropertyDescriptor%",!0),a=e("%Object.defineProperty%",!0),l=e("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}i.exports=function(h){var d=o(t,r,arguments);return s&&a&&s(d,"length").configurable&&a(d,"length",{value:1+l(0,h.length-(arguments.length-1))}),d};var u=function(){return o(t,n,arguments)};a?a(i.exports,"apply",{value:u}):i.exports.apply=u}(An);var sl=Be,al=An.exports,_p=al(sl("String.prototype.indexOf")),vt=function(t,e){var n=sl(t,!!e);return"function"==typeof n&&_p(t,".prototype.")>-1?al(n):n},Cp=Be("%TypeError%"),On=function(t,e){if(null==t)throw new Cp(e||"Cannot call method on "+t);return t},ll=Be("%Array%"),Op=!ll.isArray&&vt("Object.prototype.toString"),Rp=ll.isArray||function(t){return"[object Array]"===Op(t)},ul=Be,Mp=vt,Fp=ul("%TypeError%"),kp=Rp,Lp=ul("%Reflect.apply%",!0)||Mp("Function.prototype.apply"),Bp=function(t,e){var n=arguments.length>2?arguments[2]:[];if(!kp(n))throw new Fp("Assertion failed: optional `argumentsList`, if provided, must be a List");return Lp(t,e,n)},Ip={},Hp=Er(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ip})),jr="function"==typeof Map&&Map.prototype,Gr=Object.getOwnPropertyDescriptor&&jr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hi=jr&&Gr&&"function"==typeof Gr.get?Gr.get:null,cl=jr&&Map.prototype.forEach,qr="function"==typeof Set&&Set.prototype,Xr=Object.getOwnPropertyDescriptor&&qr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,di=qr&&Xr&&"function"==typeof Xr.get?Xr.get:null,hl=qr&&Set.prototype.forEach,Dn="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Rn="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,dl="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Wp=Boolean.prototype.valueOf,jp=Object.prototype.toString,Gp=Function.prototype.toString,qp=String.prototype.match,Yr=String.prototype.slice,Pt=String.prototype.replace,Xp=String.prototype.toUpperCase,fl=String.prototype.toLowerCase,pl=RegExp.prototype.test,ml=Array.prototype.concat,ut=Array.prototype.join,Yp=Array.prototype.slice,gl=Math.floor,Zr="function"==typeof BigInt?BigInt.prototype.valueOf:null,Kr=Object.getOwnPropertySymbols,Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,tn="function"==typeof Symbol&&"object"==typeof Symbol.iterator,We="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,vl=Object.prototype.propertyIsEnumerable,yl=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function wl(i,t){if(i===1/0||i===-1/0||i!=i||i&&i>-1e3&&i<1e3||pl.call(/e/,t))return t;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof i){var n=i<0?-gl(-i):gl(i);if(n!==i){var r=String(n),o=Yr.call(t,r.length+1);return Pt.call(r,e,"$&_")+"."+Pt.call(Pt.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pt.call(t,e,"$&_")}var Qr=Hp,bl=Qr.custom,Sl=_l(bl)?bl:null,Zp=function i(t,e,n,r){var o=e||{};if(At(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(At(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!At(o,"customInspect")||o.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(At(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(At(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Cl(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return a?wl(t,l):l}if("bigint"==typeof t){var u=String(t)+"n";return a?wl(t,u):u}var c=void 0===o.depth?5:o.depth;if(void 0===n&&(n=0),n>=c&&c>0&&"object"==typeof t)return $r(t)?"[Array]":"[Object]";var h=fm(o,n);if(void 0===r)r=[];else if(Tl(r,t)>=0)return"[Circular]";function d(K,Q,le){if(Q&&(r=Yp.call(r)).push(Q),le){var re={depth:o.depth};return At(o,"quoteStyle")&&(re.quoteStyle=o.quoteStyle),i(K,re,n+1,r)}return i(K,o,n+1,r)}if("function"==typeof t&&!xl(t)){var g=rm(t),y=fi(t,d);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+ut.call(y,", ")+" }":"")}if(_l(t)){var x=tn?Pt.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Jr.call(t);return"object"!=typeof t||tn?x:Mn(x)}if(cm(t)){for(var b="<"+fl.call(String(t.nodeName)),T=t.attributes||[],f=0;f<T.length;f++)b+=" "+T[f].name+"="+El(Kp(T[f].value),"double",o);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+fl.call(String(t.nodeName))+">"}if($r(t)){if(0===t.length)return"[]";var E=fi(t,d);return h&&!dm(E)?"["+to(E,h)+"]":"[ "+ut.call(E,", ")+" ]"}if(Qp(t)){var A=fi(t,d);return"cause"in Error.prototype||!("cause"in t)||vl.call(t,"cause")?0===A.length?"["+String(t)+"]":"{ ["+String(t)+"] "+ut.call(A,", ")+" }":"{ ["+String(t)+"] "+ut.call(ml.call("[cause]: "+d(t.cause),A),", ")+" }"}if("object"==typeof t&&s){if(Sl&&"function"==typeof t[Sl]&&Qr)return Qr(t,{depth:c-n});if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(om(t)){var C=[];return cl&&cl.call(t,(function(K,Q){C.push(d(Q,t,!0)+" => "+d(K,t))})),Pl("Map",hi.call(t),C,h)}if(lm(t)){var O=[];return hl&&hl.call(t,(function(K){O.push(d(K,t))})),Pl("Set",di.call(t),O,h)}if(sm(t))return eo("WeakMap");if(um(t))return eo("WeakSet");if(am(t))return eo("WeakRef");if(em(t))return Mn(d(Number(t)));if(nm(t))return Mn(d(Zr.call(t)));if(tm(t))return Mn(Wp.call(t));if($p(t))return Mn(d(String(t)));if(!Jp(t)&&!xl(t)){var D=fi(t,d),I=yl?yl(t)===Object.prototype:t instanceof Object||t.constructor===Object,B=t instanceof Object?"":"null prototype",Z=!I&&We&&Object(t)===t&&We in t?Yr.call(Ot(t),8,-1):B?"Object":"",V=(I||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(Z||B?"["+ut.call(ml.call([],Z||[],B||[]),": ")+"] ":"");return 0===D.length?V+"{}":h?V+"{"+to(D,h)+"}":V+"{ "+ut.call(D,", ")+" }"}return String(t)};function El(i,t,e){var n="double"===(e.quoteStyle||t)?'"':"'";return n+i+n}function Kp(i){return Pt.call(String(i),/"/g,"&quot;")}function $r(i){return!("[object Array]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function Jp(i){return!("[object Date]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function xl(i){return!("[object RegExp]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function Qp(i){return!("[object Error]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function $p(i){return!("[object String]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function em(i){return!("[object Number]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function tm(i){return!("[object Boolean]"!==Ot(i)||We&&"object"==typeof i&&We in i)}function _l(i){if(tn)return i&&"object"==typeof i&&i instanceof Symbol;if("symbol"==typeof i)return!0;if(!i||"object"!=typeof i||!Jr)return!1;try{return Jr.call(i),!0}catch{}return!1}function nm(i){if(!i||"object"!=typeof i||!Zr)return!1;try{return Zr.call(i),!0}catch{}return!1}var im=Object.prototype.hasOwnProperty||function(i){return i in this};function At(i,t){return im.call(i,t)}function Ot(i){return jp.call(i)}function rm(i){if(i.name)return i.name;var t=qp.call(Gp.call(i),/^function\s*([\w$]+)/);return t?t[1]:null}function Tl(i,t){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e;return-1}function om(i){if(!hi||!i||"object"!=typeof i)return!1;try{hi.call(i);try{di.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function sm(i){if(!Dn||!i||"object"!=typeof i)return!1;try{Dn.call(i,Dn);try{Rn.call(i,Rn)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function am(i){if(!dl||!i||"object"!=typeof i)return!1;try{return dl.call(i),!0}catch{}return!1}function lm(i){if(!di||!i||"object"!=typeof i)return!1;try{di.call(i);try{hi.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function um(i){if(!Rn||!i||"object"!=typeof i)return!1;try{Rn.call(i,Rn);try{Dn.call(i,Dn)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function cm(i){return!(!i||"object"!=typeof i)&&("undefined"!=typeof HTMLElement&&i instanceof HTMLElement||"string"==typeof i.nodeName&&"function"==typeof i.getAttribute)}function Cl(i,t){if(i.length>t.maxStringLength){var e=i.length-t.maxStringLength,n="... "+e+" more character"+(e>1?"s":"");return Cl(Yr.call(i,0,t.maxStringLength),t)+n}return El(Pt.call(Pt.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,hm),"single",t)}function hm(i){var t=i.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+Xp.call(t.toString(16))}function Mn(i){return"Object("+i+")"}function eo(i){return i+" { ? }"}function Pl(i,t,e,n){return i+" ("+t+") {"+(n?to(e,n):ut.call(e,", "))+"}"}function dm(i){for(var t=0;t<i.length;t++)if(Tl(i[t],"\n")>=0)return!1;return!0}function fm(i,t){var e;if("\t"===i.indent)e="\t";else{if(!("number"==typeof i.indent&&i.indent>0))return null;e=ut.call(Array(i.indent+1)," ")}return{base:e,prev:ut.call(Array(t+1),e)}}function to(i,t){if(0===i.length)return"";var e="\n"+t.prev+t.base;return e+ut.call(i,","+e)+"\n"+t.prev}function fi(i,t){var e=$r(i),n=[];if(e){n.length=i.length;for(var r=0;r<i.length;r++)n[r]=At(i,r)?t(i[r],i):""}var s,o="function"==typeof Kr?Kr(i):[];if(tn){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in i)!At(i,l)||e&&String(Number(l))===l&&l<i.length||tn&&s["$"+l]instanceof Symbol||(pl.call(/[^\w$]/,l)?n.push(t(l,i)+": "+t(i[l],i)):n.push(l+": "+t(i[l],i)));if("function"==typeof Kr)for(var u=0;u<o.length;u++)vl.call(i,o[u])&&n.push("["+t(o[u])+"]: "+t(i[o[u]],i));return n}var no,pi,Al=function(t){return"string"==typeof t||"symbol"==typeof t},mm=function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},Fn=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":mm(t)},Ol=Be("%TypeError%"),vm=Zp,ym=Al,wm=Fn,Dl=function(t,e){if("Object"!==wm(t))throw new Ol("Assertion failed: Type(O) is not Object");if(!ym(e))throw new Ol("Assertion failed: IsPropertyKey(P) is not true, got "+vm(e));return t[e]},Rl=Be("%TypeError%"),Sm=Al,Em=Fn,xm=function(t,e){if("Object"!==Em(t))throw new Rl("Assertion failed: `O` must be an Object");if(!Sm(e))throw new Rl("Assertion failed: `P` must be a Property Key");return e in t},Ml=Function.prototype.toString,nn="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof nn&&"function"==typeof Object.defineProperty)try{no=Object.defineProperty({},"length",{get:function(){throw pi}}),pi={},nn((function(){throw 42}),null,no)}catch(i){i!==pi&&(nn=null)}else nn=null;var _m=/^\s*class\b/,io=function(t){try{var e=Ml.call(t);return _m.test(e)}catch{return!1}},ro=function(t){try{return!io(t)&&(Ml.call(t),!0)}catch{return!1}},mi=Object.prototype.toString,Tm="[object Object]",Cm="[object Function]",Pm="[object GeneratorFunction]",Am="[object HTMLAllCollection]",Om="[object HTML document.all class]",Dm="[object HTMLCollection]",Rm="function"==typeof Symbol&&!!Symbol.toStringTag,Mm=!(0 in[,]),oo=function(){return!1};if("object"==typeof document){var Fm=document.all;mi.call(Fm)===mi.call(document.all)&&(oo=function(t){if((Mm||!t)&&(void 0===t||"object"==typeof t))try{var e=mi.call(t);return(e===Am||e===Om||e===Dm||e===Tm)&&null==t("")}catch{}return!1})}var Fl=nn?function(t){if(oo(t))return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;try{nn(t,null,no)}catch(e){if(e!==pi)return!1}return!io(t)&&ro(t)}:function(t){if(oo(t))return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if(Rm)return ro(t);if(io(t))return!1;var e=mi.call(t);return!(e!==Cm&&e!==Pm&&!/^\[object HTML/.test(e))&&ro(t)},km=Fl,kl=Be,Lm=kl("%Math%"),Im=kl("%Number%").MAX_SAFE_INTEGER||Lm.pow(2,53)-1,Hm=Be("%Math.abs%"),zm=function(t){return Hm(t)},Vm=Fn,Um=Math.floor,Wm=function(t){return"BigInt"===Vm(t)?t:Um(t)},jm=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Gm=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},qm=Za,so=function(){return qm()&&!!Symbol.toStringTag},Xm=Date.prototype.getDay,Ym=function(t){try{return Xm.call(t),!0}catch{return!1}},Zm=Object.prototype.toString,Km="[object Date]",Jm=so(),Qm=function(t){return"object"==typeof t&&null!==t&&(Jm?Ym(t):Zm.call(t)===Km)},ao={exports:{}},$m=Object.prototype.toString;if(Ja()){var tg=Symbol.prototype.toString,ng=/^Symbol\(.*\)$/,ig=function(t){return"symbol"==typeof t.valueOf()&&ng.test(tg.call(t))};ao.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==$m.call(t))return!1;try{return ig(t)}catch{return!1}}}else ao.exports=function(t){return!1};var Hl,zl,co,ho,rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,lo=Gm,Ll=Fl,og=Qm,Bl=ao.exports,sg=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var r,o,s,n="string"===e?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<n.length;++s)if(r=t[n[s]],Ll(r)&&(o=r.call(t),lo(o)))return o;throw new TypeError("No default value")},ag=function(t,e){var n=t[e];if(null!=n){if(!Ll(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}},lg=function(t){if(lo(t))return t;var n,e="default";if(arguments.length>1&&(arguments[1]===String?e="string":arguments[1]===Number&&(e="number")),rg&&(Symbol.toPrimitive?n=ag(t,Symbol.toPrimitive):Bl(t)&&(n=Symbol.prototype.valueOf)),void 0!==n){var r=n.call(t,e);if(lo(r))return r;throw new TypeError("unable to convert exotic object to primitive")}return"default"===e&&(og(t)||Bl(t))&&(e="string"),sg(t,"default"===e?"number":e)},Il=lg,ug=function(t){return arguments.length>1?Il(t,arguments[1]):Il(t)},uo=vt,Nl=so();if(Nl){Hl=uo("Object.prototype.hasOwnProperty"),zl=uo("RegExp.prototype.exec"),co={};var fo=function(){throw co};ho={toString:fo,valueOf:fo},"symbol"==typeof Symbol.toPrimitive&&(ho[Symbol.toPrimitive]=fo)}var cg=uo("Object.prototype.toString"),hg=Object.getOwnPropertyDescriptor,dg="[object RegExp]",mg=Be,gg=Nl?function(t){if(!t||"object"!=typeof t)return!1;var e=hg(t,"lastIndex");if(!e||!Hl(e,"value"))return!1;try{zl(t,ho)}catch(r){return r===co}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&cg(t)===dg},vg=vt("RegExp.prototype.exec"),yg=mg("%TypeError%"),wg=function(t){if(!gg(t))throw new yg("`regex` must be a RegExp");return function(n){return null!==vg(t,n)}},Vl=Be,bg=Vl("%String%"),Sg=Vl("%TypeError%"),Ul=function(t){if("symbol"==typeof t)throw new Sg("Cannot convert a Symbol value to a string");return bg(t)},Eg=On,xg=Ul,Wl=vt("String.prototype.replace"),jl=/^\s$/.test("᠎"),Tg=jl?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Cg=jl?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Gl=function(){var t=xg(Eg(this));return Wl(Wl(t,Tg,""),Cg,"")},Pg=Gl,ql="​",rn="᠎",Xl=function(){return String.prototype.trim&&ql.trim()===ql&&rn.trim()===rn&&("_"+rn).trim()==="_"+rn&&(rn+"_").trim()===rn+"_"?String.prototype.trim:Pg},Ag=en,Og=Xl,Dg=function(){var t=Og();return Ag(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},Rg=An.exports,Mg=en,Fg=On,kg=Gl,Yl=Xl,Lg=Dg,Bg=Rg(Yl()),Zl=function(t){return Fg(t),Bg(t)};Mg(Zl,{getPolyfill:Yl,implementation:kg,shim:Lg});var Kl=Zl,gi=Be,po=gi("%Number%"),Ig=gi("%RegExp%"),Ng=gi("%TypeError%"),Jl=gi("%parseInt%"),vi=wg,Ql=vt("String.prototype.slice"),zg=vi(/^0b[01]+$/i),Vg=vi(/^0o[0-7]+$/i),Ug=vi(/^[-+]0x[0-9a-f]+$/i),Wg=["","​","￾"].join(""),jg=new Ig("["+Wg+"]","g"),Gg=vi(jg),qg=Kl,Xg=Fn,Yg=function i(t){if("String"!==Xg(t))throw new Ng("Assertion failed: `argument` is not a String");if(zg(t))return po(Jl(Ql(t,2),2));if(Vg(t))return po(Jl(Ql(t,2),8));if(Gg(t)||Ug(t))return NaN;var e=qg(t);return e!==t?i(e):po(t)},$l=Be,eu=$l("%TypeError%"),tu=$l("%Number%"),Zg=jm,Kg=ug,Jg=Yg,Qg=function(t){var e=Zg(t)?t:Kg(t,tu);if("symbol"==typeof e)throw new eu("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new eu("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof e?Jg(e):tu(e)},nu=Number.isNaN||function(t){return t!=t},$g=nu,nv=zm,iv=Wm,rv=Qg,ov=nu,sv=function(i){return("number"==typeof i||"bigint"==typeof i)&&!$g(i)&&i!==1/0&&i!==-1/0},av=function(t){return t>=0?1:-1},iu=Im,uv=function(t){var e=rv(t);if(ov(e)||0===e)return 0;if(!sv(e))return e;var n=iv(nv(e));return 0===n?0:av(e)*n},cv=function(t){var e=uv(t);return e<=0?0:e>iu?iu:e},dv=Be("%TypeError%"),fv=Dl,pv=cv,mv=Fn,gv=function(t){if("Object"!==mv(t))throw new dv("Assertion failed: `obj` must be an Object");return pv(fv(t,"length"))},yv=Be("%Object%"),wv=On,bv=function(t){return wv(t),yv(t)},Sv=String.prototype.valueOf,Ev=function(t){try{return Sv.call(t),!0}catch{return!1}},xv=Object.prototype.toString,_v="[object String]",Tv=so(),Cv=function(t){return"string"==typeof t||"object"==typeof t&&(Tv?Ev(t):xv.call(t)===_v)},Av=vt,Ov=Be("%TypeError%"),Dv=Bp,Rv=Dl,Mv=xm,Fv=km,kv=gv,Lv=bv,Bv=Ul,Iv=Cv,Nv=Av("String.prototype.split"),ru=Object("a"),Hv="a"!==ru[0]||!(0 in ru),ou=function(t){var o,e=Lv(this),n=Hv&&Iv(this)?Nv(this,""):e,r=kv(n);if(!Fv(t))throw new Ov("Array.prototype.forEach callback must be a function");arguments.length>1&&(o=arguments[1]);for(var s=0;s<r;){var a=Bv(s);if(Mv(n,a)){var u=Rv(n,a);Dv(t,o,[u,s,n])}s+=1}},Vv=function(t){var e=!0,n=!0,r=!1;if("function"==typeof t){try{t.call("f",(function(o,s,a){"object"!=typeof a&&(e=!1)})),t.call([null],(function(){n="string"==typeof this}),"x")}catch{r=!0}return!r&&e&&n}return!1},Uv=ou,su=function(){var t=Array.prototype.forEach;return Vv(t)?t:Uv},Wv=en,jv=su,Gv=function(){var t=jv();return Wv(Array.prototype,{forEach:t},{forEach:function(){return Array.prototype.forEach!==t}}),t},qv=en,Xv=An.exports,Yv=vt,Zv=On,Kv=ou,au=su,Jv=au(),Qv=Gv,$v=Yv("Array.prototype.slice"),ey=Xv.apply(Jv),lu=function(t,e){return Zv(t),ey(t,$v(arguments,1))};qv(lu,{getPolyfill:au,implementation:Kv,shim:Qv});var ty=lu,ny=On,uu=vt,iy=uu("Object.prototype.propertyIsEnumerable"),ry=uu("Array.prototype.push"),cu=function(t){var e=ny(t),n=[];for(var r in e)iy(e,r)&&ry(n,[r,e[r]]);return n},oy=cu,hu=function(){return"function"==typeof Object.entries?Object.entries:oy},sy=hu,ay=en,ly=function(){var t=sy();return ay(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t},uy=en,cy=An.exports,hy=cu,du=hu,dy=ly,fu=cy(du(),Object);uy(fu,{getPolyfill:du,implementation:hy,shim:dy});var yi=ty,mo=fu,pu=$a,py=Kl,my=function(t){},mu=String.prototype.replace,gu=String.prototype.split,wi="||||",go=function(i){var t=i%100,e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},vu={pluralTypes:{arabic:function(i){if(i<3)return i;var t=i%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:go,chinese:function(){return 0},croatian:go,french:function(i){return i>=2?1:0},german:function(i){return 1!==i?1:0},russian:go,lithuanian:function(i){return i%10==1&&i%100!=11?0:i%10>=2&&i%10<=9&&(i%100<11||i%100>19)?1:2},czech:function(i){return 1===i?0:i>=2&&i<=4?1:2},polish:function(i){if(1===i)return 0;var t=i%10;return 2<=t&&t<=4&&(i%100<10||i%100>=20)?1:2},icelandic:function(i){return i%10!=1||i%100==11?1:0},slovenian:function(i){var t=i%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(i){if(1===i)return 0;var t=i%100;return 0===i||t>=2&&t<=19?1:2}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"]}};function gy(i){var t={};return yi(mo(i),(function(e){var n=e[0],r=e[1];yi(r,(function(o){t[o]=n}))})),t}function vy(i,t){var e=gy(i.pluralTypeToLanguages);return e[t]||e[gu.call(t,/-/,1)[0]]||e.en}function yy(i,t,e){return i.pluralTypes[t](e)}function wy(){var i={};return function(t,e){var n=i[e];return n&&!t.pluralTypes[n]&&(n=null,i[e]=n),n||(n=vy(t,e))&&(i[e]=n),n}}function yu(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function by(i){var t=i&&i.prefix||"%{",e=i&&i.suffix||"}";if(t===wi||e===wi)throw new RangeError('"'+wi+'" token is reserved for pluralization');return new RegExp(yu(t)+"(.*?)"+yu(e),"g")}var Sy=wy(),Ey=/%\{(.*?)\}/g;function vo(i,t,e,n,r,o){if("string"!=typeof i)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return i;var s=i,a=n||Ey,l=o||mu,u="number"==typeof t?{smart_count:t}:t;if(null!=u.smart_count&&i){var c=r||vu,h=gu.call(i,wi),y=yy(c,Sy(c,e||"en"),u.smart_count);s=py(h[y]||h[0])}return s=l.call(s,a,(function(x,b){return pu(u,b)&&null!=u[b]?u[b]:x}))}function yt(i){var t=i||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var e=t.allowMissing?vo:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:e,this.warn=t.warn||my,this.replaceImplementation=t.replace||mu,this.tokenRegex=by(t.interpolation),this.pluralRules=t.pluralRules||vu}yt.prototype.locale=function(i){return i&&(this.currentLocale=i),this.currentLocale},yt.prototype.extend=function(i,t){yi(mo(i||{}),(function(e){var n=e[0],r=e[1],o=t?t+"."+n:n;"object"==typeof r?this.extend(r,o):this.phrases[o]=r}),this)},yt.prototype.unset=function(i,t){"string"==typeof i?delete this.phrases[i]:yi(mo(i||{}),(function(e){var n=e[0],r=e[1],o=t?t+"."+n:n;"object"==typeof r?this.unset(r,o):delete this.phrases[o]}),this)},yt.prototype.clear=function(){this.phrases={}},yt.prototype.replace=function(i){this.clear(),this.extend(i)},yt.prototype.t=function(i,t){var e,n,r=null==t?{}:t;return"string"==typeof this.phrases[i]?e=this.phrases[i]:"string"==typeof r._?e=r._:this.onMissingKey?n=(0,this.onMissingKey)(i,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation):(this.warn('Missing translation for key: "'+i+'"'),n=i),"string"==typeof e&&(n=vo(e,r,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),n},yt.prototype.has=function(i){return pu(this.phrases,i)},yt.transformPhrase=function(t,e,n){return vo(t,e,n)};var xy=yt,_y={"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},Ty={"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},Cy={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},Py={"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},Ay={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},Oy={"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},Dy={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},Ry={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},My={"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},Fy={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},ky={"Add a comment...":"コメントを追加する...","Add a reply...":"返信する...","Add tag...":"タグを追加する...",Cancel:"キャンセル",Close:"閉じる",Edit:"編集",Delete:"削除",Ok:"Ok"},Ly={"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},By={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},Iy={"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},Ny={"Add a comment...":"Добавить комментарий...","Add a reply...":"Добавить ответ...","Add tag...":"Добавить тэг...",Cancel:"Отмена",Close:"Закрыть",Edit:"Редактировать",Delete:"Удалить",Ok:"Ок"},Hy={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},zy={"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},Vy={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},Uy={"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},Wy={"Add a comment...":"添加评论...","Add a reply...":"添加回复...","Add tag...":"添加标签...",Cancel:"取消",Close:"关闭",Edit:"编辑",Delete:"删除",Ok:"确认"},jy={"Add a comment...":"添加評論...","Add a reply...":"添加回覆...","Add tag...":"添加標籤...",Cancel:"取消",Close:"關閉",Edit:"編輯",Delete:"刪除",Ok:"確認"},wu={};Object.defineProperty(wu,"__esModule",{value:!0});var yo=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];function Gy(i,t){return t<3?yo[i][t-1]:t>=3&&t<=10?yo[i][2]:yo[i][3]}function qy(i,t){if(0===t)return["منذ لحظات","بعد لحظات"];var e=Gy(Math.floor(t/2),i);return["منذ "+e,"بعد "+e]}var Xy=wu.default=qy,bu={};function Yy(i,t){var e=0;return(1==t||3==t||5==t||7==t||9==t||11==t||13==t)&&i>=5&&(e=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][t][e]}Object.defineProperty(bu,"__esModule",{value:!0});var Zy=bu.default=Yy,Su={};function Ky(i,t){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][t]}Object.defineProperty(Su,"__esModule",{value:!0});var Jy=Su.default=Ky,Eu={};function Qy(i,t){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][t]}Object.defineProperty(Eu,"__esModule",{value:!0});var $y=Eu.default=Qy,xu={};function e0(i,t){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][t]}Object.defineProperty(xu,"__esModule",{value:!0});var t0=xu.default=e0,_u={};function n0(i,t){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][t]}Object.defineProperty(_u,"__esModule",{value:!0});var i0=_u.default=n0,Tu={};function r0(i,t){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][t]}Object.defineProperty(Tu,"__esModule",{value:!0});var o0=Tu.default=r0,Cu={};function s0(i,t){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][t]}Object.defineProperty(Cu,"__esModule",{value:!0});var a0=Cu.default=s0,Pu={};function l0(i,t){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][t]}Object.defineProperty(Pu,"__esModule",{value:!0});var u0=Pu.default=l0,Au={};function c0(i,t){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][t]}Object.defineProperty(Au,"__esModule",{value:!0});var h0=Au.default=c0,Ou={};function d0(i,t){return[["すこし前","すぐに"],["%s秒前","%s秒以内"],["1分前","1分以内"],["%s分前","%s分以内"],["1時間前","1時間以内"],["%s時間前","%s時間以内"],["1日前","1日以内"],["%s日前","%s日以内"],["1週間前","1週間以内"],["%s週間前","%s週間以内"],["1ヶ月前","1ヶ月以内"],["%sヶ月前","%sヶ月以内"],["1年前","1年以内"],["%s年前","%s年以内"]][t]}Object.defineProperty(Ou,"__esModule",{value:!0});var f0=Ou.default=d0,Du={};function p0(i,t){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][t]}Object.defineProperty(Du,"__esModule",{value:!0});var m0=Du.default=p0,Ru={};function g0(i,t){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][t]}Object.defineProperty(Ru,"__esModule",{value:!0});var v0=Ru.default=g0,Mu={};function y0(i,t){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][t]}Object.defineProperty(Mu,"__esModule",{value:!0});var w0=Mu.default=y0,Fu={};function Ht(i,t,e,n,r){var o=r%10,s=n;return 1===r?s=i:1===o&&r>20?s=t:o>1&&o<5&&(r>20||r<10)&&(s=e),s}Object.defineProperty(Fu,"__esModule",{value:!0});var ku=Ht.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),Lu=Ht.bind(null,"минуту","%s минуту","%s минуты","%s минут"),Bu=Ht.bind(null,"час","%s час","%s часа","%s часов"),Iu=Ht.bind(null,"день","%s день","%s дня","%s дней"),Nu=Ht.bind(null,"неделю","%s неделю","%s недели","%s недель"),Hu=Ht.bind(null,"месяц","%s месяц","%s месяца","%s месяцев"),zu=Ht.bind(null,"год","%s год","%s года","%s лет");function b0(i,t){switch(t){case 0:return["только что","через несколько секунд"];case 1:return[ku(i)+" назад","через "+ku(i)];case 2:case 3:return[Lu(i)+" назад","через "+Lu(i)];case 4:case 5:return[Bu(i)+" назад","через "+Bu(i)];case 6:return["вчера","завтра"];case 7:return[Iu(i)+" назад","через "+Iu(i)];case 8:case 9:return[Nu(i)+" назад","через "+Nu(i)];case 10:case 11:return[Hu(i)+" назад","через "+Hu(i)];case 12:case 13:return[zu(i)+" назад","через "+zu(i)];default:return["",""]}}var S0=Fu.default=b0,Vu={};function E0(i,t){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][t]}Object.defineProperty(Vu,"__esModule",{value:!0});var x0=Vu.default=E0,Uu={};function _0(i,t){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][t]}Object.defineProperty(Uu,"__esModule",{value:!0});var T0=Uu.default=_0,Wu={};function C0(i,t){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][t]}Object.defineProperty(Wu,"__esModule",{value:!0});var P0=Wu.default=C0,ju={};Object.defineProperty(ju,"__esModule",{value:!0});var A0=["秒","分钟","小时","天","周","个月","年"];function O0(i,t){if(0===t)return["刚刚","片刻后"];var e=A0[~~(t/2)];return[i+" "+e+"前",i+" "+e+"后"]}var D0=ju.default=O0,Gu={};function R0(i,t){return[["剛剛","片刻後"],["%s 秒前","%s 秒後"],["1 分鐘前","1 分鐘後"],["%s 分鐘前","%s 分鐘後"],["1 小時前","1 小時後"],["%s 小時前","%s 小時後"],["1 天前","1 天後"],["%s 天前","%s 天後"],["1 週前","1 週後"],["%s 週前","%s 週後"],["1 個月前","1 個月後"],["%s 個月前","%s 個月後"],["1 年前","1 年後"],["%s 年前","%s 年後"]][t]}Object.defineProperty(Gu,"__esModule",{value:!0});var M0=Gu.default=R0;const on={ar:_y,cs:Ty,de:Cy,el:Py,es:Ay,fi:Oy,fr:Dy,gl:Ry,hi:My,it:Fy,ja:ky,ko:Ly,nl:By,pt:Iy,ru:Ny,sv:Hy,th:zy,tr:Vy,ur:Uy,"zh-CN":Wy,"zh-TW":jy},F0=Object.keys(on),zt=new xy({allowMissing:!0});zt.init=(i,t)=>{zt.clear(),i&&(zt.locale(i),zt.extend(on[i])),t&&zt.extend(t)},_e("ar",Xy),_e("cs",Zy),_e("de",Jy),_e("el",$y),_e("es",t0),_e("fi",i0),_e("fr",o0),_e("gl",a0),_e("hi",u0),_e("it",h0),_e("ja",f0),_e("ko",m0),_e("nl",v0),_e("pt",w0),_e("ru",S0),_e("sv",x0),_e("th",T0),_e("tr",P0),_e("zh-CN",D0),_e("zh-TW",M0),zt.registerMessages=(i,t)=>{on[i]?on[i]={...on[i],...t}:on[i]=t};var Ze=zt,k0=i=>{const t=ot();return If(t,(()=>i.onClickOutside())),k.createElement("ul",{ref:t,className:"r6o-comment-dropdown-menu"},k.createElement("li",{onClick:i.onEdit},Ze.t("Edit")),k.createElement("li",{onClick:i.onDelete},Ze.t("Delete")))},qu={},wo={},bo={exports:{}};!function(i,t){!function(e,n){var c,h,r="function"==typeof Map?new Map:(c=[],h=[],{has:function(g){return c.indexOf(g)>-1},get:function(g){return h[c.indexOf(g)]},set:function(g,y){-1===c.indexOf(g)&&(c.push(g),h.push(y))},delete:function(g){var y=c.indexOf(g);y>-1&&(c.splice(y,1),h.splice(y,1))}}),o=function(h){return new Event(h,{bubbles:!0})};try{new Event("test")}catch{o=function(d){var g=document.createEvent("Event");return g.initEvent(d,!0,!1),g}}function s(c){if(c&&c.nodeName&&"TEXTAREA"===c.nodeName&&!r.has(c)){var h=null,d=null,g=null,E=function(){c.clientWidth!==d&&f()},A=function(C){window.removeEventListener("resize",E,!1),c.removeEventListener("input",f,!1),c.removeEventListener("keyup",f,!1),c.removeEventListener("autosize:destroy",A,!1),c.removeEventListener("autosize:update",f,!1),Object.keys(C).forEach((function(O){c.style[O]=C[O]})),r.delete(c)}.bind(c,{height:c.style.height,resize:c.style.resize,overflowY:c.style.overflowY,overflowX:c.style.overflowX,wordWrap:c.style.wordWrap});c.addEventListener("autosize:destroy",A,!1),"onpropertychange"in c&&"oninput"in c&&c.addEventListener("keyup",f,!1),window.addEventListener("resize",E,!1),c.addEventListener("input",f,!1),c.addEventListener("autosize:update",f,!1),c.style.overflowX="hidden",c.style.wordWrap="break-word",r.set(c,{destroy:A,update:f}),y()}function y(){var C=window.getComputedStyle(c,null);"vertical"===C.resize?c.style.resize="none":"both"===C.resize&&(c.style.resize="horizontal"),h="content-box"===C.boxSizing?-(parseFloat(C.paddingTop)+parseFloat(C.paddingBottom)):parseFloat(C.borderTopWidth)+parseFloat(C.borderBottomWidth),isNaN(h)&&(h=0),f()}function x(C){var O=c.style.width;c.style.width="0px",c.offsetWidth,c.style.width=O,c.style.overflowY=C}function b(C){for(var O=[];C&&C.parentNode&&C.parentNode instanceof Element;)C.parentNode.scrollTop&&O.push({node:C.parentNode,scrollTop:C.parentNode.scrollTop}),C=C.parentNode;return O}function T(){if(0!==c.scrollHeight){var C=b(c),O=document.documentElement&&document.documentElement.scrollTop;c.style.height="",c.style.height=c.scrollHeight+h+"px",d=c.clientWidth,C.forEach((function(D){D.node.scrollTop=D.scrollTop})),O&&(document.documentElement.scrollTop=O)}}function f(){T();var C=Math.round(parseFloat(c.style.height)),O=window.getComputedStyle(c,null),D="content-box"===O.boxSizing?Math.round(parseFloat(O.height)):c.offsetHeight;if(D<C?"hidden"===O.overflowY&&(x("scroll"),T(),D="content-box"===O.boxSizing?Math.round(parseFloat(window.getComputedStyle(c,null).height)):c.offsetHeight):"hidden"!==O.overflowY&&(x("hidden"),T(),D="content-box"===O.boxSizing?Math.round(parseFloat(window.getComputedStyle(c,null).height)):c.offsetHeight),g!==D){g=D;var I=o("autosize:resized");try{c.dispatchEvent(I)}catch{}}}}function a(c){var h=r.get(c);h&&h.destroy()}function l(c){var h=r.get(c);h&&h.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(u=function(h){return h},u.destroy=function(c){return c},u.update=function(c){return c}):(u=function(h,d){return h&&Array.prototype.forEach.call(h.length?h:[h],(function(g){return s(g)})),h},u.destroy=function(c){return c&&Array.prototype.forEach.call(c.length?c:[c],a),c},u.update=function(c){return c&&Array.prototype.forEach.call(c.length?c:[c],l),c}),n.default=u,e.exports=n.default}(i,t)}(bo,bo.exports);var So=function(i,t,e){return((e=window.getComputedStyle)?e(i):i.currentStyle)[t.replace(/-(\w)/gi,(function(n,r){return r.toUpperCase()}))]};function I0(i){var t=So(i,"line-height"),e=parseFloat(t,10);if(t===e+""){var n=i.style.lineHeight;i.style.lineHeight=t+"em",t=So(i,"line-height"),e=parseFloat(t,10),n?i.style.lineHeight=n:delete i.style.lineHeight}if(-1!==t.indexOf("pt")?(e*=4,e/=3):-1!==t.indexOf("mm")?(e*=96,e/=25.4):-1!==t.indexOf("cm")?(e*=96,e/=2.54):-1!==t.indexOf("in")?e*=96:-1!==t.indexOf("pc")&&(e*=16),e=Math.round(e),"normal"===t){var r=i.nodeName,o=document.createElement(r);o.innerHTML="&nbsp;","TEXTAREA"===r.toUpperCase()&&o.setAttribute("rows","1");var s=So(i,"font-size");o.style.fontSize=s,o.style.padding="0px",o.style.border="0px";var a=document.body;a.appendChild(o),e=o.offsetHeight,a.removeChild(o)}return e}var N0=I0,H0=_t&&_t.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eo=_t&&_t.__assign||Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},z0=_t&&_t.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(null!=i&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&(e[n[r]]=i[n[r]])}return e};wo.__esModule=!0;var bi=Yt,kn=Tn.exports,Si=bo.exports,U0=N0,Xu="autosize:resized",W0=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.state={lineHeight:null},e.textarea=null,e.onResize=function(n){e.props.onResize&&e.props.onResize(n)},e.updateLineHeight=function(){e.textarea&&e.setState({lineHeight:U0(e.textarea)})},e.onChange=function(n){var r=e.props.onChange;e.currentValue=n.currentTarget.value,r&&r(n)},e}return H0(t,i),t.prototype.componentDidMount=function(){var e=this,n=this.props,r=n.maxRows,o=n.async;"number"==typeof r&&this.updateLineHeight(),"number"==typeof r||o?setTimeout((function(){return e.textarea&&Si(e.textarea)})):this.textarea&&Si(this.textarea),this.textarea&&this.textarea.addEventListener(Xu,this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Xu,this.onResize),Si.destroy(this.textarea))},t.prototype.render=function(){var e=this,n=this,r=n.props;r.onResize;var o=r.maxRows;r.onChange;var s=r.style;r.innerRef;var a=r.children,l=z0(r,["onResize","maxRows","onChange","style","innerRef","children"]),u=n.state.lineHeight,c=o&&u?u*o:null;return bi.createElement("textarea",Eo({},l,{onChange:this.onChange,style:c?Eo({},s,{maxHeight:c}):s,ref:function(h){e.textarea=h,"function"==typeof e.props.innerRef?e.props.innerRef(h):e.props.innerRef&&(e.props.innerRef.current=h)}}),a)},t.prototype.componentDidUpdate=function(){this.textarea&&Si.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:kn.number,maxRows:kn.number,onResize:kn.func,innerRef:kn.any,async:kn.bool},t}(bi.Component);wo.TextareaAutosize=bi.forwardRef((function(i,t){return bi.createElement(W0,Eo({},i,{innerRef:t}))})),function(i){i.__esModule=!0;var t=wo;i.default=t.TextareaAutosize}(qu);var j0=_d(qu);class Yu extends Pe{constructor(e){super(e),P(this,"onKeyDown",(e=>{13===e.which&&e.ctrlKey&&this.props.onSaveAndClose()})),P(this,"onKeyUp",(e=>{46===e.which&&e.stopPropagation()})),this.element=ur()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return k.createElement(j0,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Ze.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown})}}function ne(){return ne=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},ne.apply(this,arguments)}function G0(i){if(i.sheet)return i.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===i)return document.styleSheets[t]}function q0(i){var t=document.createElement("style");return t.setAttribute("data-emotion",i.key),void 0!==i.nonce&&t.setAttribute("nonce",i.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var X0=function(){function i(e){var n=this;this._insertTag=function(r){var o;o=0===n.tags.length?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,o),n.tags.push(r)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=i.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(q0(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=G0(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach((function(n){return n.parentNode&&n.parentNode.removeChild(n)})),this.tags=[],this.ctr=0},i}(),je="-ms-",Ei="-moz-",ve="-webkit-",Zu="comm",xo="rule",_o="decl",Y0="@import",Ku="@keyframes",Z0="@layer",K0=Math.abs,xi=String.fromCharCode,J0=Object.assign;function Q0(i,t){return 45^Ie(i,0)?(((t<<2^Ie(i,0))<<2^Ie(i,1))<<2^Ie(i,2))<<2^Ie(i,3):0}function Ju(i){return i.trim()}function $0(i,t){return(i=t.exec(i))?i[0]:i}function ye(i,t,e){return i.replace(t,e)}function To(i,t){return i.indexOf(t)}function Ie(i,t){return 0|i.charCodeAt(t)}function Ln(i,t,e){return i.slice(t,e)}function ct(i){return i.length}function Co(i){return i.length}function _i(i,t){return t.push(i),i}function ew(i,t){return i.map(t).join("")}var Ti=1,sn=1,Qu=0,Ge=0,Ce=0,an="";function Ci(i,t,e,n,r,o,s){return{value:i,root:t,parent:e,type:n,props:r,children:o,line:Ti,column:sn,length:s,return:""}}function Bn(i,t){return J0(Ci("",null,null,"",null,null,0),i,{length:-i.length},t)}function tw(){return Ce}function nw(){return Ce=Ge>0?Ie(an,--Ge):0,sn--,10===Ce&&(sn=1,Ti--),Ce}function Ke(){return Ce=Ge<Qu?Ie(an,Ge++):0,sn++,10===Ce&&(sn=1,Ti++),Ce}function ht(){return Ie(an,Ge)}function Pi(){return Ge}function In(i,t){return Ln(an,i,t)}function Nn(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $u(i){return Ti=sn=1,Qu=ct(an=i),Ge=0,[]}function ec(i){return an="",i}function Ai(i){return Ju(In(Ge-1,Po(91===i?i+2:40===i?i+1:i)))}function iw(i){for(;(Ce=ht())&&Ce<33;)Ke();return Nn(i)>2||Nn(Ce)>3?"":" "}function rw(i,t){for(;--t&&Ke()&&!(Ce<48||Ce>102||Ce>57&&Ce<65||Ce>70&&Ce<97););return In(i,Pi()+(t<6&&32==ht()&&32==Ke()))}function Po(i){for(;Ke();)switch(Ce){case i:return Ge;case 34:case 39:34!==i&&39!==i&&Po(Ce);break;case 40:41===i&&Po(i);break;case 92:Ke()}return Ge}function ow(i,t){for(;Ke()&&i+Ce!==57&&(i+Ce!==84||47!==ht()););return"/*"+In(t,Ge-1)+"*"+xi(47===i?i:Ke())}function sw(i){for(;!Nn(ht());)Ke();return In(i,Ge)}function aw(i){return ec(Oi("",null,null,null,[""],i=$u(i),0,[0],i))}function Oi(i,t,e,n,r,o,s,a,l){for(var u=0,c=0,h=s,d=0,g=0,y=0,x=1,b=1,T=1,f=0,E="",A=r,C=o,O=n,D=E;b;)switch(y=f,f=Ke()){case 40:if(108!=y&&58==Ie(D,h-1)){-1!=To(D+=ye(Ai(f),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:D+=Ai(f);break;case 9:case 10:case 13:case 32:D+=iw(y);break;case 92:D+=rw(Pi()-1,7);continue;case 47:switch(ht()){case 42:case 47:_i(lw(ow(Ke(),Pi()),t,e),l);break;default:D+="/"}break;case 123*x:a[u++]=ct(D)*T;case 125*x:case 59:case 0:switch(f){case 0:case 125:b=0;case 59+c:-1==T&&(D=ye(D,/\f/g,"")),g>0&&ct(D)-h&&_i(g>32?nc(D+";",n,e,h-1):nc(ye(D," ","")+";",n,e,h-2),l);break;case 59:D+=";";default:if(_i(O=tc(D,t,e,u,c,r,a,E,A=[],C=[],h),o),123===f)if(0===c)Oi(D,t,O,O,A,o,h,a,C);else switch(99===d&&110===Ie(D,3)?100:d){case 100:case 108:case 109:case 115:Oi(i,O,O,n&&_i(tc(i,O,O,0,0,r,a,E,r,A=[],h),C),r,C,h,a,n?A:C);break;default:Oi(D,O,O,O,[""],C,0,a,C)}}u=c=g=0,x=T=1,E=D="",h=s;break;case 58:h=1+ct(D),g=y;default:if(x<1)if(123==f)--x;else if(125==f&&0==x++&&125==nw())continue;switch(D+=xi(f),f*x){case 38:T=c>0?1:(D+="\f",-1);break;case 44:a[u++]=(ct(D)-1)*T,T=1;break;case 64:45===ht()&&(D+=Ai(Ke())),d=ht(),c=h=ct(E=D+=sw(Pi())),f++;break;case 45:45===y&&2==ct(D)&&(x=0)}}return o}function tc(i,t,e,n,r,o,s,a,l,u,c){for(var h=r-1,d=0===r?o:[""],g=Co(d),y=0,x=0,b=0;y<n;++y)for(var T=0,f=Ln(i,h+1,h=K0(x=s[y])),E=i;T<g;++T)(E=Ju(x>0?d[T]+" "+f:ye(f,/&\f/g,d[T])))&&(l[b++]=E);return Ci(i,t,e,0===r?xo:a,l,u,c)}function lw(i,t,e){return Ci(i,t,e,Zu,xi(tw()),Ln(i,2,-2),0)}function nc(i,t,e,n){return Ci(i,t,e,_o,Ln(i,0,n),Ln(i,n+1,-1),n)}function ln(i,t){for(var e="",n=Co(i),r=0;r<n;r++)e+=t(i[r],r,i,t)||"";return e}function uw(i,t,e,n){switch(i.type){case Z0:if(i.children.length)break;case Y0:case _o:return i.return=i.return||i.value;case Zu:return"";case Ku:return i.return=i.value+"{"+ln(i.children,n)+"}";case xo:i.value=i.props.join(",")}return ct(e=ln(i.children,n))?i.return=i.value+"{"+e+"}":""}function cw(i){var t=Co(i);return function(e,n,r,o){for(var s="",a=0;a<t;a++)s+=i[a](e,n,r,o)||"";return s}}function hw(i){return function(t){t.root||(t=t.return)&&i(t)}}function dw(i){var t=Object.create(null);return function(e){return void 0===t[e]&&(t[e]=i(e)),t[e]}}var fw=function(t,e,n){for(var r=0,o=0;r=o,o=ht(),38===r&&12===o&&(e[n]=1),!Nn(o);)Ke();return In(t,Ge)},pw=function(t,e){var n=-1,r=44;do{switch(Nn(r)){case 0:38===r&&12===ht()&&(e[n]=1),t[n]+=fw(Ge-1,e,n);break;case 2:t[n]+=Ai(r);break;case 4:if(44===r){t[++n]=58===ht()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=xi(r)}}while(r=Ke());return t},mw=function(t,e){return ec(pw($u(t),e))},ic=new WeakMap,gw=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||ic.get(n))&&!r){ic.set(t,!0);for(var o=[],s=mw(e,o),a=n.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},vw=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function rc(i,t){switch(Q0(i,t)){case 5103:return ve+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+i+Ei+i+je+i+i;case 6828:case 4268:return ve+i+je+i+i;case 6165:return ve+i+je+"flex-"+i+i;case 5187:return ve+i+ye(i,/(\w+).+(:[^]+)/,ve+"box-$1$2"+je+"flex-$1$2")+i;case 5443:return ve+i+je+"flex-item-"+ye(i,/flex-|-self/,"")+i;case 4675:return ve+i+je+"flex-line-pack"+ye(i,/align-content|flex-|-self/,"")+i;case 5548:return ve+i+je+ye(i,"shrink","negative")+i;case 5292:return ve+i+je+ye(i,"basis","preferred-size")+i;case 6060:return ve+"box-"+ye(i,"-grow","")+ve+i+je+ye(i,"grow","positive")+i;case 4554:return ve+ye(i,/([^-])(transform)/g,"$1"+ve+"$2")+i;case 6187:return ye(ye(ye(i,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),i,"")+i;case 5495:case 3959:return ye(i,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return ye(ye(i,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+i+i;case 4095:case 3583:case 4068:case 2532:return ye(i,/(.+)-inline(.+)/,ve+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ct(i)-1-t>6)switch(Ie(i,t+1)){case 109:if(45!==Ie(i,t+4))break;case 102:return ye(i,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+Ei+(108==Ie(i,t+3)?"$3":"$2-$3"))+i;case 115:return~To(i,"stretch")?rc(ye(i,"stretch","fill-available"),t)+i:i}break;case 4949:if(115!==Ie(i,t+1))break;case 6444:switch(Ie(i,ct(i)-3-(~To(i,"!important")&&10))){case 107:return ye(i,":",":"+ve)+i;case 101:return ye(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(45===Ie(i,14)?"inline-":"")+"box$3$1"+ve+"$2$3$1"+je+"$2box$3")+i}break;case 5936:switch(Ie(i,t+11)){case 114:return ve+i+je+ye(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return ve+i+je+ye(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return ve+i+je+ye(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return ve+i+je+i+i}return i}var ww=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case _o:t.return=rc(t.value,t.length);break;case Ku:return ln([Bn(t,{value:ye(t.value,"@","@"+ve)})],r);case xo:if(t.length)return ew(t.props,(function(o){switch($0(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ln([Bn(t,{props:[ye(o,/:(read-\w+)/,":"+Ei+"$1")]})],r);case"::placeholder":return ln([Bn(t,{props:[ye(o,/:(plac\w+)/,":"+ve+"input-$1")]}),Bn(t,{props:[ye(o,/:(plac\w+)/,":"+Ei+"$1")]}),Bn(t,{props:[ye(o,/:(plac\w+)/,je+"input-$1")]})],r)}return""}))}}],bw=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(x){-1!==x.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(x),x.setAttribute("data-s",""))}))}var s,r=t.stylisPlugins||ww,o={},a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(x){for(var b=x.getAttribute("data-emotion").split(" "),T=1;T<b.length;T++)o[b[T]]=!0;a.push(x)}));var l,c,u=[gw,vw],h=[uw,hw((function(x){c.insert(x)}))],d=cw(u.concat(r,h)),g=function(b){return ln(aw(b),d)};l=function(b,T,f,E){c=f,g(b?b+"{"+T.styles+"}":T.styles),E&&(y.inserted[T.name]=!0)};var y={key:e,sheet:new X0({key:e,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return y.sheet.hydrate(a),y},oc={exports:{}},be={},Re="function"==typeof Symbol&&Symbol.for,Ao=Re?Symbol.for("react.element"):60103,Oo=Re?Symbol.for("react.portal"):60106,Di=Re?Symbol.for("react.fragment"):60107,Ri=Re?Symbol.for("react.strict_mode"):60108,Mi=Re?Symbol.for("react.profiler"):60114,Fi=Re?Symbol.for("react.provider"):60109,ki=Re?Symbol.for("react.context"):60110,Do=Re?Symbol.for("react.async_mode"):60111,Li=Re?Symbol.for("react.concurrent_mode"):60111,Bi=Re?Symbol.for("react.forward_ref"):60112,Ii=Re?Symbol.for("react.suspense"):60113,Sw=Re?Symbol.for("react.suspense_list"):60120,Ni=Re?Symbol.for("react.memo"):60115,Hi=Re?Symbol.for("react.lazy"):60116,Ew=Re?Symbol.for("react.block"):60121,xw=Re?Symbol.for("react.fundamental"):60117,_w=Re?Symbol.for("react.responder"):60118,Tw=Re?Symbol.for("react.scope"):60119;function Je(i){if("object"==typeof i&&null!==i){var t=i.$$typeof;switch(t){case Ao:switch(i=i.type){case Do:case Li:case Di:case Mi:case Ri:case Ii:return i;default:switch(i=i&&i.$$typeof){case ki:case Bi:case Hi:case Ni:case Fi:return i;default:return t}}case Oo:return t}}}function sc(i){return Je(i)===Li}be.AsyncMode=Do,be.ConcurrentMode=Li,be.ContextConsumer=ki,be.ContextProvider=Fi,be.Element=Ao,be.ForwardRef=Bi,be.Fragment=Di,be.Lazy=Hi,be.Memo=Ni,be.Portal=Oo,be.Profiler=Mi,be.StrictMode=Ri,be.Suspense=Ii,be.isAsyncMode=function(i){return sc(i)||Je(i)===Do},be.isConcurrentMode=sc,be.isContextConsumer=function(i){return Je(i)===ki},be.isContextProvider=function(i){return Je(i)===Fi},be.isElement=function(i){return"object"==typeof i&&null!==i&&i.$$typeof===Ao},be.isForwardRef=function(i){return Je(i)===Bi},be.isFragment=function(i){return Je(i)===Di},be.isLazy=function(i){return Je(i)===Hi},be.isMemo=function(i){return Je(i)===Ni},be.isPortal=function(i){return Je(i)===Oo},be.isProfiler=function(i){return Je(i)===Mi},be.isStrictMode=function(i){return Je(i)===Ri},be.isSuspense=function(i){return Je(i)===Ii},be.isValidElementType=function(i){return"string"==typeof i||"function"==typeof i||i===Di||i===Li||i===Mi||i===Ri||i===Ii||i===Sw||"object"==typeof i&&null!==i&&(i.$$typeof===Hi||i.$$typeof===Ni||i.$$typeof===Fi||i.$$typeof===ki||i.$$typeof===Bi||i.$$typeof===xw||i.$$typeof===_w||i.$$typeof===Tw||i.$$typeof===Ew)},be.typeOf=Je,oc.exports=be;var ac=oc.exports,Cw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Pw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lc={};lc[ac.ForwardRef]=Cw,lc[ac.Memo]=Pw;var Aw=!0;function uc(i,t,e){var n="";return e.split(" ").forEach((function(r){void 0!==i[r]?t.push(i[r]+";"):n+=r+" "})),n}var Ro=function(t,e,n){var r=t.key+"-"+e.name;(!1===n||!1===Aw)&&void 0===t.registered[r]&&(t.registered[r]=e.styles)},cc=function(t,e,n){Ro(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var o=e;do{t.insert(e===o?"."+r:"",o,t.sheet,!0),o=o.next}while(void 0!==o)}};function Ow(i){for(var e,t=0,n=0,r=i.length;r>=4;++n,r-=4)e=1540483477*(65535&(e=255&i.charCodeAt(n)|(255&i.charCodeAt(++n))<<8|(255&i.charCodeAt(++n))<<16|(255&i.charCodeAt(++n))<<24))+(59797*(e>>>16)<<16),t=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&t)+(59797*(t>>>16)<<16);switch(r){case 3:t^=(255&i.charCodeAt(n+2))<<16;case 2:t^=(255&i.charCodeAt(n+1))<<8;case 1:t=1540483477*(65535&(t^=255&i.charCodeAt(n)))+(59797*(t>>>16)<<16)}return(((t=1540483477*(65535&(t^=t>>>13))+(59797*(t>>>16)<<16))^t>>>15)>>>0).toString(36)}var Dw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rw=/[A-Z]|^ms/g,Mw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hc=function(t){return 45===t.charCodeAt(1)},dc=function(t){return null!=t&&"boolean"!=typeof t},Mo=dw((function(i){return hc(i)?i:i.replace(Rw,"-$&").toLowerCase()})),fc=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Mw,(function(n,r,o){return dt={name:r,styles:o,next:dt},r}))}return 1===Dw[t]||hc(t)||"number"!=typeof e||0===e?e:e+"px"};function Hn(i,t,e){if(null==e)return"";if(void 0!==e.__emotion_styles)return e;switch(typeof e){case"boolean":return"";case"object":if(1===e.anim)return dt={name:e.name,styles:e.styles,next:dt},e.name;if(void 0!==e.styles){var n=e.next;if(void 0!==n)for(;void 0!==n;)dt={name:n.name,styles:n.styles,next:dt},n=n.next;return e.styles+";"}return Fw(i,t,e);case"function":if(void 0!==i){var o=dt,s=e(i);return dt=o,Hn(i,t,s)}}if(null==t)return e;var a=t[e];return void 0!==a?a:e}function Fw(i,t,e){var n="";if(Array.isArray(e))for(var r=0;r<e.length;r++)n+=Hn(i,t,e[r])+";";else for(var o in e){var s=e[o];if("object"!=typeof s)null!=t&&void 0!==t[s]?n+=o+"{"+t[s]+"}":dc(s)&&(n+=Mo(o)+":"+fc(o,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Hn(i,t,s);switch(o){case"animation":case"animationName":n+=Mo(o)+":"+l+";";break;default:n+=o+"{"+l+"}"}}else for(var a=0;a<s.length;a++)dc(s[a])&&(n+=Mo(o)+":"+fc(o,s[a])+";")}return n}var dt,pc=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fo=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,o="";dt=void 0;var s=t[0];null==s||void 0===s.raw?(r=!1,o+=Hn(n,e,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=Hn(n,e,t[a]),r&&(o+=s[a]);pc.lastIndex=0;for(var u,l="";null!==(u=pc.exec(o));)l+="-"+u[1];return{name:Ow(o)+l,styles:o,next:dt}},kw=function(t){return t()},mc=!!Sr.useInsertionEffect&&Sr.useInsertionEffect||kw,ko={}.hasOwnProperty,gc=Sn("undefined"!=typeof HTMLElement?bw({key:"css"}):null);gc.Provider;var vc=function(t){return yr((function(e,n){var r=En(gc);return t(e,r,n)}))},yc=Sn({}),Lo="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Bw=function(t,e){var n={};for(var r in e)ko.call(e,r)&&(n[r]=e[r]);return n[Lo]=t,n},Iw=function(t){var e=t.cache,n=t.serialized,r=t.isStringTag;return Ro(e,n,r),mc((function(){return cc(e,n,r)})),null},Hw=vc((function(i,t,e){var n=i.css;"string"==typeof n&&void 0!==t.registered[n]&&(n=t.registered[n]);var r=i[Lo],o=[n],s="";"string"==typeof i.className?s=uc(t.registered,o,i.className):null!=i.className&&(s=i.className+" ");var a=Fo(o,void 0,En(yc));s+=t.key+"-"+a.name;var l={};for(var u in i)ko.call(i,u)&&"css"!==u&&u!==Lo&&(l[u]=i[u]);return l.ref=e,l.className=s,Oe(nt,null,Oe(Iw,{cache:t,serialized:a,isStringTag:"string"==typeof r}),Oe(r,l))})),ie=function(t,e){var n=arguments;if(null==e||!ko.call(e,"css"))return Oe.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=Hw,o[1]=Bw(t,e);for(var s=2;s<r;s++)o[s]=n[s];return Oe.apply(null,o)};function Bo(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return Fo(t)}var zw=function(){var t=Bo.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Vw=function i(t){for(var e=t.length,n=0,r="";n<e;n++){var o=t[n];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=i(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(r&&(r+=" "),r+=s)}}return r};function Uw(i,t,e){var n=[],r=uc(i,n,e);return n.length<2?e:r+t(n)}var Ww=function(t){var e=t.cache,n=t.serializedArr;return mc((function(){for(var r=0;r<n.length;r++)cc(e,n[r],!1)})),null},jw=vc((function(i,t){var n=[],r=function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var d=Fo(c,t.registered);return n.push(d),Ro(t,d,!1),t.key+"-"+d.name},o=function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];return Uw(t.registered,r,Vw(c))},s={css:r,cx:o,theme:En(yc)},a=i.children(s);return Oe(nt,null,Oe(Ww,{cache:t,serializedArr:n}),a)}));function Gw(i,t){return t||(t=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(t)}}))}function Io(i,t){if(null==i)return{};var r,o,e={},n=Object.keys(i);for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&(e[r]=i[r]);return e}function un(i,t){if(null==i)return{};var n,r,e=Io(i,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,n)||(e[n]=i[n]))}return e}function cn(i){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}var wc={};Object.defineProperty(wc,"__esModule",{value:!0});var No=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},bc=function(){function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),Sc=Yt,zn=Ec(Sc),Ae=Ec(Tn.exports);function Ec(i){return i&&i.__esModule?i:{default:i}}function Xw(i,t){var e={};for(var n in i)t.indexOf(n)>=0||!Object.prototype.hasOwnProperty.call(i,n)||(e[n]=i[n]);return e}function Yw(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Zw(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?i:t}function Kw(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var xc={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Jw=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Qw=function(t){return Jw.forEach((function(e){return delete t[e]})),t},_c=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},Tc=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),Cc=function(){return Tc?"_"+Math.random().toString(36).substr(2,12):void 0},Ho=function(i){function t(e){Yw(this,t);var n=Zw(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(r){n.input=r,"function"==typeof n.props.inputRef&&n.props.inputRef(r)},n.placeHolderSizerRef=function(r){n.placeHolderSizer=r},n.sizerRef=function(r){n.sizer=r},n.state={inputWidth:e.minWidth,inputId:e.id||Cc(),prevId:e.id},n}return Kw(t,i),bc(t,null,[{key:"getDerivedStateFromProps",value:function(n,r){var o=n.id;return o!==r.prevId?{inputId:o||Cc(),prevId:o}:null}}]),bc(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(n,r){r.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var n=this.input&&window.getComputedStyle(this.input);!n||(_c(n,this.sizer),this.placeHolderSizer&&_c(n,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var n=void 0;n=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(n+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(n=this.props.minWidth),n!==this.state.inputWidth&&this.setState({inputWidth:n})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var n=this.props.injectStyles;return Tc&&n?zn.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var n=[this.props.defaultValue,this.props.value,""].reduce((function(a,l){return null!=a?a:l})),r=No({},this.props.style);r.display||(r.display="inline-block");var o=No({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),s=Xw(this.props,[]);return Qw(s),s.className=this.props.inputClassName,s.id=this.state.inputId,s.style=o,zn.default.createElement("div",{className:this.props.className,style:r},this.renderStyles(),zn.default.createElement("input",No({},s,{ref:this.inputRef})),zn.default.createElement("div",{ref:this.sizerRef,style:xc},n),this.props.placeholder?zn.default.createElement("div",{ref:this.placeHolderSizerRef,style:xc},this.props.placeholder):null)}}]),t}(Sc.Component);Ho.propTypes={className:Ae.default.string,defaultValue:Ae.default.any,extraWidth:Ae.default.oneOfType([Ae.default.number,Ae.default.string]),id:Ae.default.string,injectStyles:Ae.default.bool,inputClassName:Ae.default.string,inputRef:Ae.default.func,inputStyle:Ae.default.object,minWidth:Ae.default.oneOfType([Ae.default.number,Ae.default.string]),onAutosize:Ae.default.func,onChange:Ae.default.func,placeholder:Ae.default.string,placeholderIsMinWidth:Ae.default.bool,style:Ae.default.object,value:Ae.default.any},Ho.defaultProps={minWidth:1,injectStyles:!0};var $w=wc.default=Ho;function zi(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(i,t){if("object"!==cn(i)||null===i)return i;var e=i[Symbol.toPrimitive];if(void 0!==e){var n=e.call(i,t||"default");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(i)}function Pc(i){var t=eb(i,"string");return"symbol"===cn(t)?t:String(t)}function Ac(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Pc(n.key),n)}}function Vi(i,t,e){return t&&Ac(i.prototype,t),e&&Ac(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ui(i,t){return(Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(i,t)}function Wi(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&Ui(i,t)}function wt(i,t,e){return(t=Pc(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function tb(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function Oc(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable}))),e.push.apply(e,n)}return e}function Ne(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(e),!0).forEach((function(n){tb(i,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Oc(Object(e)).forEach((function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))}))}return i}function ji(i){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(i)}function nb(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch{return!1}}function ib(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function rb(i,t){return!t||"object"!=typeof t&&"function"!=typeof t?ib(i):t}function Gi(i){var t=nb();return function(){var r,n=ji(i);if(t){var o=ji(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rb(this,r)}}var qi=function(){};function ob(i,t){return t?"-"===t[0]?i+t:i+"__"+t:i}function sb(i,t,e){var n=[e];if(t&&i)for(var r in t)t.hasOwnProperty(r)&&t[r]&&n.push("".concat(ob(i,r)));return n.filter((function(o){return o})).map((function(o){return String(o).trim()})).join(" ")}var Dc=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===cn(t)&&null!==t?[t]:[]},Rc=function(t){return t.className,t.clearValue,t.cx,t.getStyles,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme,Ne({},un(t,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function zo(i){return[document.documentElement,document.body,window].indexOf(i)>-1}function Mc(i){return zo(i)?window.pageYOffset:i.scrollTop}function Xi(i,t){zo(i)?window.scrollTo(0,t):i.scrollTop=t}function ab(i){var t=getComputedStyle(i),e="absolute"===t.position,n=/(auto|scroll)/,r=document.documentElement;if("fixed"===t.position)return r;for(var o=i;o=o.parentElement;)if(t=getComputedStyle(o),(!e||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return o;return r}function lb(i,t,e,n){return e*((i=i/n-1)*i*i+1)+t}function Yi(i,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qi,r=Mc(i),o=t-r,s=10,a=0;function l(){var u=lb(a+=s,r,o,e);Xi(i,u),a<e?window.requestAnimationFrame(l):n(i)}l()}function ub(i,t){var e=i.getBoundingClientRect(),n=t.getBoundingClientRect(),r=t.offsetHeight/3;n.bottom+r>e.bottom?Xi(i,Math.min(t.offsetTop+t.clientHeight-i.offsetHeight+r,i.scrollHeight)):n.top-r<e.top&&Xi(i,Math.max(t.offsetTop-r,0))}function cb(i){var t=i.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Fc(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function hb(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kc=!1,db={get passive(){return kc=!0}},Zi="undefined"!=typeof window?window:{};Zi.addEventListener&&Zi.removeEventListener&&(Zi.addEventListener("p",qi,db),Zi.removeEventListener("p",qi,!1));var fb=kc;function pb(i){var t=i.maxHeight,e=i.menuEl,n=i.minHeight,r=i.placement,o=i.shouldScroll,s=i.isFixedPosition,l=i.theme.spacing,u=ab(e),c={placement:"bottom",maxHeight:t};if(!e||!e.offsetParent)return c;var d=u.getBoundingClientRect().height,g=e.getBoundingClientRect(),y=g.bottom,x=g.height,b=g.top,f=e.offsetParent.getBoundingClientRect().top,E=window.innerHeight,A=Mc(u),C=parseInt(getComputedStyle(e).marginBottom,10),O=parseInt(getComputedStyle(e).marginTop,10),D=f-O,I=E-b,B=D+A,Z=d-A-b,Y=y-E+A+C,V=A+b-O,K=160;switch(r){case"auto":case"bottom":if(I>=x)return{placement:"bottom",maxHeight:t};if(Z>=x&&!s)return o&&Yi(u,Y,K),{placement:"bottom",maxHeight:t};if(!s&&Z>=n||s&&I>=n)return o&&Yi(u,Y,K),{placement:"bottom",maxHeight:s?I-C:Z-C};if("auto"===r||s){var le=t,re=s?D:B;return re>=n&&(le=Math.min(re-C-l.controlHeight,t)),{placement:"top",maxHeight:le}}if("bottom"===r)return o&&Xi(u,Y),{placement:"bottom",maxHeight:t};break;case"top":if(D>=x)return{placement:"top",maxHeight:t};if(B>=x&&!s)return o&&Yi(u,V,K),{placement:"top",maxHeight:t};if(!s&&B>=n||s&&D>=n){var se=t;return(!s&&B>=n||s&&D>=n)&&(se=s?D-O:B-O),o&&Yi(u,V,K),{placement:"top",maxHeight:se}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function mb(i){return i?{bottom:"top",top:"bottom"}[i]:"bottom"}var Vo=function(t){return"auto"===t?"bottom":t},gb=function(t){var e,n=t.placement,r=t.theme,o=r.borderRadius,s=r.spacing,a=r.colors;return wt(e={label:"menu"},mb(n),"100%"),wt(e,"backgroundColor",a.neutral0),wt(e,"borderRadius",o),wt(e,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),wt(e,"marginBottom",s.menuGutter),wt(e,"marginTop",s.menuGutter),wt(e,"position","absolute"),wt(e,"width","100%"),wt(e,"zIndex",1),e},Lc=Sn({getPortalPlacement:null}),Bc=function(i){Wi(e,i);var t=Gi(e);function e(){var n;zi(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))).state={maxHeight:n.props.maxMenuHeight,placement:null},n.getPlacement=function(a){var l=n.props,u=l.minMenuHeight,c=l.maxMenuHeight,h=l.menuPlacement,d=l.menuPosition,g=l.menuShouldScrollIntoView,y=l.theme;if(a){var x="fixed"===d,T=pb({maxHeight:c,menuEl:a,minHeight:u,placement:h,shouldScroll:g&&!x,isFixedPosition:x,theme:y}),f=n.context.getPortalPlacement;f&&f(T),n.setState(T)}},n.getUpdatedProps=function(){var a=n.props.menuPlacement,l=n.state.placement||Vo(a);return Ne(Ne({},n.props),{},{placement:l,maxHeight:n.state.maxHeight})},n}return Vi(e,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),e}(Pe);Bc.contextType=Lc;var vb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerRef,a=t.innerProps;return ie("div",ne({css:o("menu",t),className:r({menu:!0},n),ref:s},a),e)},yb=function(t){var e=t.maxHeight,n=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},wb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps,a=t.innerRef,l=t.isMulti;return ie("div",ne({css:o("menuList",t),className:r({"menu-list":!0,"menu-list--is-multi":l},n),ref:a},s),e)},Ic=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},bb=Ic,Sb=Ic,Nc=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps;return ie("div",ne({css:o("noOptionsMessage",t),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},s),e)};Nc.defaultProps={children:"No options"};var Hc=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps;return ie("div",ne({css:o("loadingMessage",t),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},s),e)};Hc.defaultProps={children:"Loading..."};var zc,Eb=function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}},xb=function(i){Wi(e,i);var t=Gi(e);function e(){var n;zi(this,e);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))).state={placement:null},n.getPortalPlacement=function(a){var l=a.placement;l!==Vo(n.props.menuPlacement)&&n.setState({placement:l})},n}return Vi(e,[{key:"render",value:function(){var r=this.props,o=r.appendTo,s=r.children,a=r.className,l=r.controlElement,u=r.cx,c=r.innerProps,h=r.menuPlacement,d=r.menuPosition,g=r.getStyles,y="fixed"===d;if(!o&&!y||!l)return null;var x=this.state.placement||Vo(h),b=cb(l),T=y?0:window.pageYOffset,f=b[x]+T,A=ie("div",ne({css:g("menuPortal",{offset:f,position:d,rect:b}),className:u({"menu-portal":!0},a)},c),s);return ie(Lc.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},o?wr(A,o):A)}}]),e}(Pe),_b=function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},Tb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps,a=t.isDisabled,l=t.isRtl;return ie("div",ne({css:o("container",t),className:r({"--is-disabled":a,"--is-rtl":l},n)},s),e)},Cb=function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(e.baseUnit/2,"px ").concat(2*e.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Pb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.innerProps,s=t.isMulti,a=t.getStyles,l=t.hasValue;return ie("div",ne({css:a("valueContainer",t),className:r({"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l},n)},o),e)},Ab=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ob=function(t){var e=t.children,n=t.className,r=t.cx,o=t.innerProps,s=t.getStyles;return ie("div",ne({css:s("indicatorsContainer",t),className:r({indicators:!0},n)},o),e)},Db={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Vc=function(t){var e=t.size,n=un(t,["size"]);return ie("svg",ne({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Db},n))},Uo=function(t){return ie(Vc,ne({size:20},t),ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Uc=function(t){return ie(Vc,ne({size:20},t),ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Wc=function(t){var e=t.isFocused,n=t.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorContainer",color:e?o.neutral60:o.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:e?o.neutral80:o.neutral40}}},Rb=Wc,Mb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps;return ie("div",ne({css:o("dropdownIndicator",t),className:r({indicator:!0,"dropdown-indicator":!0},n)},s),e||ie(Uc,null))},Fb=Wc,kb=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps;return ie("div",ne({css:o("clearIndicator",t),className:r({indicator:!0,"clear-indicator":!0},n)},s),e||ie(Uo,null))},Lb=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing.baseUnit,o=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},Bb=function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.innerProps;return ie("span",ne({},o,{css:r("indicatorSeparator",t),className:n({"indicator-separator":!0},e)}))},Ib=zw(zc||(zc=Gw(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),Nb=function(t){var e=t.isFocused,n=t.size,r=t.theme,o=r.colors,s=r.spacing.baseUnit;return{label:"loadingIndicator",color:e?o.neutral60:o.neutral20,display:"flex",padding:2*s,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},Wo=function(t){var e=t.delay,n=t.offset;return ie("span",{css:Bo({animation:"".concat(Ib," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jc=function(t){var e=t.className,n=t.cx,r=t.getStyles,o=t.innerProps,s=t.isRtl;return ie("div",ne({css:r("loadingIndicator",t),className:n({indicator:!0,"loading-indicator":!0},e)},o),ie(Wo,{delay:0,offset:s}),ie(Wo,{delay:160,offset:!0}),ie(Wo,{delay:320,offset:!s}))};jc.defaultProps={size:4};var Hb=function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,o=r.colors,s=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?o.neutral5:o.neutral0,borderColor:e?o.neutral10:n?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?o.primary:o.neutral30}}},zb=function(t){var e=t.children,n=t.cx,r=t.getStyles,o=t.className,s=t.isDisabled,a=t.isFocused,l=t.innerRef,u=t.innerProps,c=t.menuIsOpen;return ie("div",ne({ref:l,css:r("control",t),className:n({control:!0,"control--is-disabled":s,"control--is-focused":a,"control--menu-is-open":c},o)},u),e)},Vb=function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},Ub=function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.Heading,a=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,h=t.selectProps;return ie("div",ne({css:o("group",t),className:r({group:!0},n)},l),ie(s,ne({},a,{selectProps:h,theme:c,getStyles:o,cx:r}),u),ie("div",null,e))},Wb=function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},jb=function(t){var e=t.getStyles,n=t.cx,r=t.className,o=Rc(t);o.data;var s=un(o,["data"]);return ie("div",ne({css:e("groupHeading",t),className:n({"group-heading":!0},r)},s))},Gb=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,o=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:e?"hidden":"visible",color:o.neutral80}},qb=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},Xb=function(t){var e=t.className,n=t.cx,r=t.getStyles,o=Rc(t),s=o.innerRef,a=o.isDisabled,l=o.isHidden,u=un(o,["innerRef","isDisabled","isHidden"]);return ie("div",{css:r("input",t)},ie($w,ne({className:n({input:!0},e),inputRef:s,inputStyle:qb(l),disabled:a},u)))},Yb=function(t){var e=t.theme,n=e.spacing,r=e.borderRadius;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},Zb=function(t){var e=t.theme,n=e.borderRadius,r=e.colors,o=t.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:o?"ellipsis":null,whiteSpace:"nowrap"}},Kb=function(t){var e=t.theme,n=e.spacing,r=e.borderRadius,o=e.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:t.isFocused&&o.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}}},Gc=function(t){var e=t.children,n=t.innerProps;return ie("div",n,e)},Jb=Gc,Qb=Gc;function $b(i){var t=i.children,e=i.innerProps;return ie("div",e,t||ie(Uo,{size:14}))}var qc=function(t){var e=t.children,n=t.className,r=t.components,o=t.cx,s=t.data,a=t.getStyles,l=t.innerProps,u=t.isDisabled,c=t.removeProps,h=t.selectProps,d=r.Container,g=r.Label,y=r.Remove;return ie(jw,null,(function(x){var b=x.css,T=x.cx;return ie(d,{data:s,innerProps:Ne({className:T(b(a("multiValue",t)),o({"multi-value":!0,"multi-value--is-disabled":u},n))},l),selectProps:h},ie(g,{data:s,innerProps:{className:T(b(a("multiValueLabel",t)),o({"multi-value__label":!0},n))},selectProps:h},e),ie(y,{data:s,innerProps:Ne({className:T(b(a("multiValueRemove",t)),o({"multi-value__remove":!0},n))},c),selectProps:h}))}))};qc.defaultProps={cropWithEllipsis:!0};var eS=function(t){var e=t.isDisabled,n=t.isFocused,r=t.isSelected,o=t.theme,s=o.spacing,a=o.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:e?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(r?a.primary:a.primary50)}}},nS=function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},rS=function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,o=n.colors;return{label:"singleValue",color:e?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},sS={ClearIndicator:kb,Control:zb,DropdownIndicator:Mb,DownChevron:Uc,CrossIcon:Uo,Group:Ub,GroupHeading:jb,IndicatorsContainer:Ob,IndicatorSeparator:Bb,Input:Xb,LoadingIndicator:jc,Menu:vb,MenuList:wb,MenuPortal:xb,LoadingMessage:Hc,NoOptionsMessage:Nc,MultiValue:qc,MultiValueContainer:Jb,MultiValueLabel:Qb,MultiValueRemove:$b,Option:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.isDisabled,a=t.isFocused,l=t.isSelected,u=t.innerRef,c=t.innerProps;return ie("div",ne({css:o("option",t),className:r({option:!0,"option--is-disabled":s,"option--is-focused":a,"option--is-selected":l},n),ref:u},c),e)},Placeholder:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.innerProps;return ie("div",ne({css:o("placeholder",t),className:r({placeholder:!0},n)},s),e)},SelectContainer:Tb,SingleValue:function(t){var e=t.children,n=t.className,r=t.cx,o=t.getStyles,s=t.isDisabled,a=t.innerProps;return ie("div",ne({css:o("singleValue",t),className:r({"single-value":!0,"single-value--is-disabled":s},n)},a),e)},ValueContainer:Pb},aS=function(t){return Ne(Ne({},sS),t.components)};function jo(i,t){(null==t||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function lS(i){if(Array.isArray(i))return jo(i)}function uS(i){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}function cS(i,t){if(i){if("string"==typeof i)return jo(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if("Object"===e&&i.constructor&&(e=i.constructor.name),"Map"===e||"Set"===e)return Array.from(i);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return jo(i,t)}}function hS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xc(i){return lS(i)||uS(i)||cS(i)||hS()}var Yc=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function dS(i,t){return!!(i===t||Yc(i)&&Yc(t))}function fS(i,t){if(i.length!==t.length)return!1;for(var e=0;e<i.length;e++)if(!dS(i[e],t[e]))return!1;return!0}function pS(i,t){void 0===t&&(t=fS);var e,r,n=[],o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&e===this&&t(a,n)||(r=i.apply(this,a),o=!0,e=this,n=a),r}return s}for(var mS={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},gS=function(t){return ie("span",ne({css:mS},t))},vS={guidance:function(t){var e=t.isSearchable,n=t.isMulti,r=t.isDisabled,o=t.tabSelectsValue;switch(t.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,n=t.label,r=void 0===n?"":n,o=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(t){var e=t.context,n=t.focused,r=void 0===n?{}:n,o=t.options,s=t.label,a=void 0===s?"":s,l=t.selectValue,u=t.isDisabled,c=t.isSelected,h=function(x,b){return x&&x.length?"".concat(x.indexOf(b)+1," of ").concat(x.length):""};if("value"===e&&l)return"value ".concat(a," focused, ").concat(h(l,r),".");if("menu"===e){var d=u?" disabled":"",g="".concat(c?"selected":"focused").concat(d);return"option ".concat(a," ").concat(g,", ").concat(h(o,r),".")}return""},onFilter:function(t){var e=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(e?" for search term "+e:"",".")}},yS=function(t){var e=t.ariaSelection,n=t.focusedOption,r=t.focusedValue,o=t.focusableOptions,s=t.isFocused,a=t.selectValue,l=t.selectProps,u=l.ariaLiveMessages,c=l.getOptionLabel,h=l.inputValue,d=l.isMulti,g=l.isOptionDisabled,y=l.isSearchable,x=l.menuIsOpen,b=l.options,T=l.screenReaderStatus,f=l.tabSelectsValue,E=l["aria-label"],A=l["aria-live"],C=gt((function(){return Ne(Ne({},vS),u||{})}),[u]),O=gt((function(){var pe,Y="";if(e&&C.onChange){var V=e.option,K=e.removedValue,Q=e.value,re=K||V||(pe=Q,Array.isArray(pe)?null:pe),se=Ne({isDisabled:re&&g(re),label:re?c(re):""},e);Y=C.onChange(se)}return Y}),[e,g,c,C]),D=gt((function(){var Y="",V=n||r,K=!!(n&&a&&a.includes(n));if(V&&C.onFocus){var Q={focused:V,label:c(V),isDisabled:g(V),isSelected:K,options:b,context:V===n?"menu":"value",selectValue:a};Y=C.onFocus(Q)}return Y}),[n,r,c,g,C,b,a]),I=gt((function(){var Y="";if(x&&b.length&&C.onFilter){var V=T({count:o.length});Y=C.onFilter({inputValue:h,resultsMessage:V})}return Y}),[o,h,x,C,b,T]),B=gt((function(){var Y="";if(C.guidance){var V=r?"value":x?"menu":"input";Y=C.guidance({"aria-label":E,context:V,isDisabled:n&&g(n),isMulti:d,isSearchable:y,tabSelectsValue:f})}return Y}),[E,n,r,d,g,y,x,C,f]),Z="".concat(D," ").concat(I," ").concat(B);return ie(gS,{"aria-live":A,"aria-atomic":"false","aria-relevant":"additions text"},s&&ie(k.Fragment,null,ie("span",{id:"aria-selection"},O),ie("span",{id:"aria-context"},Z)))},Go=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],wS=new RegExp("["+Go.map((function(i){return i.letters})).join("")+"]","g"),Zc={},qo=0;qo<Go.length;qo++)for(var Xo=Go[qo],Yo=0;Yo<Xo.letters.length;Yo++)Zc[Xo.letters[Yo]]=Xo.base;var Kc=function(t){return t.replace(wS,(function(e){return Zc[e]}))},bS=pS(Kc),Jc=function(t){return t.replace(/^\s+|\s+$/g,"")},SS=function(t){return"".concat(t.label," ").concat(t.value)},ES=function(t){return function(e,n){var r=Ne({ignoreCase:!0,ignoreAccents:!0,stringify:SS,trim:!0,matchFrom:"any"},t),o=r.ignoreCase,s=r.ignoreAccents,a=r.stringify,l=r.trim,u=r.matchFrom,c=l?Jc(n):n,h=l?Jc(a(e)):a(e);return o&&(c=c.toLowerCase(),h=h.toLowerCase()),s&&(c=bS(c),h=Kc(h)),"start"===u?h.substr(0,c.length)===c:h.indexOf(c)>-1}};function xS(i){i.in,i.out,i.onExited,i.appear,i.enter,i.exit;var t=i.innerRef;i.emotion;var e=un(i,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return ie("input",ne({ref:t},e,{css:Bo({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var _S=function(t){t.preventDefault(),t.stopPropagation()};function TS(i){var t=i.isEnabled,e=i.onBottomArrive,n=i.onBottomLeave,r=i.onTopArrive,o=i.onTopLeave,s=ot(!1),a=ot(!1),l=ot(0),u=ot(null),c=st((function(b,T){if(null!==u.current){var f=u.current,E=f.scrollTop,A=f.scrollHeight,C=f.clientHeight,O=u.current,D=T>0,I=A-C-E,B=!1;I>T&&s.current&&(n&&n(b),s.current=!1),D&&a.current&&(o&&o(b),a.current=!1),D&&T>I?(e&&!s.current&&e(b),O.scrollTop=A,B=!0,s.current=!0):!D&&-T>E&&(r&&!a.current&&r(b),O.scrollTop=0,B=!0,a.current=!0),B&&_S(b)}}),[]),h=st((function(b){c(b,b.deltaY)}),[c]),d=st((function(b){l.current=b.changedTouches[0].clientY}),[]),g=st((function(b){var T=l.current-b.changedTouches[0].clientY;c(b,T)}),[c]),y=st((function(b){if(b){var T=!!fb&&{passive:!1};"function"==typeof b.addEventListener&&b.addEventListener("wheel",h,T),"function"==typeof b.addEventListener&&b.addEventListener("touchstart",d,T),"function"==typeof b.addEventListener&&b.addEventListener("touchmove",g,T)}}),[g,d,h]),x=st((function(b){!b||("function"==typeof b.removeEventListener&&b.removeEventListener("wheel",h,!1),"function"==typeof b.removeEventListener&&b.removeEventListener("touchstart",d,!1),"function"==typeof b.removeEventListener&&b.removeEventListener("touchmove",g,!1))}),[g,d,h]);return kt((function(){if(t){var b=u.current;return y(b),function(){x(b)}}}),[t,y,x]),function(b){u.current=b}}var Qc=["boxSizing","height","overflow","paddingRight","position"],$c={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function eh(i){i.preventDefault()}function th(i){i.stopPropagation()}function nh(){var i=this.scrollTop,t=this.scrollHeight,e=i+this.offsetHeight;0===i?this.scrollTop=1:e===t&&(this.scrollTop=i-1)}function ih(){return"ontouchstart"in window||navigator.maxTouchPoints}var rh=!("undefined"==typeof window||!window.document||!window.document.createElement),Vn=0,hn={capture:!1,passive:!1};function CS(i){var t=i.isEnabled,e=i.accountForScrollbars,n=void 0===e||e,r=ot({}),o=ot(null),s=st((function(l){if(rh){var u=document.body,c=u&&u.style;if(n&&Qc.forEach((function(y){var x=c&&c[y];r.current[y]=x})),n&&Vn<1){var h=parseInt(r.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,g=window.innerWidth-d+h||0;Object.keys($c).forEach((function(y){var x=$c[y];c&&(c[y]=x)})),c&&(c.paddingRight="".concat(g,"px"))}u&&ih()&&(u.addEventListener("touchmove",eh,hn),l&&(l.addEventListener("touchstart",nh,hn),l.addEventListener("touchmove",th,hn))),Vn+=1}}),[]),a=st((function(l){if(rh){var u=document.body,c=u&&u.style;Vn=Math.max(Vn-1,0),n&&Vn<1&&Qc.forEach((function(h){var d=r.current[h];c&&(c[h]=d)})),u&&ih()&&(u.removeEventListener("touchmove",eh,hn),l&&(l.removeEventListener("touchstart",nh,hn),l.removeEventListener("touchmove",th,hn)))}}),[]);return kt((function(){if(t){var l=o.current;return s(l),function(){a(l)}}}),[t,s,a]),function(l){o.current=l}}var PS=function(){return document.activeElement&&document.activeElement.blur()},AS={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function OS(i){var t=i.children,e=i.lockEnabled,n=i.captureEnabled,u=TS({isEnabled:void 0===n||n,onBottomArrive:i.onBottomArrive,onBottomLeave:i.onBottomLeave,onTopArrive:i.onTopArrive,onTopLeave:i.onTopLeave}),c=CS({isEnabled:e}),h=function(g){u(g),c(g)};return ie(k.Fragment,null,e&&ie("div",{onClick:PS,css:AS}),t(h))}var DS=function(t){return t.label},RS=function(t){return t.label},MS=function(t){return t.value},FS=function(t){return!!t.isDisabled},kS={clearIndicator:Fb,container:_b,control:Hb,dropdownIndicator:Rb,group:Vb,groupHeading:Wb,indicatorsContainer:Ab,indicatorSeparator:Lb,input:Gb,loadingIndicator:Nb,loadingMessage:Sb,menu:gb,menuList:yb,menuPortal:Eb,multiValue:Yb,multiValueLabel:Zb,multiValueRemove:Kb,noOptionsMessage:bb,option:eS,placeholder:nS,singleValue:rS,valueContainer:Cb},oh=4,Zo={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:oh,controlHeight:38,menuGutter:2*oh}},zS={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Fc(),captureMenuScroll:!Fc(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ES(),formatGroupLabel:DS,getOptionLabel:RS,getOptionValue:MS,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:FS,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!hb(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function sh(i,t,e,n){return{type:"option",data:t,isDisabled:hh(i,t,e),isSelected:dh(i,t,e),label:ch(i,t),value:Ki(i,t),index:n}}function ah(i,t){return i.options.map((function(e,n){if(e.options){var r=e.options.map((function(s,a){return sh(i,s,t,a)})).filter((function(s){return uh(i,s)}));return r.length>0?{type:"group",data:e,options:r,index:n}:void 0}var o=sh(i,e,t,n);return uh(i,o)?o:void 0})).filter((function(e){return!!e}))}function lh(i){return i.reduce((function(t,e){return"group"===e.type?t.push.apply(t,Xc(e.options.map((function(n){return n.data})))):t.push(e.data),t}),[])}function VS(i,t){return lh(ah(i,t))}function uh(i,t){var e=i.inputValue,n=void 0===e?"":e,r=t.data,o=t.isSelected,s=t.label,a=t.value;return(!ph(i)||!o)&&fh(i,{label:s,value:a,data:r},n)}function US(i,t){var e=i.focusedValue,r=i.selectValue.indexOf(e);if(r>-1){if(t.indexOf(e)>-1)return e;if(r<t.length)return t[r]}return null}function WS(i,t){var e=i.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]}var ch=function(t,e){return t.getOptionLabel(e)},Ki=function(t,e){return t.getOptionValue(e)};function hh(i,t,e){return"function"==typeof i.isOptionDisabled&&i.isOptionDisabled(t,e)}function dh(i,t,e){if(e.indexOf(t)>-1)return!0;if("function"==typeof i.isOptionSelected)return i.isOptionSelected(t,e);var n=Ki(i,t);return e.some((function(r){return Ki(i,r)===n}))}function fh(i,t,e){return!i.filterOption||i.filterOption(t,e)}var ph=function(t){var e=t.hideSelectedOptions,n=t.isMulti;return void 0===e?n:e},jS=1,mh=function(i){Wi(e,i);var t=Gi(e);function e(n){var r;return zi(this,e),(r=t.call(this,n)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(o){r.controlRef=o},r.focusedOptionRef=null,r.getFocusedOptionRef=function(o){r.focusedOptionRef=o},r.menuListRef=null,r.getMenuListRef=function(o){r.menuListRef=o},r.inputRef=null,r.getInputRef=function(o){r.inputRef=o},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(o,s){var a=r.props,l=a.onChange,u=a.name;s.name=u,r.ariaOnChange(o,s),l(o,s)},r.setValue=function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",a=arguments.length>2?arguments[2]:void 0,l=r.props,u=l.closeMenuOnSelect,c=l.isMulti;r.onInputChange("",{action:"set-value"}),u&&(r.setState({inputIsHiddenAfterUpdate:!c}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(o,{action:s,option:a})},r.selectOption=function(o){var s=r.props,a=s.blurInputOnSelect,l=s.isMulti,u=s.name,c=r.state.selectValue,h=l&&r.isOptionSelected(o,c),d=r.isOptionDisabled(o,c);if(h){var g=r.getOptionValue(o);r.setValue(c.filter((function(y){return r.getOptionValue(y)!==g})),"deselect-option",o)}else{if(d)return void r.ariaOnChange(o,{action:"select-option",name:u});l?r.setValue([].concat(Xc(c),[o]),"select-option",o):r.setValue(o,"select-option")}a&&r.blurInput()},r.removeValue=function(o){var s=r.props.isMulti,a=r.state.selectValue,l=r.getOptionValue(o),u=a.filter((function(h){return r.getOptionValue(h)!==l})),c=s?u:u[0]||null;r.onChange(c,{action:"remove-value",removedValue:o}),r.focusInput()},r.clearValue=function(){var o=r.state.selectValue;r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:o})},r.popValue=function(){var o=r.props.isMulti,s=r.state.selectValue,a=s[s.length-1],l=s.slice(0,s.length-1),u=o?l:l[0]||null;r.onChange(u,{action:"pop-value",removedValue:a})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return sb.apply(void 0,[r.props.classNamePrefix].concat(s))},r.getOptionLabel=function(o){return ch(r.props,o)},r.getOptionValue=function(o){return Ki(r.props,o)},r.getStyles=function(o,s){var a=kS[o](s);a.boxSizing="border-box";var l=r.props.styles[o];return l?l(a,s):a},r.getElementId=function(o){return"".concat(r.instancePrefix,"-").concat(o)},r.getComponents=function(){return aS(r.props)},r.buildCategorizedOptions=function(){return ah(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return lh(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(o,s){r.setState({ariaSelection:Ne({value:o},s)})},r.onMenuMouseDown=function(o){0===o.button&&(o.stopPropagation(),o.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(o){r.blockOptionHover=!1},r.onControlMouseDown=function(o){var s=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==o.target.tagName&&"TEXTAREA"!==o.target.tagName&&r.onMenuClose():s&&r.openMenu("first"):(s&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==o.target.tagName&&"TEXTAREA"!==o.target.tagName&&o.preventDefault()},r.onDropdownIndicatorMouseDown=function(o){if(!(o&&"mousedown"===o.type&&0!==o.button||r.props.isDisabled)){var s=r.props,a=s.isMulti,l=s.menuIsOpen;r.focusInput(),l?(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()):r.openMenu("first"),o.preventDefault(),o.stopPropagation()}},r.onClearIndicatorMouseDown=function(o){o&&"mousedown"===o.type&&0!==o.button||(r.clearValue(),o.stopPropagation(),r.openAfterFocus=!1,"touchend"===o.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(o){"boolean"==typeof r.props.closeMenuOnScroll?o.target instanceof HTMLElement&&zo(o.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(o)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(o){var s=o.touches,a=s&&s.item(0);!a||(r.initialTouchX=a.clientX,r.initialTouchY=a.clientY,r.userIsDragging=!1)},r.onTouchMove=function(o){var s=o.touches,a=s&&s.item(0);if(a){var l=Math.abs(a.clientX-r.initialTouchX),u=Math.abs(a.clientY-r.initialTouchY),c=5;r.userIsDragging=l>c||u>c}},r.onTouchEnd=function(o){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(o.target)&&r.menuListRef&&!r.menuListRef.contains(o.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(o){r.userIsDragging||r.onControlMouseDown(o)},r.onClearIndicatorTouchEnd=function(o){r.userIsDragging||r.onClearIndicatorMouseDown(o)},r.onDropdownIndicatorTouchEnd=function(o){r.userIsDragging||r.onDropdownIndicatorMouseDown(o)},r.handleInputChange=function(o){var s=o.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(s,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(o){r.props.onFocus&&r.props.onFocus(o),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(o){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(o),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(o){r.blockOptionHover||r.state.focusedOption===o||r.setState({focusedOption:o})},r.shouldHideSelectedOptions=function(){return ph(r.props)},r.onKeyDown=function(o){var s=r.props,a=s.isMulti,l=s.backspaceRemovesValue,u=s.escapeClearsValue,c=s.inputValue,h=s.isClearable,d=s.isDisabled,g=s.menuIsOpen,y=s.onKeyDown,x=s.tabSelectsValue,b=s.openMenuOnFocus,T=r.state,f=T.focusedOption,E=T.focusedValue,A=T.selectValue;if(!(d||"function"==typeof y&&(y(o),o.defaultPrevented))){switch(r.blockOptionHover=!0,o.key){case"ArrowLeft":if(!a||c)return;r.focusValue("previous");break;case"ArrowRight":if(!a||c)return;r.focusValue("next");break;case"Delete":case"Backspace":if(c)return;if(E)r.removeValue(E);else{if(!l)return;a?r.popValue():h&&r.clearValue()}break;case"Tab":if(r.isComposing||o.shiftKey||!g||!x||!f||b&&r.isOptionSelected(f,A))return;r.selectOption(f);break;case"Enter":if(229===o.keyCode)break;if(g){if(!f||r.isComposing)return;r.selectOption(f);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):h&&u&&r.clearValue();break;case" ":if(c)return;if(!g){r.openMenu("first");break}if(!f)return;r.selectOption(f);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}o.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++jS),r.state.selectValue=Dc(n.value),r}return Vi(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(r){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!s&&r.isDisabled||l&&a&&!r.menuIsOpen)&&this.focusInput(),l&&s&&!r.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ub(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,o){this.props.onInputChange(r,o)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(r){var o=this,s=this.state,a=s.selectValue,l=s.isFocused,u=this.buildFocusableOptions(),c="first"===r?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(a[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},(function(){return o.onMenuOpen()}))}},{key:"focusValue",value:function(r){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var u=s.length-1,c=-1;if(s.length){switch(r){case"previous":c=0===l?0:-1===l?u:l-1;break;case"next":l>-1&&l<u&&(c=l+1)}this.setState({inputIsHidden:-1!==c,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(s);s||(u=-1),"up"===r?l=u>0?u-1:a.length-1:"down"===r?l=(u+1)%a.length:"pageup"===r?(l=u-o)<0&&(l=0):"pagedown"===r?(l=u+o)>a.length-1&&(l=a.length-1):"last"===r&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Zo):Ne(Ne({},Zo),this.props.theme):Zo}},{key:"getCommonProps",value:function(){var r=this.clearValue,o=this.cx,s=this.getStyles,a=this.getValue,l=this.selectOption,u=this.setValue,c=this.props,h=c.isMulti,d=c.isRtl,g=c.options;return{clearValue:r,cx:o,getStyles:s,getValue:a,hasValue:this.hasValue(),isMulti:h,isRtl:d,options:g,selectOption:l,selectProps:c,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,o=r.isClearable,s=r.isMulti;return void 0===o?s:o}},{key:"isOptionDisabled",value:function(r,o){return hh(this.props,r,o)}},{key:"isOptionSelected",value:function(r,o){return dh(this.props,r,o)}},{key:"filterOption",value:function(r,o){return fh(this.props,r,o)}},{key:"formatOptionLabel",value:function(r,o){if("function"==typeof this.props.formatOptionLabel){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(r,{context:o,inputValue:s,selectValue:a})}return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,o=r.isDisabled,s=r.isSearchable,a=r.inputId,l=r.inputValue,u=r.tabIndex,c=r.form,d=this.getComponents().Input,g=this.state.inputIsHidden,y=this.commonProps,x=a||this.getElementId("input"),b={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return s?k.createElement(d,ne({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:o,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},b)):k.createElement(xS,ne({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qi,onFocus:this.onInputFocus,readOnly:!0,disabled:o,tabIndex:u,form:c,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,h=o.Placeholder,d=this.commonProps,g=this.props,y=g.controlShouldRenderValue,x=g.isDisabled,b=g.isMulti,T=g.inputValue,f=g.placeholder,E=this.state,A=E.selectValue,C=E.focusedValue,O=E.isFocused;if(!this.hasValue()||!y)return T?null:k.createElement(h,ne({},d,{key:"placeholder",isDisabled:x,isFocused:O}),f);if(b)return A.map((function(B,Z){var Y=B===C;return k.createElement(s,ne({},d,{components:{Container:a,Label:l,Remove:u},isFocused:Y,isDisabled:x,key:"".concat(r.getOptionValue(B)).concat(Z),index:Z,removeProps:{onClick:function(){return r.removeValue(B)},onTouchEnd:function(){return r.removeValue(B)},onMouseDown:function(K){K.preventDefault(),K.stopPropagation()}},data:B}),r.formatOptionLabel(B,"value"))}));if(T)return null;var I=A[0];return k.createElement(c,ne({},d,{data:I,isDisabled:x}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents().ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(o,ne({},s,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents().LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!o||!u)return null;var h={"aria-hidden":"true"};return k.createElement(o,ne({},s,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator,s=r.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return k.createElement(s,ne({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents().DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(o,ne({},s,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,h=o.LoadingMessage,d=o.NoOptionsMessage,g=o.Option,y=this.commonProps,x=this.state.focusedOption,b=this.props,T=b.captureMenuScroll,f=b.inputValue,E=b.isLoading,A=b.loadingMessage,C=b.minMenuHeight,O=b.maxMenuHeight,D=b.menuIsOpen,I=b.menuPlacement,B=b.menuPosition,Z=b.menuPortalTarget,Y=b.menuShouldBlockScroll,V=b.menuShouldScrollIntoView,K=b.noOptionsMessage,Q=b.onMenuScrollToTop,le=b.onMenuScrollToBottom;if(!D)return null;var se,re=function(H,U){var W=H.type,j=H.data,$=H.isDisabled,ae=H.isSelected,we=H.label,me=H.value,Qe=x===j,$e=$?void 0:function(){return r.onOptionHover(j)},et=$?void 0:function(){return r.selectOption(j)},p="".concat(r.getElementId("option"),"-").concat(U),_={id:p,onClick:et,onMouseMove:$e,onMouseOver:$e,tabIndex:-1};return k.createElement(g,ne({},y,{innerProps:_,data:j,isDisabled:$,isSelected:ae,key:p,label:we,type:W,value:me,isFocused:Qe,innerRef:Qe?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(H.data,"menu"))};if(this.hasOptions())se=this.getCategorizedOptions().map((function(F){if("group"===F.type){var H=F.data,U=F.options,W=F.index,j="".concat(r.getElementId("group"),"-").concat(W),$="".concat(j,"-heading");return k.createElement(s,ne({},y,{key:j,data:H,options:U,Heading:a,headingProps:{id:$,data:F.data},label:r.formatGroupLabel(F.data)}),F.options.map((function(ae){return re(ae,"".concat(W,"-").concat(ae.index))})))}if("option"===F.type)return re(F,"".concat(F.index))}));else if(E){var de=A({inputValue:f});if(null===de)return null;se=k.createElement(h,y,de)}else{var pe=K({inputValue:f});if(null===pe)return null;se=k.createElement(d,y,pe)}var G={minMenuHeight:C,maxMenuHeight:O,menuPlacement:I,menuPosition:B,menuShouldScrollIntoView:V},Me=k.createElement(Bc,ne({},y,G),(function(F){var H=F.ref,U=F.placerProps,W=U.placement,j=U.maxHeight;return k.createElement(l,ne({},y,G,{innerRef:H,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:E,placement:W}),k.createElement(OS,{captureEnabled:T,onTopArrive:Q,onBottomArrive:le,lockEnabled:Y},(function($){return k.createElement(u,ne({},y,{innerRef:function(we){r.getMenuListRef(we),$(we)},isLoading:E,maxHeight:j,focusedOption:x}),se)})))}));return Z||"fixed"===B?k.createElement(c,ne({},y,{appendTo:Z,controlElement:this.controlRef,menuPlacement:I,menuPosition:B}),Me):Me}},{key:"renderFormField",value:function(){var r=this,o=this.props,s=o.delimiter,a=o.isDisabled,l=o.isMulti,u=o.name,c=this.state.selectValue;if(u&&!a){if(l){if(s){var h=c.map((function(y){return r.getOptionValue(y)})).join(s);return k.createElement("input",{name:u,type:"hidden",value:h})}var d=c.length>0?c.map((function(y,x){return k.createElement("input",{key:"i-".concat(x),name:u,type:"hidden",value:r.getOptionValue(y)})})):k.createElement("input",{name:u,type:"hidden"});return k.createElement("div",null,d)}var g=c[0]?this.getOptionValue(c[0]):"";return k.createElement("input",{name:u,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,h=this.getFocusableOptions();return k.createElement(yS,ne({},r,{ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var r=this.getComponents(),o=r.Control,s=r.IndicatorsContainer,a=r.SelectContainer,l=r.ValueContainer,u=this.props,c=u.className,h=u.id,d=u.isDisabled,g=u.menuIsOpen,y=this.state.isFocused,x=this.commonProps=this.getCommonProps();return k.createElement(a,ne({},x,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:y}),this.renderLiveRegion(),k.createElement(o,ne({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:y,menuIsOpen:g}),k.createElement(l,ne({},x,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(s,ne({},x,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=r.options,c=r.value,h=r.menuIsOpen,d=r.inputValue,g={};if(s&&(c!==s.value||u!==s.options||h!==s.menuIsOpen||d!==s.inputValue)){var y=Dc(c),x=h?VS(r,y):[],b=a?US(o,y):null;g={selectValue:y,focusedOption:WS(o,x),focusedValue:b,clearFocusValueOnUpdate:!1}}var f=null!=l&&r!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{};return Ne(Ne(Ne({},g),f),{},{prevProps:r})}}]),e}(Pe);mh.defaultProps=zS;var GS={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},qS=function(t){var e,n;return n=e=function(r){Wi(s,r);var o=Gi(s);function s(){var a;zi(this,s);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return(a=o.call.apply(o,[this].concat(u))).select=void 0,a.state={inputValue:void 0!==a.props.inputValue?a.props.inputValue:a.props.defaultInputValue,menuIsOpen:void 0!==a.props.menuIsOpen?a.props.menuIsOpen:a.props.defaultMenuIsOpen,value:void 0!==a.props.value?a.props.value:a.props.defaultValue},a.onChange=function(h,d){a.callProp("onChange",h,d),a.setState({value:h})},a.onInputChange=function(h,d){var g=a.callProp("onInputChange",h,d);a.setState({inputValue:void 0!==g?g:h})},a.onMenuOpen=function(){a.callProp("onMenuOpen"),a.setState({menuIsOpen:!0})},a.onMenuClose=function(){a.callProp("onMenuClose"),a.setState({menuIsOpen:!1})},a}return Vi(s,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(l){return void 0!==this.props[l]?this.props[l]:this.state[l]}},{key:"callProp",value:function(l){if("function"==typeof this.props[l]){for(var u,c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];return(u=this.props)[l].apply(u,h)}}},{key:"render",value:function(){var l=this,u=this.props;u.defaultInputValue,u.defaultMenuIsOpen,u.defaultValue;var c=un(u,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return k.createElement(t,ne({},c,{ref:function(d){l.select=d},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),s}(Pe),e.defaultProps=GS,n},YS=qS(mh);const Ko=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var gh=i=>{const t=i.content?Ko.find((e=>e.value===i.content)):null;return k.createElement("div",{className:"r6o-purposedropdown"},k.createElement(YS,{value:t,onChange:i.onChange,options:Ko,isDisabled:!i.editable}))};const ZS=i=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:i.width},k.createElement("metadata",null,"IcoFont Icons"),k.createElement("title",null,"simple-down"),k.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),k.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),KS=i=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:i.width},k.createElement("metadata",null,"IcoFont Icons"),k.createElement("title",null,"close"),k.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),k.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),JS=i=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:i.width},k.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var QS=i=>{const[t,e]=mt(!1),[n,r]=mt(!1),o=h=>{e(!0),r(!1)},s=h=>{i.onDelete(i.body),r(!1)},a=h=>i.onUpdate(i.body,{...i.body,value:h.target.value}),l=h=>i.onUpdate(i.body,{...i.body,purpose:h.value}),u=i.body.modified||i.body.created,c=i.body.creator&&k.createElement("div",{className:"r6o-lastmodified"},k.createElement("span",{className:"r6o-lastmodified-by"},i.body.creator.name||i.body.creator.id),i.body.created&&k.createElement("span",{className:"r6o-lastmodified-at"},k.createElement(Bf,{datetime:i.env.toClientTime(u),locale:Ze.locale()})));return i.readOnly?k.createElement("div",{className:"r6o-widget comment"},k.createElement("div",{className:"r6o-readonly-comment"},i.body.value),c):k.createElement("div",{className:t?"r6o-widget comment editable":"r6o-widget comment"},k.createElement(Yu,{editable:t,content:i.body.value,onChange:a,onSaveAndClose:i.onSaveAndClose}),!t&&c,i.purposeSelector&&k.createElement(gh,{editable:t,content:i.body.purpose,onChange:l,onSaveAndClose:i.onSaveAndClose}),k.createElement("div",{className:n?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>r(!n)},k.createElement(ZS,{width:12})),n&&k.createElement(k0,{onEdit:o,onDelete:s,onClickOutside:()=>r(!1)}))};const $S=Ko.map((i=>i.value)),vh=(i,t)=>{const e=t?$S.indexOf(i.purpose)>-1:"commenting"==i.purpose||"replying"==i.purpose;return"TextualBody"===i.type&&(!Object.prototype.hasOwnProperty.call(i,"purpose")||e)},yh=(i,t)=>{var e,n;if(!0===t.editable)return!1;if(!1===t.editable)return!0;if("MINE_ONLY"===t.editable){const r=null==(e=i.creator)?void 0:e.id;return(null==(n=t.env.user)?void 0:n.id)!==r}return t.readOnly},eE=(i,t)=>i||{type:"TextualBody",value:"",purpose:t?"replying":"commenting",draft:!0},wh=i=>{const t=i.annotation?i.annotation.bodies.filter((l=>vh(l,i.purposeSelector))):[],e=eE(t.find((l=>1==l.draft)),t.length>1),n=t.filter((l=>l!=e)),r=l=>{const u=e.value,c=l.target.value;0===u.length&&c.length>0?i.onAppendBody({...e,value:c}):u.length>0&&0===c.length?i.onRemoveBody(e):i.onUpdateBody(e,{...e,value:c})},o=l=>i.onUpdateBody(e,{...e,purpose:l.value}),s=!i.readOnly&&i.annotation,a=0===n.length||!i.disableReply;return k.createElement(k.Fragment,null,n.map(((l,u)=>k.createElement(QS,{key:u,env:i.env,purposeSelector:i.purposeSelector,readOnly:yh(l,i),body:l,onUpdate:i.onUpdateBody,onDelete:i.onRemoveBody,onSaveAndClose:i.onSaveAndClose}))),s&&a&&k.createElement("div",{className:"r6o-widget comment editable"},k.createElement(Yu,{focus:i.focus,content:e.value,editable:!0,placeholder:n.length>0?Ze.t("Add a reply..."):i.textPlaceHolder||Ze.t("Add a comment..."),onChange:r,onSaveAndClose:()=>i.onSaveAndClose()}),i.purposeSelector&&e.value.length>0&&k.createElement(gh,{editable:!0,content:e.purpose,onChange:o,onSaveAndClose:()=>i.onSaveAndClose()})))};wh.disableDelete=(i,t)=>i.bodies.filter((n=>vh(n,t.purposeSelector))).some((n=>yh(n,t)));var bh=wh;function Sh(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Ui(i,t)}function tE(i,t){return i.classList?!!t&&i.classList.contains(t):-1!==(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+t+" ")}function nE(i,t){i.classList?i.classList.add(t):tE(i,t)||("string"==typeof i.className?i.className=i.className+" "+t:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+t))}function Eh(i,t){return i.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iE(i,t){i.classList?i.classList.remove(t):"string"==typeof i.className?i.className=Eh(i.className,t):i.setAttribute("class",Eh(i.className&&i.className.baseVal||"",t))}var xh={disabled:!1},_h=k.createContext(null),Th=function(t){return t.scrollTop},Un="unmounted",Vt="exited",Ut="entering",dn="entered",Jo="exiting",bt=function(i){function t(n,r){var o;o=i.call(this,n,r)||this;var l,a=r&&!r.isMounting?n.enter:n.appear;return o.appearStatus=null,n.in?a?(l=Vt,o.appearStatus=Ut):l=dn:l=n.unmountOnExit||n.mountOnEnter?Un:Vt,o.state={status:l},o.nextCallback=null,o}Sh(t,i),t.getDerivedStateFromProps=function(r,o){return r.in&&o.status===Un?{status:Vt}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(r){var o=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Ut&&s!==dn&&(o=Ut):(s===Ut||s===dn)&&(o=Jo)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var o,s,a,r=this.props.timeout;return o=s=a=r,null!=r&&"number"!=typeof r&&(o=r.exit,s=r.enter,a=void 0!==r.appear?r.appear:s),{exit:o,enter:s,appear:a}},e.updateStatus=function(r,o){if(void 0===r&&(r=!1),null!==o)if(this.cancelNextCallback(),o===Ut){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:k.findDOMNode(this);s&&Th(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vt&&this.setState({status:Un})},e.performEnter=function(r){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[k.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;!r&&!s||xh.disabled?this.safeSetState({status:dn},(function(){o.props.onEntered(u)})):(this.props.onEnter(u,c),this.safeSetState({status:Ut},(function(){o.props.onEntering(u,c),o.onTransitionEnd(d,(function(){o.safeSetState({status:dn},(function(){o.props.onEntered(u,c)}))}))})))},e.performExit=function(){var r=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:k.findDOMNode(this);o&&!xh.disabled?(this.props.onExit(a),this.safeSetState({status:Jo},(function(){r.props.onExiting(a),r.onTransitionEnd(s.exit,(function(){r.safeSetState({status:Vt},(function(){r.props.onExited(a)}))}))}))):this.safeSetState({status:Vt},(function(){r.props.onExited(a)}))},e.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},e.setNextCallback=function(r){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,r(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},e.onTransitionEnd=function(r,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:k.findDOMNode(this),a=null==r&&!this.props.addEndListener;if(s&&!a){if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}null!=r&&setTimeout(this.nextCallback,r)}else setTimeout(this.nextCallback,0)},e.render=function(){var r=this.state.status;if(r===Un)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Io(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return k.createElement(_h.Provider,{value:null},"function"==typeof s?s(r,a):k.cloneElement(k.Children.only(s),a))},t}(k.Component);function fn(){}bt.contextType=_h,bt.propTypes={},bt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fn,onEntering:fn,onEntered:fn,onExit:fn,onExiting:fn,onExited:fn},bt.UNMOUNTED=Un,bt.EXITED=Vt,bt.ENTERING=Ut,bt.ENTERED=dn,bt.EXITING=Jo;var rE=bt,oE=function(t,e){return t&&e&&e.split(" ").forEach((function(n){return nE(t,n)}))},Qo=function(t,e){return t&&e&&e.split(" ").forEach((function(n){return iE(t,n)}))},$o=function(i){function t(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=i.call.apply(i,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(a,l){var u=n.resolveArguments(a,l),c=u[0],h=u[1];n.removeClasses(c,"exit"),n.addClass(c,h?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(a,l)},n.onEntering=function(a,l){var u=n.resolveArguments(a,l),c=u[0],d=u[1]?"appear":"enter";n.addClass(c,d,"active"),n.props.onEntering&&n.props.onEntering(a,l)},n.onEntered=function(a,l){var u=n.resolveArguments(a,l),c=u[0],d=u[1]?"appear":"enter";n.removeClasses(c,d),n.addClass(c,d,"done"),n.props.onEntered&&n.props.onEntered(a,l)},n.onExit=function(a){var u=n.resolveArguments(a)[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(a)},n.onExiting=function(a){var u=n.resolveArguments(a)[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(a)},n.onExited=function(a){var u=n.resolveArguments(a)[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(a)},n.resolveArguments=function(a,l){return n.props.nodeRef?[n.props.nodeRef.current,a]:[a,l]},n.getClassNames=function(a){var l=n.props.classNames,u="string"==typeof l,h=u?(u&&l?l+"-":"")+a:l[a];return{baseClassName:h,activeClassName:u?h+"-active":l[a+"Active"],doneClassName:u?h+"-done":l[a+"Done"]}},n}Sh(t,i);var e=t.prototype;return e.addClass=function(r,o,s){var a=this.getClassNames(o)[s+"ClassName"],u=this.getClassNames("enter").doneClassName;"appear"===o&&"done"===s&&u&&(a+=" "+u),"active"===s&&r&&Th(r),a&&(this.appliedClasses[o][s]=a,oE(r,a))},e.removeClasses=function(r,o){var s=this.appliedClasses[o],a=s.base,l=s.active,u=s.done;this.appliedClasses[o]={},a&&Qo(r,a),l&&Qo(r,l),u&&Qo(r,u)},e.render=function(){var r=this.props;r.classNames;var o=Io(r,["classNames"]);return k.createElement(rE,ne({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(k.Component);$o.defaultProps={classNames:""},$o.propTypes={};var sE=$o;const aE=(i,t)=>t.filter((e=>(e.label?e.label:e).toLowerCase().startsWith(i.toLowerCase()))),lE=(i,t)=>t(i);var uE=i=>{const t=ot(),[e,n]=mt(i.initialValue||""),[r,o]=mt([]),[s,a]=mt(null);kt((()=>{i.focus&&t.current.querySelector("input").focus({preventScroll:!0})}),[]),kt((()=>{i.onChange&&i.onChange(e)}),[e]);const l=d=>{if("function"==typeof i.vocabulary){const g=lE(d,i.vocabulary);g.then?g.then(o):o(g)}else{const g=aE(d,i.vocabulary);o(g)}},u=()=>{if(null!==s)i.onSubmit(r[s]);else{const d=e.trim();if(d){const g=Array.isArray(i.vocabulary)?i.vocabulary.find((y=>(y.label||y).toLowerCase()===d.toLowerCase())):null;g?i.onSubmit(g):i.onSubmit(d)}}n(""),o([]),a(null)},c=d=>{if(13===d.which)u();else if(27===d.which)i.onCancel&&i.onCancel();else if(r.length>0){if(38===d.which)if(null===s)a(0);else{const g=Math.max(0,s-1);a(g)}else if(40===d.which)if(null===s)a(0);else{const g=Math.min(r.length-1,s+1);a(g)}}else 40===d.which&&Array.isArray(i.vocabulary)&&o(i.vocabulary)},h=d=>{const{value:g}=d.target;n(g),a(null),g?l(g):o([])};return k.createElement("div",{ref:t,className:"r6o-autocomplete"},k.createElement("div",null,k.createElement("input",{onKeyDown:c,onChange:h,value:e,placeholder:i.placeholder})),k.createElement("ul",null,r.length>0&&r.map(((d,g)=>k.createElement("li",{key:`${d.label?d.label:d}${g}`,onClick:u,onMouseEnter:()=>a(g),style:s===g?{backgroundColor:"#bde4ff"}:{}},d.label?d.label:d)))))};const cE=i=>i||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var Ch=i=>{const t=i.annotation?i.annotation.bodies.filter((h=>"tagging"===h.purpose)):[],e=cE(t.slice().reverse().find((h=>h.draft))),n=t.filter((h=>h!=e)),[r,o]=mt(!1),s=h=>d=>{o(r!==h&&h)},a=h=>{const d=e.value.trim(),g=h.trim();0===d.length&&g.length>0?i.onAppendBody({...e,value:g}):d.length>0&&0===g.length?i.onRemoveBody(e):d!==g&&i.onUpdateBody(e,{...e,value:g})},l=h=>d=>{d.stopPropagation(),i.onRemoveBody(h)},u=h=>{const d=h.uri?{type:"SpecificResource",purpose:"tagging",source:{id:h.uri,label:h.label}}:{type:"TextualBody",purpose:"tagging",value:h.label||h};0===e.value.trim().length?i.onAppendBody(d):i.onUpdateBody(e,d)},c=h=>h.value||h.source.label;return k.createElement("div",{className:"r6o-widget r6o-tag"},n.length>0&&k.createElement("ul",{className:"r6o-taglist"},n.map((h=>k.createElement("li",{key:c(h),onClick:s(h)},k.createElement("span",{className:"r6o-label"},c(h)),!i.readOnly&&k.createElement(sE,{in:r===h,timeout:200,classNames:"r6o-delete"},k.createElement("span",{className:"r6o-delete-wrapper",onClick:l(h)},k.createElement("span",{className:"r6o-delete"},k.createElement(KS,{width:12})))))))),!i.readOnly&&k.createElement(uE,{focus:i.focus,placeholder:i.textPlaceHolder||Ze.t("Add tag..."),vocabulary:i.vocabulary||[],onChange:a,onSubmit:u}))};class Ph extends Pe{constructor(t){super(t),this.element=k.createRef()}renderWidget(t){const e=this.props.widget({annotation:t.annotation,readOnly:t.readOnly,...t.config,onAppendBody:(n,r)=>t.onAppendBody(n,r),onUpdateBody:(n,r,o)=>t.onUpdateBody(n,r,o),onUpsertBody:(n,r,o)=>t.onUpsertBody(n,r,o),onRemoveBody:(n,r)=>t.onRemoveBody(n,r),onBatchModify:(n,r)=>t.onBatchModify(n,r),onSetProperty:(n,r)=>t.onSetProperty(n,r),onAddContext:n=>t.onAddContext(n),onSaveAndClose:()=>t.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(e)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(t){this.element.current&&this.props.annotation!==t.annotation&&this.renderWidget(t)}render(){return k.createElement("div",{ref:this.element,className:"widget"})}}window.React=k,window.ReactDOM=k;const hE={COMMENT:bh,TAG:Ch},dE=[k.createElement(bh,null),k.createElement(Ch,null)],fE=i=>{const e=n=>"function"==typeof n&&(String(n).match(/return .+\(['|"].+['|"],\s*\{/g)||String(n).match(/return .+preact_compat/)||String(n).match(/return .+\.createElement/g));return"function"==typeof(n=i)&&!(null==(r=n.prototype)||!r.isReactComponent)||e(i);var n,r},pE=i=>{const t=(e,n,r)=>{if("string"==typeof e||e instanceof String)return k.createElement(hE[e],n);if("react"===(null==r?void 0:r.toLowerCase()))return k.createElement(e,n);if("plainjs"===(null==r?void 0:r.toLowerCase()))return k.createElement(Ph,{widget:e,config:n});if(fE(e))return k.createElement(e,n);if("function"==typeof e||e instanceof Function)return k.createElement(Ph,{widget:e,config:n});throw`${e} is not a valid plugin`};if(i.widget){const{widget:e,force:n,...r}=i;return t(e,r,n)}return t(i)},Ah=14;var Oh=(i,t,e,n)=>{const r=i.getBoundingClientRect();t.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:o,top:s,right:a,bottom:l}=e.getBoundingClientRect();if(t.style.top=`${l-r.top+Ah}px`,t.style.left=o-r.left+"px",n){const u=t.children[1].getBoundingClientRect(),{innerWidth:c,innerHeight:h}=i.ownerDocument.defaultView;if(u.right>c&&(t.classList.remove("r6o-arrow-left"),t.classList.add("r6o-arrow-right"),t.style.left=a-u.width-r.left+"px"),u.bottom>h){t.classList.remove("r6o-arrow-top"),t.classList.add("r6o-arrow-bottom");const g=t.children[1].getBoundingClientRect().height;t.style.top=s-r.top-g-Ah+"px"}const d=t.children[1].getBoundingClientRect();if(d.top<0){t.classList.add("pushed","down"),t.style.top=-r.top+"px";const g=l-r.top;d.height-r.top>g&&t.classList.remove("r6o-arrow-bottom")}d.left<0&&(t.classList.add("pushed","right"),t.style.left=-r.left+"px"),requestAnimationFrame((()=>t.style.opacity=1))}};const Dh=i=>{const{top:t,left:e,width:n,height:r}=i.getBoundingClientRect();return`${t}, ${e}, ${n}, ${r}`};class mE extends Pe{constructor(e){super(e),P(this,"initResizeObserver",(()=>{const e=void 0===this.props.autoPosition||this.props.autoPosition;if(null!=window&&window.ResizeObserver){const n=new ResizeObserver((()=>{this.state.dragged||Oh(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)}));return n.observe(this.props.wrapperEl),()=>n.disconnect()}this.state.dragged||Oh(this.props.wrapperEl,this.element.current,this.props.selectedElement,e)})),P(this,"creationMeta",(e=>{const n={},{user:r}=this.props.env;return r&&(n.creator={},r.id&&(n.creator.id=r.id),r.displayName&&(n.creator.name=r.displayName),n[e.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),n})),P(this,"getCurrentAnnotation",(()=>this.state.currentAnnotation.clone())),P(this,"hasChanges",(()=>{var e;return!(null!=(e=this.props.annotation)&&e.isEqual(this.state.currentAnnotation))})),P(this,"updateCurrentAnnotation",((e,n)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(e)},(()=>{n?this.onOk():this.props.onChanged&&this.props.onChanged()}))})),P(this,"onAppendBody",((e,n)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...e,...this.creationMeta(e)}]},n))),P(this,"onUpdateBody",((e,n,r)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map((o=>o===e?{...n,...this.creationMeta(n)}:o))},r))),P(this,"onRemoveBody",((e,n)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter((r=>r!==e))},n))),P(this,"onUpsertBody",((e,n,r)=>{if(null==e&&null!=n)this.onAppendBody(n,r);else if(null!=e&&null!=n)this.onUpdateBody(e,n,r);else if(null!=e&&null==n){const o=this.state.currentAnnotation.bodies.find((s=>s.purpose===e.purpose));o?this.onUpdateBody(o,e,r):this.onAppendBody(e,r)}})),P(this,"onBatchModify",((e,n)=>{const r=e.filter((u=>"upsert"===u.action&&u.body)).map((u=>({previous:this.state.currentAnnotation.bodies.find((c=>c.purpose===u.body.purpose)),updated:{...u.body,...this.creationMeta(u.body)}}))),o=e.filter((u=>"remove"===u.action)).map((u=>u.body)),s=[...e.filter((u=>"append"===u.action||"upsert"===u.action&&u.updated&&!u.previous)).map((u=>({...u.body,...this.creationMeta(u.body)}))),...r.filter((u=>!u.previous)).map((u=>u.updated))],a=[...e.filter((u=>"update"===u.action||"upsert"===u.action&&u.updated&&u.previous)).map((u=>({previous:u.previous,updated:{...u.updated,...this.creationMeta(u.updated)}}))),...r.filter((u=>u.previous))],l=[...this.state.currentAnnotation.bodies.filter((u=>!o.includes(u))).map((u=>{const c=a.find((h=>h.previous===u));return c?c.updated:u})),...s];this.updateCurrentAnnotation({body:l},n)})),P(this,"onSetProperty",((e,n)=>{if(["@context","id","type","body","target"].includes(e))throw new Exception(`Cannot set ${e} - not allowed`);if(n)this.updateCurrentAnnotation({[e]:n});else{const o=this.currentAnnotation.clone();delete o[e],this.setState({currentAnnotation:o})}})),P(this,"onAddContext",(e=>{const{currentAnnotation:n}=this.state,r=Array.isArray(n.context)?n.context:[n.context];r.indexOf(e)<0&&(r.push(e),this.updateCurrentAnnotation({"@context":r}))})),P(this,"onCancel",(()=>this.props.onCancel(this.props.annotation))),P(this,"onOk",(()=>{const e=r=>r.clone({body:r.bodies.map((({draft:o,...s})=>s))}),{currentAnnotation:n}=this.state;0!==n.bodies.length||this.props.allowEmpty?n.isSelection?this.props.onAnnotationCreated(e(n).toAnnotation()):this.props.onAnnotationUpdated(e(n),this.props.annotation):n.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation)})),P(this,"onDelete",(()=>this.props.onAnnotationDeleted(this.props.annotation))),this.element=k.createRef(),this.state={currentAnnotation:e.annotation,dragged:!1,selectionBounds:Dh(e.selectedElement)}}componentWillReceiveProps(e){var o;const{selectionBounds:n}=this.state,r=Dh(e.selectedElement);null!=(o=this.props.annotation)&&o.isEqual(e.annotation)?this.setState({selectionBounds:r}):this.setState({currentAnnotation:e.annotation,selectionBounds:r}),this.props.modifiedTarget!=e.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),n!=r&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver((()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())})).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:e}=this.state,n=this.props.widgets?this.props.widgets.map(pE):dE,r=s=>!!s.type.disableDelete&&s.type.disableDelete(e,{...s.props,readOnly:this.props.readOnly,env:this.props.env}),o=e&&(e.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!e.isSelection&&!n.some(r);return k.createElement(xf,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},k.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},k.createElement("div",{className:"r6o-arrow"}),k.createElement("div",{className:"r6o-editor-inner"},n.map(((s,a)=>k.cloneElement(s,{key:`${a}`,focus:0===a,annotation:e,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk}))),this.props.readOnly?k.createElement("div",{className:"r6o-footer"},k.createElement("button",{className:"r6o-btn",onClick:this.onCancel},Ze.t("Close"))):k.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},o&&k.createElement("button",{className:"r6o-btn left delete-annotation",title:Ze.t("Delete"),onClick:this.onDelete},k.createElement(JS,{width:12})),k.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},Ze.t("Cancel")),k.createElement("button",{className:"r6o-btn ",onClick:this.onOk},Ze.t("Ok"))))))}}var Ji,gE=new Uint8Array(16);function vE(){if(!Ji&&!(Ji="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ji(gE)}var yE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function wE(i){return"string"==typeof i&&yE.test(i)}for(var He=[],es=0;es<256;++es)He.push((es+256).toString(16).substr(1));function bE(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(He[i[t+0]]+He[i[t+1]]+He[i[t+2]]+He[i[t+3]]+"-"+He[i[t+4]]+He[i[t+5]]+"-"+He[i[t+6]]+He[i[t+7]]+"-"+He[i[t+8]]+He[i[t+9]]+"-"+He[i[t+10]]+He[i[t+11]]+He[i[t+12]]+He[i[t+13]]+He[i[t+14]]+He[i[t+15]]).toLowerCase();if(!wE(e))throw TypeError("Stringified UUID is invalid");return e}function Rh(i,t,e){var n=(i=i||{}).random||(i.rng||vE)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=n[r];return t}return bE(n)}var Mh=function i(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,r,o;if(Array.isArray(t)){if((n=t.length)!=e.length)return!1;for(r=n;0!=r--;)if(!i(t[r],e[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(e,o[r]))return!1;for(r=n;0!=r--;){var s=o[r];if(!i(t[s],e[s]))return!1}return!0}return t!=t&&e!=e};const lr=class{constructor(t,e){P(this,"clone",((t,e)=>new lr({...this.underlying,...t},{...this.opts,...e}))),P(this,"selector",(t=>{const{target:e}=this.underlying;if(e.selector)return(Array.isArray(e.selector)?e.selector:[e.selector]).find((r=>r.type===t))})),this.underlying=t,this.opts=e}isEqual(t){return"Annotation"===(null==t?void 0:t.type)&&(this.underlying===t.underlying||!(!this.underlying.id||!t.underlying.id)&&Mh(this.underlying,t.underlying))}get readOnly(){var t;return null==(t=this.opts)?void 0:t.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(t){this.underlying.body=t}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var t;return null==(t=this.selector("TextQuoteSelector"))?void 0:t.exact}get start(){var t;return null==(t=this.selector("TextPositionSelector"))?void 0:t.start}get end(){var t;return null==(t=this.selector("TextPositionSelector"))?void 0:t.end}};let St=lr;P(St,"create",(t=>{const e={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Rh()}`,body:[]};return new lr({...e,...t})}));class Wn{constructor(t,e){P(this,"clone",(t=>{const e=new Wn;return e.underlying=JSON.parse(JSON.stringify(this.underlying)),t&&(e.underlying={...e.underlying,...t}),e})),P(this,"selector",(t=>{const{target:e}=this.underlying;if(e.selector)return(Array.isArray(e.selector)?e.selector:[e.selector]).find((r=>r.type===t))})),P(this,"toAnnotation",(()=>{const t=Object.assign({},this.underlying,{type:"Annotation",id:`#${Rh()}`});return new St(t)})),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:e||[],target:t}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(t){return!!t&&Mh(this.underlying,t.underlying)}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var t;return null==(t=this.selector("TextQuoteSelector"))?void 0:t.exact}get isSelection(){return!0}}let ts=0;var EE=()=>({setServerTime:i=>{const t=Date.now();ts=i-t},getCurrentTimeAdjusted:()=>new Date(Date.now()+ts).toISOString(),toClientTime:i=>Date.parse(i)-ts});const xE=(i,t)=>{if(i){const e="auto"===i?window.navigator.userLanguage||window.navigator.language:i,n=e.split("-")[0].toLowerCase(),r=[e,n].find((o=>F0.includes(o)));r||console.warn(`Unsupported locale '${e}'. Falling back to default en.`),Ze.init(r,t)}else Ze.init(null,t)};var Fh={exports:{}};!function(i){function t(e){return new t.Viewer(e)}var e,n;(function(e){e.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var s,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.isFunction=function(s){return"function"===e.type(s)},e.isArray=Array.isArray||function(s){return"array"===e.type(s)},e.isWindow=function(s){return s&&"object"==typeof s&&"setInterval"in s},e.type=function(s){return null==s?String(s):n[r.call(s)]||"object"},e.isPlainObject=function(s){if(!s||"object"!==t.type(s)||s.nodeType||e.isWindow(s)||s.constructor&&!o.call(s,"constructor")&&!o.call(s.constructor.prototype,"isPrototypeOf"))return!1;var a;for(var l in s)a=l;return void 0===a||o.call(s,a)},e.isEmptyObject=function(s){for(var a in s)return!1;return!0},e.freezeObject=function(s){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(a){return a},e.freezeObject(s)},e.supportsCanvas=(s=document.createElement("canvas"),!(!e.isFunction(s.getContext)||!s.getContext("2d"))),e.isCanvasTainted=function(s){var a=!1;try{s.getContext("2d").getImageData(0,0,1,1)}catch{a=!0}return a},e.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),e.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),e.supportsEventListenerOptions=function(){var s=0;if(e.supportsAddEventListener)try{var a={get capture(){return s++,!1},get once(){return s++,!1},get passive(){return s++,!1}};window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{s=0}return s>=3}(),e.getCurrentPixelDensityRatio=function(){if(e.supportsCanvas){var s=document.createElement("canvas").getContext("2d"),a=window.devicePixelRatio||1,l=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1;return Math.max(a,1)/l}return 1},e.pixelDensityRatio=e.getCurrentPixelDensityRatio()})(t),function(e){e.extend=function(){var l,u,c,h,d,g,y=arguments[0]||{},x=arguments.length,b=!1,T=1;for("boolean"==typeof y&&(b=y,y=arguments[1]||{},T=2),"object"!=typeof y&&!t.isFunction(y)&&(y={}),x===T&&(y=this,--T);T<x;T++)if(null!==(l=arguments[T])||void 0!==l)for(u in l)c=y[u],y!==(h=l[u])&&(b&&h&&(t.isPlainObject(h)||(d=t.isArray(h)))?(d?(d=!1,g=c&&t.isArray(c)?c:[]):g=c&&t.isPlainObject(c)?c:{},y[u]=t.extend(b,g,h)):void 0!==h&&(y[u]=h));return y};var n=function(){if("object"!=typeof navigator)return!1;var l=navigator.userAgent;return"string"==typeof l&&(-1!==l.indexOf("iPhone")||-1!==l.indexOf("iPad")||-1!==l.indexOf("iPod"))};e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:n(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(l,u){return function(){var c=arguments;return void 0===c&&(c=[]),u.apply(l,c)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(l){return e._viewers.get(this.getElement(l))},getElement:function(l){return"string"==typeof l&&(l=document.getElementById(l)),l},getElementPosition:function(l){var c,h,u=new e.Point;for(h=a(l=e.getElement(l),c="fixed"===e.getElementStyle(l).position);h;)u.x+=l.offsetLeft,u.y+=l.offsetTop,c&&(u=u.plus(e.getPageScroll())),h=a(l=h,c="fixed"===e.getElementStyle(l).position);return u},getElementOffset:function(l){var c,h,u=(l=e.getElement(l))&&l.ownerDocument,d={top:0,left:0};return u?(c=u.documentElement,void 0!==l.getBoundingClientRect&&(d=l.getBoundingClientRect()),h=u===u.window?u:9===u.nodeType&&(u.defaultView||u.parentWindow),new e.Point(d.left+(h.pageXOffset||c.scrollLeft)-(c.clientLeft||0),d.top+(h.pageYOffset||c.scrollTop)-(c.clientTop||0))):new e.Point},getElementSize:function(l){return l=e.getElement(l),new e.Point(l.clientWidth,l.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(l){return(l=e.getElement(l)).currentStyle}:function(l){return l=e.getElement(l),window.getComputedStyle(l,"")},getCssPropertyWithVendorPrefix:function(l){var u={};return e.getCssPropertyWithVendorPrefix=function(c){if(void 0!==u[c])return u[c];var h=document.createElement("div").style,d=null;if(void 0!==h[c])d=c;else for(var g=["Webkit","Moz","MS","O","webkit","moz","ms","o"],y=e.capitalizeFirstLetter(c),x=0;x<g.length;x++){var b=g[x]+y;if(void 0!==h[b]){d=b;break}}return u[c]=d,d},e.getCssPropertyWithVendorPrefix(l)},capitalizeFirstLetter:function(l){return l.charAt(0).toUpperCase()+l.slice(1)},positiveModulo:function(l,u){var c=l%u;return c<0&&(c+=u),c},pointInElement:function(l,u){l=e.getElement(l);var c=e.getElementOffset(l),h=e.getElementSize(l);return u.x>=c.x&&u.x<c.x+h.x&&u.y<c.y+h.y&&u.y>=c.y},getMousePosition:function(l){if("number"==typeof l.pageX)e.getMousePosition=function(u){var c=new e.Point;return c.x=u.pageX,c.y=u.pageY,c};else{if("number"!=typeof l.clientX)throw new Error("Unknown event mouse position, no known technique.");e.getMousePosition=function(u){var c=new e.Point;return c.x=u.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c.y=u.clientY+document.body.scrollTop+document.documentElement.scrollTop,c}}return e.getMousePosition(l)},getPageScroll:function(){var l=document.documentElement||{},u=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(u.scrollLeft||u.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!l.scrollLeft&&!l.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(l){if(void 0!==window.scrollTo)e.setPageScroll=function(h){window.scrollTo(h.x,h.y)};else{var u=e.getPageScroll();if(u.x===l.x&&u.y===l.y)return;document.body.scrollLeft=l.x,document.body.scrollTop=l.y;var c=e.getPageScroll();if(c.x!==u.x&&c.y!==u.y)return void(e.setPageScroll=function(h){document.body.scrollLeft=h.x,document.body.scrollTop=h.y});if(document.documentElement.scrollLeft=l.x,document.documentElement.scrollTop=l.y,(c=e.getPageScroll()).x!==u.x&&c.y!==u.y)return void(e.setPageScroll=function(h){document.documentElement.scrollLeft=h.x,document.documentElement.scrollTop=h.y});e.setPageScroll=function(h){}}e.setPageScroll(l)},getWindowSize:function(){var l=document.documentElement||{},u=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(l.clientWidth||l.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!u.clientWidth&&!u.clientHeight)throw new Error("Unknown window size, no known technique.");e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)}}return e.getWindowSize()},makeCenteredNode:function(l){l=e.getElement(l);var u=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(u[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(u[1].style,{display:"table-row"}),e.extend(u[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),u[0].appendChild(u[1]),u[1].appendChild(u[2]),u[2].appendChild(l),u[0]},makeNeutralElement:function(l){var u=document.createElement(l),c=u.style;return c.background="transparent none",c.border="none",c.margin="0px",c.padding="0px",c.position="static",u},now:function(){return Date.now?e.now=Date.now:e.now=function(){return(new Date).getTime()},e.now()},makeTransparentImage:function(l){var u=e.makeNeutralElement("img");return u.src=l,u},setElementOpacity:function(l,u,c){var d;l=e.getElement(l),c&&!e.Browser.alpha&&(u=Math.round(u)),e.Browser.opacity?l.style.opacity=u<1?u:"":u<1?(d="alpha(opacity="+Math.round(100*u)+")",l.style.filter=d):l.style.filter=""},setElementTouchActionNone:function(l){void 0!==(l=e.getElement(l)).style.touchAction?l.style.touchAction="none":void 0!==l.style.msTouchAction&&(l.style.msTouchAction="none")},setElementPointerEvents:function(l,u){void 0!==(l=e.getElement(l)).style.pointerEvents&&(l.style.pointerEvents=u)},setElementPointerEventsNone:function(l){e.setElementPointerEvents(l,"none")},addClass:function(l,u){(l=e.getElement(l)).className?-1===(" "+l.className+" ").indexOf(" "+u+" ")&&(l.className+=" "+u):l.className=u},indexOf:function(l,u,c){return Array.prototype.indexOf?this.indexOf=function(h,d,g){return h.indexOf(d,g)}:this.indexOf=function(h,d,g){var y,b,x=g||0;if(!h)throw new TypeError;if(0===(b=h.length)||x>=b)return-1;for(x<0&&(x=b-Math.abs(x)),y=x;y<b;y++)if(h[y]===d)return y;return-1},this.indexOf(l,u,c)},removeClass:function(l,u){var c,d,h=[];for(c=(l=e.getElement(l)).className.split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!==u&&h.push(c[d]);l.className=h.join(" ")},normalizeEventListenerOptions:function(l){return void 0!==l?"boolean"==typeof l?e.supportsEventListenerOptions?{capture:l}:l:e.supportsEventListenerOptions?l:void 0!==l.capture&&l.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(l,u,c,h){h=e.normalizeEventListenerOptions(h),(l=e.getElement(l)).addEventListener(u,c,h)};if(document.documentElement.attachEvent&&document.attachEvent)return function(l,u,c){(l=e.getElement(l)).attachEvent("on"+u,c)};throw new Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(l,u,c,h){h=e.normalizeEventListenerOptions(h),(l=e.getElement(l)).removeEventListener(u,c,h)};if(document.documentElement.detachEvent&&document.detachEvent)return function(l,u,c){(l=e.getElement(l)).detachEvent("on"+u,c)};throw new Error("No known event model.")}(),cancelEvent:function(l){l.preventDefault()},eventIsCanceled:function(l){return l.defaultPrevented},stopEvent:function(l){l.stopPropagation()},createCallback:function(l,u){var h,c=[];for(h=2;h<arguments.length;h++)c.push(arguments[h]);return function(){var g,d=c.concat([]);for(g=0;g<arguments.length;g++)d.push(arguments[g]);return u.apply(l,d)}},getUrlParameter:function(l){return s[l]||null},getUrlProtocol:function(l){var u=l.match(/^([a-z]+:)\/\//i);return null===u?window.location.protocol:u[1].toLowerCase()},createAjaxRequest:function(l){var u;try{u=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{u=!1}if(u)window.XMLHttpRequest?e.createAjaxRequest=function(c){return c?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:e.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");e.createAjaxRequest=function(){return new XMLHttpRequest}}return e.createAjaxRequest(l)},makeAjaxRequest:function(l,u,c){var h,d,g;e.isPlainObject(l)&&(u=l.success,c=l.error,h=l.withCredentials,d=l.headers,g=l.responseType||null,l=l.url);var y=e.getUrlProtocol(l),x=e.createAjaxRequest("file:"===y);if(!e.isFunction(u))throw new Error("makeAjaxRequest requires a success callback");x.onreadystatechange=function(){4===x.readyState&&(x.onreadystatechange=function(){},x.status>=200&&x.status<300||0===x.status&&"http:"!==y&&"https:"!==y?u(x):(e.console.log("AJAX request returned %d: %s",x.status,l),e.isFunction(c)&&c(x)))};try{if(x.open("GET",l,!0),g&&(x.responseType=g),d)for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&d[b]&&x.setRequestHeader(b,d[b]);h&&(x.withCredentials=!0),x.send(null)}catch(T){e.console.log("%s while making AJAX request: %s",T.name,T.message),x.onreadystatechange=function(){},e.isFunction(c)&&c(x,T)}return x},jsonp:function(l){var u,c=l.url,h=document.head||document.getElementsByTagName("head")[0]||document.documentElement,d=l.callbackName||"openseadragon"+e.now(),g=window[d],y="$1"+d+"$2",x=l.param||"callback",b=l.callback;c=c.replace(/(=)\?(&|$)|\?\?/i,y),c+=(/\?/.test(c)?"&":"?")+x+"="+d,window[d]=function(T){if(g)window[d]=g;else try{delete window[d]}catch{}b&&e.isFunction(b)&&b(T)},u=document.createElement("script"),(void 0!==l.async||!1!==l.async)&&(u.async="async"),l.scriptCharset&&(u.charset=l.scriptCharset),u.src=c,u.onload=u.onreadystatechange=function(T,f){(f||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,h&&u.parentNode&&h.removeChild(u),u=void 0)},h.insertBefore(u,h.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(l){if(window.DOMParser)e.parseXml=function(u){return(new DOMParser).parseFromString(u,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");e.parseXml=function(u){var c=null;return(c=new ActiveXObject("Microsoft.XMLDOM")).async=!1,c.loadXML(u),c}}return e.parseXml(l)},parseJSON:function(l){return e.parseJSON=window.JSON.parse,e.parseJSON(l)},imageFormatSupported:function(l){return!!o[(l=l||"").toLowerCase()]},setImageFormatsSupported:function(l){e.extend(o,l)}});var r=function(l){};e.console=window.console||{log:r,debug:r,info:r,warn:r,error:r,assert:r},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var o={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},s={};function a(l,u){return u&&l!==document.body?document.body:l.offsetParent}(function(){var l=navigator.appVersion,u=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(u.substring(u.indexOf("MSIE")+5,u.indexOf(";",u.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(u.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(u.substring(u.indexOf("Edge")+5))):u.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(u.substring(u.indexOf("Edg")+4))):u.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(u.substring(u.indexOf("Firefox")+8))):u.indexOf("Safari")>=0?(e.Browser.vendor=u.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(u.substring(u.substring(0,u.indexOf("Safari")).lastIndexOf("/")+1,u.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(u)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(l)}var g,y,x,d=window.location.search.substring(1).split("&");for(x=0;x<d.length;x++)if((y=(g=d[x]).indexOf("="))>0){var b=g.substring(0,y),T=g.substring(y+1);try{s[b]=decodeURIComponent(T)}catch{e.console.error("Ignoring malformed URL parameter: %s=%s",b,T)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<11&&e.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(l){var u=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame,c=l.cancelAnimationFrame||l.mozCancelAnimationFrame||l.webkitCancelAnimationFrame||l.msCancelAnimationFrame;if(u&&c)e.requestAnimationFrame=function(){return u.apply(l,arguments)},e.cancelAnimationFrame=function(){return c.apply(l,arguments)};else{var y,h=[],d=[],g=0;e.requestAnimationFrame=function(x){return h.push([++g,x]),y||(y=setInterval((function(){if(h.length){var b=e.now(),T=d;for(d=h,h=T;d.length;)d.shift()[1](b)}else clearInterval(y),y=void 0}),20)),g},e.cancelAnimationFrame=function(x){var b,T;for(b=0,T=h.length;b<T;b+=1)if(h[b][0]===x)return void h.splice(b,1);for(b=0,T=d.length;b<T;b+=1)if(d[b][0]===x)return void d.splice(b,1)}}}(window)}(t),e=_t,n=function(){return t},i.exports?i.exports=n():e.OpenSeadragon=n(),function(e){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.fullscreenElement},n.requestFullScreen=function(r){return r.requestFullscreen()},n.exitFullScreen=function(){document.exitFullscreen()},n.fullScreenEventName="fullscreenchange",n.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.msFullscreenElement},n.requestFullScreen=function(r){return r.msRequestFullscreen()},n.exitFullScreen=function(){document.msExitFullscreen()},n.fullScreenEventName="MSFullscreenChange",n.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitFullscreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullscreen()},n.exitFullScreen=function(){document.webkitExitFullscreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},n.requestFullScreen=function(r){return r.webkitRequestFullScreen()},n.exitFullScreen=function(){document.webkitCancelFullScreen()},n.fullScreenEventName="webkitfullscreenchange",n.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(n.supportsFullScreen=!0,n.getFullScreenElement=function(){return document.mozFullScreenElement},n.requestFullScreen=function(r){return r.mozRequestFullScreen()},n.exitFullScreen=function(){document.mozCancelFullScreen()},n.fullScreenEventName="mozfullscreenchange",n.fullScreenErrorEventName="mozfullscreenerror"),n.isFullScreen=function(){return null!==n.getFullScreenElement()},n.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),n.exitFullScreen()},e.extend(e,n)}(t),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(n,r,o,s){var a=this;s=s||1;var l=0,u=function(c){++l===s&&a.removeHandler(n,u),r(c)};this.addHandler(n,u,o)},addHandler:function(n,r,o){var s=this.events[n];s||(this.events[n]=s=[]),r&&e.isFunction(r)&&(s[s.length]={handler:r,userData:o||null})},removeHandler:function(n,r){var a,o=this.events[n],s=[];if(o&&e.isArray(o)){for(a=0;a<o.length;a++)o[a].handler!==r&&s.push(o[a]);this.events[n]=s}},removeAllHandlers:function(n){if(n)this.events[n]=[];else for(var r in this.events)this.events[r]=[]},getHandler:function(n){var r=this.events[n];return r&&r.length?(r=1===r.length?[r[0]]:Array.apply(null,r),function(o,s){var a,l=r.length;for(a=0;a<l;a++)r[a]&&(s.eventSource=o,s.userData=r[a].userData,r[a].handler(s))}):null},raiseEvent:function(n,r){var o=this.getHandler(n);o&&(r||(r={}),o(this,r))}}}(t),function(e){var n={};e.MouseTracker=function(v){var m=arguments;e.isPlainObject(v)||(v={element:m[0],clickTimeThreshold:m[1],clickDistThreshold:m[2]}),this.hash=Math.random(),this.element=e.getElement(v.element),this.clickTimeThreshold=v.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=v.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=v.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=v.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=v.userData||null,this.stopDelay=v.stopDelay||50,this.preProcessEventHandler=v.preProcessEventHandler||null,this.contextMenuHandler=v.contextMenuHandler||null,this.enterHandler=v.enterHandler||null,this.leaveHandler=v.leaveHandler||null,this.exitHandler=v.exitHandler||null,this.overHandler=v.overHandler||null,this.outHandler=v.outHandler||null,this.pressHandler=v.pressHandler||null,this.nonPrimaryPressHandler=v.nonPrimaryPressHandler||null,this.releaseHandler=v.releaseHandler||null,this.nonPrimaryReleaseHandler=v.nonPrimaryReleaseHandler||null,this.moveHandler=v.moveHandler||null,this.scrollHandler=v.scrollHandler||null,this.clickHandler=v.clickHandler||null,this.dblClickHandler=v.dblClickHandler||null,this.dragHandler=v.dragHandler||null,this.dragEndHandler=v.dragEndHandler||null,this.pinchHandler=v.pinchHandler||null,this.stopHandler=v.stopHandler||null,this.keyDownHandler=v.keyDownHandler||null,this.keyUpHandler=v.keyUpHandler||null,this.keyHandler=v.keyHandler||null,this.focusHandler=v.focusHandler||null,this.blurHandler=v.blurHandler||null;var w=this;n[this.hash]={click:function(S){E(w,S)},dblclick:function(S){A(w,S)},keydown:function(S){C(w,S)},keyup:function(S){O(w,S)},keypress:function(S){D(w,S)},focus:function(S){I(w,S)},blur:function(S){B(w,S)},contextmenu:function(S){Z(w,S)},wheel:function(S){Y(w,S)},mousewheel:function(S){V(w,S)},DOMMouseScroll:function(S){V(w,S)},MozMousePixelScroll:function(S){V(w,S)},losecapture:function(S){Q(w,S)},mouseenter:function(S){H(w,S)},mouseleave:function(S){U(w,S)},mouseover:function(S){W(w,S)},mouseout:function(S){j(w,S)},mousedown:function(S){$(w,S)},mouseup:function(S){ae(w,S)},mousemove:function(S){Qe(w,S)},touchstart:function(S){le(w,S)},touchend:function(S){re(w,S)},touchmove:function(S){se(w,S)},touchcancel:function(S){de(w,S)},gesturestart:function(S){pe(w,S)},gesturechange:function(S){G(w,S)},gotpointercapture:function(S){Me(w,S)},lostpointercapture:function(S){F(w,S)},pointerenter:function(S){H(w,S)},pointerleave:function(S){U(w,S)},pointerover:function(S){W(w,S)},pointerout:function(S){j(w,S)},pointerdown:function(S){$(w,S)},pointerup:function(S){ae(w,S)},pointermove:function(S){Qe(w,S)},pointercancel:function(S){p(w,S)},pointerupcaptured:function(S){we(w,S)},pointermovecaptured:function(S){$e(w,S)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),v.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){l(this),this.element=null,n[this.hash]=null,delete n[this.hash]},isTracking:function(){return n[this.hash].tracking},setTracking:function(v){return v?a(this):l(this),this},getActivePointersListByType:function(v){var w,M,m=n[this.hash],S=m.activePointersLists.length;for(w=0;w<S;w++)if(m.activePointersLists[w].type===v)return m.activePointersLists[w];return M=new e.MouseTracker.GesturePointList(v),m.activePointersLists.push(M),M},getActivePointerCount:function(){var m,v=n[this.hash],w=v.activePointersLists.length,S=0;for(m=0;m<w;m++)S+=v.activePointersLists[m].getLength();return S},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var v,m,w,S,M,r=function(){try{return window.self!==window.top}catch{return!0}}();function o(v){try{return v.addEventListener&&v.removeEventListener}catch{return!1}}function s(v){var w,S,M,z,ee,m=n[v.hash],Ee=m.activePointersLists.length;for(w=0;w<Ee;w++)if((M=m.activePointersLists[w]).getLength()>0){for(ee=[],z=M.asArray(),S=0;S<z.length;S++)ee.push(z[S]);for(S=0;S<ee.length;S++)R(v,M,ee[S])}for(w=0;w<Ee;w++)m.activePointersLists.pop();m.sentDragEvent=!1}function a(v){var w,S,m=n[v.hash];if(!m.tracking){for(S=0;S<e.MouseTracker.subscribeEvents.length;S++)w=e.MouseTracker.subscribeEvents[S],e.addEvent(v.element,w,m[w],w===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});s(v),m.tracking=!0}}function l(v){var w,S,m=n[v.hash];if(m.tracking){for(S=0;S<e.MouseTracker.subscribeEvents.length;S++)w=e.MouseTracker.subscribeEvents[S],e.removeEvent(v.element,w,m[w],!1);s(v),m.tracking=!1}}function u(v,m){var w=n[v.hash];if("pointerevent"===m)return{upName:"pointerup",upHandler:w.pointerupcaptured,moveName:"pointermove",moveHandler:w.pointermovecaptured};if("mouse"===m)return{upName:"pointerup",upHandler:w.pointerupcaptured,moveName:"pointermove",moveHandler:w.pointermovecaptured};if("touch"===m)return{upName:"touchend",upHandler:w.touchendcaptured,moveName:"touchmove",moveHandler:w.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(v,m){var w;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents)try{v.element.setPointerCapture(m.id)}catch{return void e.console.warn("setPointerCapture() called on invalid pointer ID")}else v.element.setCapture(!0);else w=u(v,e.MouseTracker.havePointerEvents?"pointerevent":m.type),r&&o(window.top)&&e.addEvent(window.top,w.upName,w.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,w.upName,w.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,w.moveName,w.moveHandler,!0);J(v,m,!0)}function h(v,m){var w,M;if(e.MouseTracker.havePointerCapture)if(e.MouseTracker.havePointerEvents){if(!(M=v.getActivePointersListByType(m.type).getById(m.id))||!M.captured)return;try{v.element.releasePointerCapture(m.id)}catch{}}else v.element.releaseCapture();else w=u(v,e.MouseTracker.havePointerEvents?"pointerevent":m.type),r&&o(window.top)&&e.removeEvent(window.top,w.upName,w.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,w.moveName,w.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,w.upName,w.upHandler,!0);J(v,m,!1)}function d(v){return e.MouseTracker.havePointerEvents?v.pointerId:e.MouseTracker.mousePointerId}function g(v){return e.MouseTracker.havePointerEvents?v.pointerType||(e.Browser.vendor===e.BROWSERS.IE?"mouse":""):"mouse"}function y(v){return!e.MouseTracker.havePointerEvents||v.isPrimary}function x(v){return e.getMousePosition(v)}function b(v,m){return T(x(v),m)}function T(v,m){var w=e.getElementOffset(m);return v.minus(w)}function f(v,m){return new e.Point((v.x+m.x)/2,(v.y+m.y)/2)}function E(v,m){var w={originalEvent:m,eventType:"click",pointerType:"mouse",isEmulated:!1};L(v,w),w.preventDefault&&!w.defaultPrevented&&e.cancelEvent(m),w.stopPropagation&&e.stopEvent(m)}function A(v,m){var w={originalEvent:m,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};L(v,w),w.preventDefault&&!w.defaultPrevented&&e.cancelEvent(m),w.stopPropagation&&e.stopEvent(m)}function C(v,m){var w=null,S={originalEvent:m,eventType:"keydown",pointerType:"",isEmulated:!1};L(v,S),v.keyDownHandler&&!S.preventGesture&&!S.defaultPrevented&&(w={eventSource:v,keyCode:m.keyCode?m.keyCode:m.charCode,ctrl:m.ctrlKey,shift:m.shiftKey,alt:m.altKey,meta:m.metaKey,originalEvent:m,preventDefault:S.preventDefault||S.defaultPrevented,userData:v.userData},v.keyDownHandler(w)),(w&&w.preventDefault||S.preventDefault&&!S.defaultPrevented)&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function O(v,m){var w=null,S={originalEvent:m,eventType:"keyup",pointerType:"",isEmulated:!1};L(v,S),v.keyUpHandler&&!S.preventGesture&&!S.defaultPrevented&&(w={eventSource:v,keyCode:m.keyCode?m.keyCode:m.charCode,ctrl:m.ctrlKey,shift:m.shiftKey,alt:m.altKey,meta:m.metaKey,originalEvent:m,preventDefault:S.preventDefault||S.defaultPrevented,userData:v.userData},v.keyUpHandler(w)),(w&&w.preventDefault||S.preventDefault&&!S.defaultPrevented)&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function D(v,m){var w=null,S={originalEvent:m,eventType:"keypress",pointerType:"",isEmulated:!1};L(v,S),v.keyHandler&&!S.preventGesture&&!S.defaultPrevented&&(w={eventSource:v,keyCode:m.keyCode?m.keyCode:m.charCode,ctrl:m.ctrlKey,shift:m.shiftKey,alt:m.altKey,meta:m.metaKey,originalEvent:m,preventDefault:S.preventDefault||S.defaultPrevented,userData:v.userData},v.keyHandler(w)),(w&&w.preventDefault||S.preventDefault&&!S.defaultPrevented)&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function I(v,m){var w={originalEvent:m,eventType:"focus",pointerType:"",isEmulated:!1};L(v,w),v.focusHandler&&!w.preventGesture&&v.focusHandler({eventSource:v,originalEvent:m,userData:v.userData})}function B(v,m){var w={originalEvent:m,eventType:"blur",pointerType:"",isEmulated:!1};L(v,w),v.blurHandler&&!w.preventGesture&&v.blurHandler({eventSource:v,originalEvent:m,userData:v.userData})}function Z(v,m){var w=null,S={originalEvent:m,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};L(v,S),v.contextMenuHandler&&!S.preventGesture&&!S.defaultPrevented&&(w={eventSource:v,position:T(x(m),v.element),originalEvent:S.originalEvent,preventDefault:S.preventDefault||S.defaultPrevented,userData:v.userData},v.contextMenuHandler(w)),(w&&w.preventDefault||S.preventDefault&&!S.defaultPrevented)&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function Y(v,m){K(v,m,m)}function V(v,m){var w={target:m.target||m.srcElement,type:"wheel",shiftKey:m.shiftKey||!1,clientX:m.clientX,clientY:m.clientY,pageX:m.pageX?m.pageX:m.clientX,pageY:m.pageY?m.pageY:m.clientY,deltaMode:"MozMousePixelScroll"===m.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?w.deltaY=-m.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:w.deltaY=m.detail,K(v,w,m)}function K(v,m,w){var M,S=0,z=null;S=m.deltaY<0?1:-1,L(v,M={originalEvent:m,eventType:"wheel",pointerType:"mouse",isEmulated:m!==w}),v.scrollHandler&&!M.preventGesture&&!M.defaultPrevented&&(z={eventSource:v,pointerType:"mouse",position:b(m,v.element),scroll:S,shift:m.shiftKey,isTouchEvent:!1,originalEvent:w,preventDefault:M.preventDefault||M.defaultPrevented,userData:v.userData},v.scrollHandler(z)),M.stopPropagation&&e.stopEvent(w),(z&&z.preventDefault||M.preventDefault&&!M.defaultPrevented)&&e.cancelEvent(w)}function Q(v,m){var w={id:e.MouseTracker.mousePointerId,type:"mouse"},S={originalEvent:m,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};L(v,S),m.target===v.element&&J(v,w,!1),S.stopPropagation&&e.stopEvent(m)}function le(v,m){var w,S,z,M=m.changedTouches.length,ee=v.getActivePointersListByType("touch");w=e.now(),ee.getLength()>m.touches.length-M&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var Ee={originalEvent:m,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(L(v,Ee),S=0;S<M;S++)q(v,Ee,z={id:m.changedTouches[S].identifier,type:"touch",isPrimary:0===ee.getLength(),currentPos:x(m.changedTouches[S]),currentTime:w}),oe(v,Ee,z,0),J(v,z,!0);Ee.preventDefault&&!Ee.defaultPrevented&&e.cancelEvent(m),Ee.stopPropagation&&e.stopEvent(m)}function re(v,m){var w,S,z,M=m.changedTouches.length;w=e.now();var ee={originalEvent:m,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(L(v,ee),S=0;S<M;S++)Te(v,ee,z={id:m.changedTouches[S].identifier,type:"touch",currentPos:x(m.changedTouches[S]),currentTime:w},0),J(v,z,!1),fe(v,ee,z);ee.preventDefault&&!ee.defaultPrevented&&e.cancelEvent(m),ee.stopPropagation&&e.stopEvent(m)}function se(v,m){var w,S,M=m.changedTouches.length;w=e.now();var ee={originalEvent:m,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(L(v,ee),S=0;S<M;S++)he(v,ee,{id:m.changedTouches[S].identifier,type:"touch",currentPos:x(m.changedTouches[S]),currentTime:w});ee.preventDefault&&!ee.defaultPrevented&&e.cancelEvent(m),ee.stopPropagation&&e.stopEvent(m)}function de(v,m){var S,w=m.changedTouches.length,z={originalEvent:m,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(L(v,z),S=0;S<w;S++)ze(v,z,{id:m.changedTouches[S].identifier,type:"touch"});z.stopPropagation&&e.stopEvent(m)}function pe(v,m){return e.eventIsCanceled(m)||m.preventDefault(),!1}function G(v,m){return e.eventIsCanceled(m)||m.preventDefault(),!1}function Me(v,m){var w={originalEvent:m,eventType:"gotpointercapture",pointerType:g(m),isEmulated:!1};L(v,w),m.target===v.element&&J(v,{id:m.pointerId,type:g(m)},!0),w.stopPropagation&&e.stopEvent(m)}function F(v,m){var w={originalEvent:m,eventType:"lostpointercapture",pointerType:g(m),isEmulated:!1};L(v,w),m.target===v.element&&J(v,{id:m.pointerId,type:g(m)},!1),w.stopPropagation&&e.stopEvent(m)}function H(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S={originalEvent:m,eventType:"pointerenter",pointerType:w.type,isEmulated:!1};L(v,S),q(v,S,w)}function U(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S={originalEvent:m,eventType:"pointerleave",pointerType:w.type,isEmulated:!1};L(v,S),fe(v,S,w)}function W(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S={originalEvent:m,eventType:"pointerover",pointerType:w.type,isEmulated:!1};L(v,S),Se(v,S,w),S.preventDefault&&!S.defaultPrevented&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function j(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S={originalEvent:m,eventType:"pointerout",pointerType:w.type,isEmulated:!1};L(v,S),ge(v,S,w),S.preventDefault&&!S.defaultPrevented&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function $(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S=e.MouseTracker.havePointerEvents&&"touch"===w.type&&e.Browser.vendor!==e.BROWSERS.IE,M={originalEvent:m,eventType:"pointerdown",pointerType:w.type,isEmulated:!1};L(v,M),oe(v,M,w,m.button),M.preventDefault&&!M.defaultPrevented&&e.cancelEvent(m),M.stopPropagation&&e.stopEvent(m),M.shouldCapture&&(S?J(v,w,!0):c(v,w))}function ae(v,m){me(v,m)}function we(v,m){v.getActivePointersListByType(g(m)).getById(m.pointerId)&&me(v,m),e.stopEvent(m)}function me(v,m){var w,S={originalEvent:m,eventType:"pointerup",pointerType:(w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()}).type,isEmulated:!1};L(v,S),Te(v,S,w,m.button),S.preventDefault&&!S.defaultPrevented&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m),S.shouldReleaseCapture&&(m.target===v.element?h(v,w):J(v,w,!1))}function Qe(v,m){et(v,m)}function $e(v,m){v.getActivePointersListByType(g(m)).getById(m.pointerId)&&et(v,m),e.stopEvent(m)}function et(v,m){var w={id:d(m),type:g(m),isPrimary:y(m),currentPos:x(m),currentTime:e.now()},S={originalEvent:m,eventType:"pointermove",pointerType:w.type,isEmulated:!1};L(v,S),he(v,S,w),S.preventDefault&&!S.defaultPrevented&&e.cancelEvent(m),S.stopPropagation&&e.stopEvent(m)}function p(v,m){var w={id:m.pointerId,type:g(m)},S={originalEvent:m,eventType:"pointercancel",pointerType:w.type,isEmulated:!1};L(v,S),ze(v,S,w),S.stopPropagation&&e.stopEvent(m)}function _(v,m){return m.speed=0,m.direction=0,m.contactPos=m.currentPos,m.contactTime=m.currentTime,m.lastPos=m.currentPos,m.lastTime=m.currentTime,v.add(m)}function R(v,m,w){var S,M=m.getById(w.id);return M?(M.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),h(v,M)),("mouse"===m.type||"pen"===m.type)&&m.contacts>0&&m.removeContact(),S=m.removeById(w.id)):S=m.getLength(),S}function N(v,m){switch(m.eventType){case"pointermove":case"pointerdown":case"pointerup":m.isStoppable=!0,m.isCancelable=!0,m.preventDefault=!1,m.preventGesture=!v.hasGestureHandlers,m.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":m.isStoppable=!0,m.isCancelable=!0,m.preventDefault=!1,m.preventGesture=!1,m.stopPropagation=!1;break;case"wheel":m.isStoppable=!0,m.isCancelable=!0,m.preventDefault=!1,m.preventGesture=!v.hasScrollHandler,m.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":m.isStoppable=!0,m.isCancelable=!1,m.preventDefault=!1,m.preventGesture=!1,m.stopPropagation=!1;break;case"click":m.isStoppable=!0,m.isCancelable=!0,m.preventDefault=!!v.clickHandler,m.preventGesture=!1,m.stopPropagation=!1;break;case"dblclick":m.isStoppable=!0,m.isCancelable=!0,m.preventDefault=!!v.dblClickHandler,m.preventGesture=!1,m.stopPropagation=!1;break;default:m.isStoppable=!1,m.isCancelable=!1,m.preventDefault=!1,m.preventGesture=!1,m.stopPropagation=!1}}function L(v,m){m.eventSource=v,m.eventPhase=m.originalEvent&&void 0!==m.originalEvent.eventPhase?m.originalEvent.eventPhase:0,m.defaultPrevented=e.eventIsCanceled(m.originalEvent),m.shouldCapture=!1,m.shouldReleaseCapture=!1,m.userData=v.userData,N(v,m),v.preProcessEventHandler&&v.preProcessEventHandler(m)}function J(v,m,w){var S=v.getActivePointersListByType(m.type),M=S.getById(m.id);M?w&&!M.captured?(M.captured=!0,S.captureCount++):!w&&M.captured&&(M.captured=!1,S.captureCount--,S.captureCount<0&&(S.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function q(v,m,w){var M,S=v.getActivePointersListByType(w.type);(M=S.getById(w.id))?(M.insideElement=!0,M.lastPos=M.currentPos,M.lastTime=M.currentTime,M.currentPos=w.currentPos,M.currentTime=w.currentTime,w=M):(w.captured=!1,w.insideElementPressed=!1,w.insideElement=!0,_(S,w)),v.enterHandler&&v.enterHandler({eventSource:v,pointerType:w.type,position:T(w.currentPos,v.element),buttons:S.buttons,pointers:v.getActivePointerCount(),insideElementPressed:w.insideElementPressed,buttonDownAny:0!==S.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData})}function fe(v,m,w){var M,z,S=v.getActivePointersListByType(w.type);(M=S.getById(w.id))?(M.captured?(M.insideElement=!1,M.lastPos=M.currentPos,M.lastTime=M.currentTime,M.currentPos=w.currentPos,M.currentTime=w.currentTime):R(v,S,M),w=M):(w.captured=!1,w.insideElementPressed=!1),(v.leaveHandler||v.exitHandler)&&(z={eventSource:v,pointerType:w.type,position:w.currentPos&&T(w.currentPos,v.element),buttons:S.buttons,pointers:v.getActivePointerCount(),insideElementPressed:w.insideElementPressed,buttonDownAny:0!==S.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData},v.leaveHandler&&v.leaveHandler(z),v.exitHandler&&v.exitHandler(z))}function Se(v,m,w){var S,M;(M=(S=v.getActivePointersListByType(w.type)).getById(w.id))?w=M:(w.captured=!1,w.insideElementPressed=!1),v.overHandler&&v.overHandler({eventSource:v,pointerType:w.type,position:T(w.currentPos,v.element),buttons:S.buttons,pointers:v.getActivePointerCount(),insideElementPressed:w.insideElementPressed,buttonDownAny:0!==S.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData})}function ge(v,m,w){var S,M;(M=(S=v.getActivePointersListByType(w.type)).getById(w.id))?w=M:(w.captured=!1,w.insideElementPressed=!1),v.outHandler&&v.outHandler({eventSource:v,pointerType:w.type,position:w.currentPos&&T(w.currentPos,v.element),buttons:S.buttons,pointers:v.getActivePointerCount(),insideElementPressed:w.insideElementPressed,buttonDownAny:0!==S.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData})}function oe(v,m,w,S){var ee,M=n[v.hash],z=v.getActivePointersListByType(w.type);return void 0!==m.originalEvent.buttons?z.buttons=m.originalEvent.buttons:0===S?z.buttons|=1:1===S?z.buttons|=4:2===S?z.buttons|=2:3===S?z.buttons|=8:4===S?z.buttons|=16:5===S&&(z.buttons|=32),0!==S?(m.shouldCapture=!1,m.shouldReleaseCapture=!1,void(v.nonPrimaryPressHandler&&!m.preventGesture&&!m.defaultPrevented&&(m.preventDefault=!0,v.nonPrimaryPressHandler({eventSource:v,pointerType:w.type,position:T(w.currentPos,v.element),button:S,buttons:z.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData})))):(ee=z.getById(w.id))?(ee.insideElementPressed=!0,ee.insideElement=!0,ee.originalTarget=m.originalEvent.target,ee.contactPos=w.currentPos,ee.contactTime=w.currentTime,ee.lastPos=ee.currentPos,ee.lastTime=ee.currentTime,ee.currentPos=w.currentPos,ee.currentTime=w.currentTime,w=ee,z.addContact(),void(m.preventGesture||m.defaultPrevented?(m.shouldCapture=!1,m.shouldReleaseCapture=!1):(m.shouldCapture=!0,m.shouldReleaseCapture=!1,m.preventDefault=!0,(v.dragHandler||v.dragEndHandler||v.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(v,w),1===z.contacts?v.pressHandler&&!m.preventGesture&&v.pressHandler({eventSource:v,pointerType:w.type,position:T(w.contactPos,v.element),buttons:z.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData}):2===z.contacts&&v.pinchHandler&&"touch"===w.type&&(M.pinchGPoints=z.asArray(),M.lastPinchDist=M.currentPinchDist=M.pinchGPoints[0].currentPos.distanceTo(M.pinchGPoints[1].currentPos),M.lastPinchCenter=M.currentPinchCenter=f(M.pinchGPoints[0].currentPos,M.pinchGPoints[1].currentPos))))):(e.console.warn("pointerdown event on untracked pointer"),w.captured=!1,w.insideElementPressed=!0,w.insideElement=!0,w.originalTarget=m.originalEvent.target,void _(z,w))}function Te(v,m,w,S){var ee,Ee,te,Fe,M=n[v.hash],z=v.getActivePointersListByType(w.type),tt=!1;if(void 0!==m.originalEvent.buttons?z.buttons=m.originalEvent.buttons:0===S?z.buttons^=-2:1===S?z.buttons^=-5:2===S?z.buttons^=-3:3===S?z.buttons^=-9:4===S?z.buttons^=-17:5===S&&(z.buttons^=-33),m.shouldCapture=!1,0!==S)return m.shouldReleaseCapture=!1,void(v.nonPrimaryReleaseHandler&&!m.preventGesture&&!m.defaultPrevented&&(m.preventDefault=!0,v.nonPrimaryReleaseHandler({eventSource:v,pointerType:w.type,position:T(w.currentPos,v.element),button:S,buttons:z.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData})));(te=z.getById(w.id))?(z.removeContact(),te.captured&&(tt=!0),te.lastPos=te.currentPos,te.lastTime=te.currentTime,te.currentPos=w.currentPos,te.currentTime=w.currentTime,te.insideElement||R(v,z,te),ee=te.currentPos,Ee=te.currentTime):(e.console.warn("updatePointerUp(): pointerup on untracked gPoint"),w.captured=!1,w.insideElementPressed=!1,w.insideElement=!0,_(z,w),te=w),!m.preventGesture&&!m.defaultPrevented&&(tt?(m.shouldReleaseCapture=!0,m.preventDefault=!0,(v.dragHandler||v.dragEndHandler||v.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(v,te),0===z.contacts?(v.releaseHandler&&v.releaseHandler({eventSource:v,pointerType:te.type,position:T(ee,v.element),buttons:z.buttons,insideElementPressed:te.insideElementPressed,insideElementReleased:te.insideElement,isTouchEvent:"touch"===te.type,originalEvent:m.originalEvent,userData:v.userData}),v.dragEndHandler&&M.sentDragEvent&&v.dragEndHandler({eventSource:v,pointerType:te.type,position:T(te.currentPos,v.element),speed:te.speed,direction:te.direction,shift:m.originalEvent.shiftKey,isTouchEvent:"touch"===te.type,originalEvent:m.originalEvent,userData:v.userData}),M.sentDragEvent=!1,(v.clickHandler||v.dblClickHandler)&&te.insideElement&&(Fe=Ee-te.contactTime<=v.clickTimeThreshold&&te.contactPos.distanceTo(ee)<=v.clickDistThreshold,v.clickHandler&&v.clickHandler({eventSource:v,pointerType:te.type,position:T(te.currentPos,v.element),quick:Fe,shift:m.originalEvent.shiftKey,isTouchEvent:"touch"===te.type,originalEvent:m.originalEvent,originalTarget:te.originalTarget,userData:v.userData}),v.dblClickHandler&&Fe&&(z.clicks++,1===z.clicks?(M.lastClickPos=ee,M.dblClickTimeOut=setTimeout((function(){z.clicks=0}),v.dblClickTimeThreshold)):2===z.clicks&&(clearTimeout(M.dblClickTimeOut),z.clicks=0,M.lastClickPos.distanceTo(ee)<=v.dblClickDistThreshold&&v.dblClickHandler({eventSource:v,pointerType:te.type,position:T(te.currentPos,v.element),shift:m.originalEvent.shiftKey,isTouchEvent:"touch"===te.type,originalEvent:m.originalEvent,userData:v.userData}),M.lastClickPos=null)))):2===z.contacts&&v.pinchHandler&&"touch"===te.type&&(M.pinchGPoints=z.asArray(),M.lastPinchDist=M.currentPinchDist=M.pinchGPoints[0].currentPos.distanceTo(M.pinchGPoints[1].currentPos),M.lastPinchCenter=M.currentPinchCenter=f(M.pinchGPoints[0].currentPos,M.pinchGPoints[1].currentPos))):(m.shouldReleaseCapture=!1,v.releaseHandler&&(v.releaseHandler({eventSource:v,pointerType:te.type,position:T(ee,v.element),buttons:z.buttons,insideElementPressed:te.insideElementPressed,insideElementReleased:te.insideElement,isTouchEvent:"touch"===te.type,originalEvent:m.originalEvent,userData:v.userData}),m.preventDefault=!0)))}function he(v,m,w){var z,ee,Ee,S=n[v.hash],M=v.getActivePointersListByType(w.type);void 0!==m.originalEvent.buttons&&(M.buttons=m.originalEvent.buttons),(z=M.getById(w.id))&&(z.lastPos=z.currentPos,z.lastTime=z.currentTime,z.currentPos=w.currentPos,z.currentTime=w.currentTime,m.shouldCapture=!1,m.shouldReleaseCapture=!1,v.stopHandler&&"mouse"===w.type&&(clearTimeout(v.stopTimeOut),v.stopTimeOut=setTimeout((function(){Mt(v,m.originalEvent,w.type)}),v.stopDelay)),0===M.contacts?v.moveHandler&&v.moveHandler({eventSource:v,pointerType:w.type,position:T(w.currentPos,v.element),buttons:M.buttons,isTouchEvent:"touch"===w.type,originalEvent:m.originalEvent,userData:v.userData}):1===M.contacts?(v.moveHandler&&(z=M.asArray()[0],v.moveHandler({eventSource:v,pointerType:z.type,position:T(z.currentPos,v.element),buttons:M.buttons,isTouchEvent:"touch"===z.type,originalEvent:m.originalEvent,userData:v.userData})),v.dragHandler&&!m.preventGesture&&!m.defaultPrevented&&(Ee=(z=M.asArray()[0]).currentPos.minus(z.lastPos),v.dragHandler({eventSource:v,pointerType:z.type,position:T(z.currentPos,v.element),buttons:M.buttons,delta:Ee,speed:z.speed,direction:z.direction,shift:m.originalEvent.shiftKey,isTouchEvent:"touch"===z.type,originalEvent:m.originalEvent,userData:v.userData}),m.preventDefault=!0,S.sentDragEvent=!0)):2===M.contacts&&(v.moveHandler&&(ee=M.asArray(),v.moveHandler({eventSource:v,pointerType:ee[0].type,position:T(f(ee[0].currentPos,ee[1].currentPos),v.element),buttons:M.buttons,isTouchEvent:"touch"===ee[0].type,originalEvent:m.originalEvent,userData:v.userData})),v.pinchHandler&&"touch"===w.type&&!m.preventGesture&&!m.defaultPrevented&&(Ee=S.pinchGPoints[0].currentPos.distanceTo(S.pinchGPoints[1].currentPos))!==S.currentPinchDist&&(S.lastPinchDist=S.currentPinchDist,S.currentPinchDist=Ee,S.lastPinchCenter=S.currentPinchCenter,S.currentPinchCenter=f(S.pinchGPoints[0].currentPos,S.pinchGPoints[1].currentPos),v.pinchHandler({eventSource:v,pointerType:"touch",gesturePoints:S.pinchGPoints,lastCenter:T(S.lastPinchCenter,v.element),center:T(S.currentPinchCenter,v.element),lastDistance:S.lastPinchDist,distance:S.currentPinchDist,shift:m.originalEvent.shiftKey,originalEvent:m.originalEvent,userData:v.userData}),m.preventDefault=!0)))}function ze(v,m,w){var M,S=v.getActivePointersListByType(w.type);(M=S.getById(w.id))&&R(v,S,M)}function Mt(v,m,w){v.stopHandler&&v.stopHandler({eventSource:v,pointerType:w,position:b(m,v.element),buttons:v.getActivePointersListByType(w).buttons,isTouchEvent:"touch"===w,originalEvent:m,userData:v.userData})}e.MouseTracker.gesturePointVelocityTracker=(v=[],m=0,w=0,S=function(Ee,te){return Ee.hash.toString()+te.type+te.id.toString()},M=function(){var Ee,tt,Fe,nd,id,rd,te=v.length,vn=e.now();for(nd=vn-w,w=vn,Ee=0;Ee<te;Ee++)(Fe=(tt=v[Ee]).gPoint).direction=Math.atan2(Fe.currentPos.y-tt.lastPos.y,Fe.currentPos.x-tt.lastPos.x),id=tt.lastPos.distanceTo(Fe.currentPos),tt.lastPos=Fe.currentPos,rd=1e3*id/(nd+1),Fe.speed=.75*rd+.25*Fe.speed},{addPoint:function(Ee,te){var tt=S(Ee,te);v.push({guid:tt,gPoint:te,lastPos:te.currentPos}),1===v.length&&(w=e.now(),m=window.setInterval(M,50))},removePoint:function(Ee,te){var Fe,tt=S(Ee,te),vn=v.length;for(Fe=0;Fe<vn;Fe++)if(v[Fe].guid===tt){v.splice(Fe,1),0==--vn&&window.clearInterval(m);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=function(){var v=document.createElement("div");return e.isFunction(v.setPointerCapture)&&e.isFunction(v.releasePointerCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=function(){var v=document.createElement("div");return e.isFunction(v.setCapture)&&e.isFunction(v.releaseCapture)}(),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(v){this._gPoints=[],this.type=v,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(v){return this._gPoints.push(v)},removeById:function(v){var m,w=this._gPoints.length;for(m=0;m<w;m++)if(this._gPoints[m].id===v){this._gPoints.splice(m,1);break}return this._gPoints.length},getByIndex:function(v){return v<this._gPoints.length?this._gPoints[v]:null},getById:function(v){var m,w=this._gPoints.length;for(m=0;m<w;m++)if(this._gPoints[m].id===v)return this._gPoints[m];return null},getPrimary:function(v){var m,w=this._gPoints.length;for(m=0;m<w;m++)if(this._gPoints[m].isPrimary)return this._gPoints[m];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(e.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}}}(t),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(n,r,o){var s=n.parentNode;"number"==typeof r&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),r={anchor:r}),r.attachToViewer=void 0===r.attachToViewer||r.attachToViewer,this.autoFade=void 0===r.autoFade||r.autoFade,this.element=n,this.anchor=r.anchor,this.container=o,this.anchor===e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof r.top?r.top+"px":r.top,this.wrapper.style.left="number"==typeof r.left?r.left+"px":r.left,this.wrapper.style.height="number"==typeof r.height?r.height+"px":r.height,this.wrapper.style.width="number"==typeof r.width?r.width+"px":r.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),r.attachToViewer?this.anchor===e.ControlAnchor.TOP_RIGHT||this.anchor===e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):s.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==e.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(n){this.wrapper.style.display=n?this.anchor===e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(n){this.element[e.SIGNAL]&&e.Browser.vendor===e.BROWSERS.IE?e.setElementOpacity(this.element,n,!0):e.setElementOpacity(this.wrapper,n,!0)}}}(t),function(e){function n(r,o){var a,s=r.controls;for(a=s.length-1;a>=0;a--)if(s[a].element===o)return a;return-1}e.ControlDock=function(r){var s,a,o=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},r),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),a=0;a<o.length;a++)s=o[a],this.controls[s]=e.makeNeutralElement("div"),this.controls[s].style.position="absolute",s.match("left")&&(this.controls[s].style.left="0px"),s.match("right")&&(this.controls[s].style.right="0px"),s.match("top")&&(this.controls[s].style.top="0px"),s.match("bottom")&&(this.controls[s].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(r,o){var s=null;if(!(n(this,r=e.getElement(r))>=0)){switch(o.anchor){case e.ControlAnchor.TOP_RIGHT:s=this.controls.topright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:s=this.controls.bottomright,r.style.position="relative",r.style.paddingRight="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:s=this.controls.bottomleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:s=this.controls.topleft,r.style.position="relative",r.style.paddingLeft="0px",r.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:s=this.container,r.style.margin="0px",r.style.padding="0px"}this.controls.push(new e.Control(r,o,s)),r.style.display="inline-block"}},removeControl:function(r){var o=n(this,r=e.getElement(r));return o>=0&&(this.controls[o].destroy(),this.controls.splice(o,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var r;for(r=this.controls.length-1;r>=0;r--)if(this.controls[r].isVisible())return!0;return!1},setControlsEnabled:function(r){var o;for(o=this.controls.length-1;o>=0;o--)this.controls[o].setVisible(r);return this}}}(t),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(t),function(e){var n={},r=1;function o(p){return p=e.getElement(p),new e.Point(0===p.clientWidth?1:p.clientWidth,0===p.clientHeight?1:p.clientHeight)}function s(p,_,R,N,L){var J=p;if("string"===e.type(_))if(_.match(/^\s*<.*>\s*$/))_=e.parseXml(_);else if(_.match(/^\s*[{[].*[}\]]\s*$/))try{var q=e.parseJSON(_);_=q}catch{}function fe(Se,ge){Se.ready?N(Se):(Se.addHandler("ready",(function(){N(Se)})),Se.addHandler("open-failed",(function(oe){L({message:oe.message,source:ge})})))}setTimeout((function(){if("string"===e.type(_))(_=new e.TileSource({url:_,crossOriginPolicy:void 0!==R.crossOriginPolicy?R.crossOriginPolicy:p.crossOriginPolicy,ajaxWithCredentials:p.ajaxWithCredentials,ajaxHeaders:R.ajaxHeaders?R.ajaxHeaders:p.ajaxHeaders,useCanvas:p.useCanvas,success:function(Te){N(Te.tileSource)}})).addHandler("open-failed",(function(Te){L(Te)}));else if(e.isPlainObject(_)||_.nodeType)if(void 0===_.crossOriginPolicy&&(void 0!==R.crossOriginPolicy||void 0!==p.crossOriginPolicy)&&(_.crossOriginPolicy=void 0!==R.crossOriginPolicy?R.crossOriginPolicy:p.crossOriginPolicy),void 0===_.ajaxWithCredentials&&(_.ajaxWithCredentials=p.ajaxWithCredentials),void 0===_.useCanvas&&(_.useCanvas=p.useCanvas),e.isFunction(_.getTileUrl)){var Se=new e.TileSource(_);Se.getTileUrl=_.getTileUrl,N(Se)}else{var ge=e.TileSource.determineType(J,_);if(!ge)return void L({message:"Unable to load TileSource",source:_});var oe=ge.prototype.configure.apply(J,[_]);fe(new ge(oe),_)}else fe(_,_)}))}function a(p,_){if(_ instanceof e.Overlay)return _;var R=null;if(_.element)R=e.getElement(_.element);else{var N=_.id?_.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(R=e.getElement(_.id))||((R=document.createElement("a")).href="#/overlay/"+N),R.id=N,e.addClass(R,_.className?_.className:"openseadragon-overlay")}var L=_.location,J=_.width,q=_.height;if(!L){var fe=_.x,Se=_.y;if(void 0!==_.px){var ge=p.viewport.imageToViewportRectangle(new e.Rect(_.px,_.py,J||0,q||0));fe=ge.x,Se=ge.y,J=void 0!==J?ge.width:void 0,q=void 0!==q?ge.height:void 0}L=new e.Point(fe,Se)}var oe=_.placement;return oe&&"string"===e.type(oe)&&(oe=e.Placement[_.placement.toUpperCase()]),new e.Overlay({element:R,location:L,placement:oe,onDraw:_.onDraw,checkResize:_.checkResize,width:J,height:q,rotationMode:_.rotationMode})}function l(p,_){var R;for(R=p.length-1;R>=0;R--)if(p[R].element===_)return R;return-1}function u(p,_){return e.requestAnimationFrame((function(){_(p)}))}function c(p){e.requestAnimationFrame((function(){d(p)}))}function h(p){!p.autoHideControls||(p.controlsShouldFade=!0,p.controlsFadeBeginTime=e.now()+p.controlsFadeDelay,window.setTimeout((function(){c(p)}),p.controlsFadeDelay))}function d(p){var N,L;if(p.controlsShouldFade){for(N=1-(e.now()-p.controlsFadeBeginTime)/p.controlsFadeLength,N=Math.min(1,N),N=Math.max(0,N),L=p.controls.length-1;L>=0;L--)p.controls[L].autoFade&&p.controls[L].setOpacity(N);N>0&&c(p)}}function g(p){var _;for(p.controlsShouldFade=!1,_=p.controls.length-1;_>=0;_--)p.controls[_].setOpacity(1)}function y(){g(this)}function x(){h(this)}function b(p){var _={tracker:p.eventSource,position:p.position,originalEvent:p.originalEvent,preventDefault:p.preventDefault};this.raiseEvent("canvas-contextmenu",_),p.preventDefault=_.preventDefault}function T(p){var _={originalEvent:p.originalEvent,preventDefaultAction:!1,preventVerticalPan:p.preventVerticalPan,preventHorizontalPan:p.preventHorizontalPan};if(this.raiseEvent("canvas-key",_),_.preventDefaultAction||p.ctrl||p.alt||p.meta)p.preventDefault=!1;else switch(p.keyCode){case 38:_.preventVerticalPan||(p.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 40:_.preventVerticalPan||(p.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 37:_.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 39:_.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),p.preventDefault=!0;break;default:p.preventDefault=!1}}function f(p){var _={originalEvent:p.originalEvent,preventDefaultAction:!1,preventVerticalPan:p.preventVerticalPan,preventHorizontalPan:p.preventHorizontalPan};if(this.raiseEvent("canvas-key",_),_.preventDefaultAction||p.ctrl||p.alt||p.meta)p.preventDefault=!1;else switch(p.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),p.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),p.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),p.preventDefault=!0;break;case 119:case 87:_.preventVerticalPan||(p.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 115:case 83:_.preventVerticalPan||(p.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 97:_.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 100:_.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),p.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),p.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),p.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),p.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:p.preventDefault=!1}}function E(p){var _;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(p.position.x=this.viewport.getContainerSize().x-p.position.x);var N={tracker:p.eventSource,position:p.position,quick:p.quick,shift:p.shift,originalEvent:p.originalEvent,originalTarget:p.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",N),!N.preventDefaultAction&&this.viewport&&p.quick&&(_=this.gestureSettingsByDeviceType(p.pointerType)).clickToZoom&&(this.viewport.zoomBy(p.shift?1/this.zoomPerClick:this.zoomPerClick,_.zoomToRefPoint?this.viewport.pointFromPixel(p.position,!0):null),this.viewport.applyConstraints())}function A(p){var _,R={tracker:p.eventSource,position:p.position,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",R),!R.preventDefaultAction&&this.viewport&&(_=this.gestureSettingsByDeviceType(p.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(p.shift?1/this.zoomPerClick:this.zoomPerClick,_.zoomToRefPoint?this.viewport.pointFromPixel(p.position,!0):null),this.viewport.applyConstraints())}function C(p){var _,R={tracker:p.eventSource,pointerType:p.pointerType,position:p.position,delta:p.delta,speed:p.speed,direction:p.direction,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",R),(_=this.gestureSettingsByDeviceType(p.pointerType)).dragToPan&&!R.preventDefaultAction&&this.viewport){if(this.panHorizontal||(p.delta.x=0),this.panVertical||(p.delta.y=0),this.viewport.flipped&&(p.delta.x=-p.delta.x),this.constrainDuringPan){var N=this.viewport.deltaPointsFromPixels(p.delta.negate());this.viewport.centerSpringX.target.value+=N.x,this.viewport.centerSpringY.target.value+=N.y;var L=this.viewport.getBounds(),J=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=N.x,this.viewport.centerSpringY.target.value-=N.y,L.x!==J.x&&(p.delta.x=0),L.y!==J.y&&(p.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(p.delta.negate()),_.flickEnabled&&!this.constrainDuringPan)}}function O(p){var _={tracker:p.eventSource,pointerType:p.pointerType,position:p.position,speed:p.speed,direction:p.direction,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",_),!_.preventDefaultAction&&this.viewport){var R=this.gestureSettingsByDeviceType(p.pointerType);if(R.flickEnabled&&p.speed>=R.flickMinSpeed){var N=0;this.panHorizontal&&(N=R.flickMomentum*p.speed*Math.cos(p.direction));var L=0;this.panVertical&&(L=R.flickMomentum*p.speed*Math.sin(p.direction));var J=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),q=this.viewport.pointFromPixel(new e.Point(J.x-N,J.y-L));this.viewport.panTo(q,!1)}this.viewport.applyConstraints()}}function D(p){this.raiseEvent("canvas-enter",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,buttons:p.buttons,pointers:p.pointers,insideElementPressed:p.insideElementPressed,buttonDownAny:p.buttonDownAny,originalEvent:p.originalEvent})}function I(p){this.raiseEvent("canvas-exit",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,buttons:p.buttons,pointers:p.pointers,insideElementPressed:p.insideElementPressed,buttonDownAny:p.buttonDownAny,originalEvent:p.originalEvent})}function B(p){this.raiseEvent("canvas-press",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,insideElementPressed:p.insideElementPressed,insideElementReleased:p.insideElementReleased,originalEvent:p.originalEvent})}function Z(p){this.raiseEvent("canvas-release",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,insideElementPressed:p.insideElementPressed,insideElementReleased:p.insideElementReleased,originalEvent:p.originalEvent})}function Y(p){this.raiseEvent("canvas-nonprimary-press",{tracker:p.eventSource,position:p.position,pointerType:p.pointerType,button:p.button,buttons:p.buttons,originalEvent:p.originalEvent})}function V(p){this.raiseEvent("canvas-nonprimary-release",{tracker:p.eventSource,position:p.position,pointerType:p.pointerType,button:p.button,buttons:p.buttons,originalEvent:p.originalEvent})}function K(p){var _,R,L,J={tracker:p.eventSource,pointerType:p.pointerType,gesturePoints:p.gesturePoints,lastCenter:p.lastCenter,center:p.center,lastDistance:p.lastDistance,distance:p.distance,shift:p.shift,originalEvent:p.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",J),this.viewport&&((_=this.gestureSettingsByDeviceType(p.pointerType)).pinchToZoom&&(!J.preventDefaultPanAction||!J.preventDefaultZoomAction)&&(R=this.viewport.pointFromPixel(p.center,!0),J.preventDefaultZoomAction||this.viewport.zoomBy(p.distance/p.lastDistance,R,!0),_.zoomToRefPoint&&!J.preventDefaultPanAction&&(L=this.viewport.pointFromPixel(p.lastCenter,!0).minus(R),this.panHorizontal||(L.x=0),this.panVertical||(L.y=0),this.viewport.panBy(L,!0)),this.viewport.applyConstraints()),_.pinchRotate&&!J.preventDefaultRotateAction)){var q=Math.atan2(p.gesturePoints[0].currentPos.y-p.gesturePoints[1].currentPos.y,p.gesturePoints[0].currentPos.x-p.gesturePoints[1].currentPos.x),fe=Math.atan2(p.gesturePoints[0].lastPos.y-p.gesturePoints[1].lastPos.y,p.gesturePoints[0].lastPos.x-p.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(q-fe)*(180/Math.PI))}}function Q(p){var _,R,N,L;(L=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=L,_={tracker:p.eventSource,position:p.position,scroll:p.scroll,shift:p.shift,originalEvent:p.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",_),!_.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(p.position.x=this.viewport.getContainerSize().x-p.position.x),(R=this.gestureSettingsByDeviceType(p.pointerType)).scrollToZoom&&(N=Math.pow(this.zoomPerScroll,p.scroll),this.viewport.zoomBy(N,R.zoomToRefPoint?this.viewport.pointFromPixel(p.position,!0):null),this.viewport.applyConstraints())),p.preventDefault=_.preventDefault):p.preventDefault=!0}function le(p){n[this.hash].mouseInside=!0,g(this),this.raiseEvent("container-enter",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,buttons:p.buttons,pointers:p.pointers,insideElementPressed:p.insideElementPressed,buttonDownAny:p.buttonDownAny,originalEvent:p.originalEvent})}function re(p){p.pointers<1&&(n[this.hash].mouseInside=!1,n[this.hash].animating||h(this)),this.raiseEvent("container-exit",{tracker:p.eventSource,pointerType:p.pointerType,position:p.position,buttons:p.buttons,pointers:p.pointers,insideElementPressed:p.insideElementPressed,buttonDownAny:p.buttonDownAny,originalEvent:p.originalEvent})}function se(p){de(p),p.isOpen()?p._updateRequestId=u(p,se):p._updateRequestId=!1}function de(p){if(!p._opening&&n[p.hash]){if(p.autoResize){var _=o(p.container),R=n[p.hash].prevContainerSize;if(!_.equals(R)){var N=p.viewport;if(p.preserveImageSizeOnResize){var L=R.x/_.x,J=N.getZoom()*L,q=N.getCenter();N.resize(_,!1),N.zoomTo(J,null,!0),N.panTo(q,!0)}else{var fe=N.getBounds();N.resize(_,!0),N.fitBoundsWithConstraints(fe,!0)}n[p.hash].prevContainerSize=_,n[p.hash].forceRedraw=!0}}var Se=p.viewport.update(),ge=p.world.update()||Se;Se&&p.raiseEvent("viewport-change"),p.referenceStrip&&(ge=p.referenceStrip.update(p.viewport)||ge),!n[p.hash].animating&&ge&&(p.raiseEvent("animation-start"),g(p)),(ge||n[p.hash].forceRedraw||p.world.needsDraw())&&(pe(p),p._drawOverlays(),p.navigator&&p.navigator.update(p.viewport),n[p.hash].forceRedraw=!1,ge&&p.raiseEvent("animation")),n[p.hash].animating&&!ge&&(p.raiseEvent("animation-finish"),n[p.hash].mouseInside||h(p)),n[p.hash].animating=ge}}function pe(p){p.imageLoader.clear(),p.drawer.clear(),p.world.draw(),p.raiseEvent("update-viewport",{})}function G(p,_){return p?p+_:_}function Me(){n[this.hash].lastZoomTime=e.now(),n[this.hash].zoomFactor=this.zoomPerSecond,n[this.hash].zooming=!0,U(this)}function F(){n[this.hash].lastZoomTime=e.now(),n[this.hash].zoomFactor=1/this.zoomPerSecond,n[this.hash].zooming=!0,U(this)}function H(){n[this.hash].zooming=!1}function U(p){e.requestAnimationFrame(e.delegate(p,W))}function W(){var p,_,R;n[this.hash].zooming&&this.viewport&&(_=(p=e.now())-n[this.hash].lastZoomTime,R=Math.pow(n[this.hash].zoomFactor,_/1e3),this.viewport.zoomBy(R),this.viewport.applyConstraints(),n[this.hash].lastZoomTime=p,U(this))}function j(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function $(){this.viewport&&(n[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function ae(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function we(){this.viewport&&this.viewport.goHome()}function me(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Qe(){if(this.viewport){var p=this.viewport.getRotation();p=this.viewport.flipped?e.positiveModulo(p+this.rotationIncrement,360):e.positiveModulo(p-this.rotationIncrement,360),this.viewport.setRotation(p)}}function $e(){if(this.viewport){var p=this.viewport.getRotation();p=this.viewport.flipped?e.positiveModulo(p-this.rotationIncrement,360):e.positiveModulo(p+this.rotationIncrement,360),this.viewport.setRotation(p)}}function et(){this.viewport.toggleFlip()}e.Viewer=function(p){var N,L,_=arguments,R=this;if(e.isPlainObject(p)||(p={id:_[0],xmlPath:_.length>1?_[1]:void 0,prefixUrl:_.length>2?_[2]:void 0,controls:_.length>3?_[3]:void 0,overlays:_.length>4?_[4]:void 0}),p.config&&(e.extend(!0,p,p.config),delete p.config),e.extend(!0,this,{id:p.id,hash:p.hash||r++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,p),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==n[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),n[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",(function(L){var J=e.getString("Errors.OpenFailed",L.eventSource,L.message);R._showMessage(J)})),e.ControlDock.call(this,p),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(L=this.canvas.style).width="100%",L.height="100%",L.overflow="hidden",L.position="absolute",L.top="0px",L.left="0px",e.setElementTouchActionNone(this.canvas),""!==p.tabIndex&&(this.canvas.tabIndex=void 0===p.tabIndex?0:p.tabIndex),this.container.className="openseadragon-container",function(L){L.width="100%",L.height="100%",L.position="relative",L.overflow="hidden",L.left="0px",L.top="0px",L.textAlign="left"}(this.container.style),e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,b),keyDownHandler:e.delegate(this,T),keyHandler:e.delegate(this,f),clickHandler:e.delegate(this,E),dblClickHandler:e.delegate(this,A),dragHandler:e.delegate(this,C),dragEndHandler:e.delegate(this,O),enterHandler:e.delegate(this,D),leaveHandler:e.delegate(this,I),pressHandler:e.delegate(this,B),releaseHandler:e.delegate(this,Z),nonPrimaryPressHandler:e.delegate(this,Y),nonPrimaryReleaseHandler:e.delegate(this,V),scrollHandler:e.delegate(this,Q),pinchHandler:e.delegate(this,K)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,le),leaveHandler:e.delegate(this,re)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),n[this.hash].prevContainerSize=o(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",(function(L){R.source=R.world.getItemAt(0).source,n[R.hash].forceRedraw=!0,R._updateRequestId||(R._updateRequestId=u(R,se))})),this.world.addHandler("remove-item",(function(L){R.world.getItemCount()?R.source=R.world.getItemAt(0).source:R.source=null,n[R.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(L){R.viewport&&R.viewport._setContentBounds(R.world.getHomeBounds(),R.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(L){R.source=R.world.getItemAt(0).source})),this.viewport=new e.Viewport({containerSize:n[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:p.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(N=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(N,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(N=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(N,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),N=0;N<this.customControls.length;N++)this.addControl(this.customControls[N].id,{anchor:this.customControls[N].anchor});e.requestAnimationFrame((function(){h(R)})),void 0!==this.imageSmoothingEnabled&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(p){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(p)},openTileSource:function(p){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(p)},open:function(p,_){var R=this;if(this.close(),!p)return this;if(this.sequenceMode&&e.isArray(p))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0!==_&&!isNaN(_)&&(this.initialPage=_),this.tileSources=p,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(p)||(p=[p]),!p.length)return this;this._opening=!0;for(var q,N=p.length,L=0,J=0,fe=function(){if(L+J===N)if(L){(R._firstOpen||!R.preserveViewport)&&(R.viewport.goHome(!0),R.viewport.update()),R._firstOpen=!1;var oe=p[0];if(oe.tileSource&&(oe=oe.tileSource),R.overlays&&!R.preserveOverlays)for(var Te=0;Te<R.overlays.length;Te++)R.currentOverlays[Te]=a(R,R.overlays[Te]);R._drawOverlays(),R._opening=!1,R.raiseEvent("open",{source:oe})}else R._opening=!1,R.raiseEvent("open-failed",q)},Se=function(oe){(!e.isPlainObject(oe)||!oe.tileSource)&&(oe={tileSource:oe}),void 0!==oe.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete oe.index),void 0===oe.collectionImmediately&&(oe.collectionImmediately=!0);var Te=oe.success;oe.success=function(ze){if(L++,oe.tileSource.overlays)for(var Mt=0;Mt<oe.tileSource.overlays.length;Mt++)R.addOverlay(oe.tileSource.overlays[Mt]);Te&&Te(ze),fe()};var he=oe.error;oe.error=function(ze){J++,q||(q=ze),he&&he(ze),fe()},R.addTiledImage(oe)},ge=0;ge<p.length;ge++)Se(p[ge]);return this},close:function(){return n[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),n[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(n[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),n[this.navigator.hash]=null,delete n[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),n[this.hash]=null,delete n[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(p){return this.innerTracker.setTracking(p),this.outerTracker.setTracking(p),this.raiseEvent("mouse-enabled",{enabled:p}),this},areControlsEnabled:function(){var _,p=this.controls.length;for(_=0;_<this.controls.length;_++)p=p&&this.controls[_].isVisible();return p},setControlsEnabled:function(p){return p?g(this):h(this),this.raiseEvent("controls-enabled",{enabled:p}),this},setDebugMode:function(p){for(var _=0;_<this.world.getItemCount();_++)this.world.getItemAt(_).debugMode=p;this.debugMode=p,this.forceRedraw()},isFullPage:function(){return n[this.hash].fullPage},setFullPage:function(p){var J,q,_=document.body,R=_.style,N=document.documentElement.style,L=this;if(p===this.isFullPage())return this;var fe={fullPage:p,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",fe),fe.preventDefaultAction)return this;if(p){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=R.margin,this.docMargin=N.margin,R.margin="0",N.margin="0",this.bodyPadding=R.padding,this.docPadding=N.padding,R.padding="0",N.padding="0",this.bodyWidth=R.width,this.docWidth=N.width,R.width="100%",N.width="100%",this.bodyHeight=R.height,this.docHeight=N.height,R.height="100%",N.height="100%",this.bodyDisplay=R.display,R.display="block",this.previousBody=[],n[this.hash].prevElementParent=this.element.parentNode,n[this.hash].prevNextSibling=this.element.nextSibling,n[this.hash].prevElementWidth=this.element.style.width,n[this.hash].prevElementHeight=this.element.style.height,J=_.childNodes.length,q=0;q<J;q++)this.previousBody.push(_.childNodes[0]),_.removeChild(_.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,_.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),_.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),n[this.hash].fullPage=!0,e.delegate(this,le)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,R.margin=this.bodyMargin,N.margin=this.docMargin,R.padding=this.bodyPadding,N.padding=this.docPadding,R.width=this.bodyWidth,N.width=this.docWidth,R.height=this.bodyHeight,N.height=this.docHeight,R.display=this.bodyDisplay,_.removeChild(this.element),J=this.previousBody.length,q=0;q<J;q++)_.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),n[this.hash].prevElementParent.insertBefore(this.element,n[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(_.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=n[this.hash].prevElementWidth,this.element.style.height=n[this.hash].prevElementHeight;var Se=0,ge=function(){e.setPageScroll(L.pageScroll);var oe=e.getPageScroll();++Se<10&&(oe.x!==L.pageScroll.x||oe.y!==L.pageScroll.y)&&e.requestAnimationFrame(ge)};e.requestAnimationFrame(ge),n[this.hash].fullPage=!1,e.delegate(this,re)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:p}),this},setFullScreen:function(p){var _=this;if(!e.supportsFullScreen)return this.setFullPage(p);if(e.isFullScreen()===p)return this;var R={fullScreen:p,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",R),R.preventDefaultAction)return this;if(p){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var N=function(){var L=e.isFullScreen();L||(e.removeEvent(document,e.fullScreenEventName,N),e.removeEvent(document,e.fullScreenErrorEventName,N),_.setFullPage(!1),_.isFullPage()&&(_.element.style.width=_.fullPageStyleWidth,_.element.style.height=_.fullPageStyleHeight)),_.navigator&&_.viewport&&setTimeout((function(){_.navigator.update(_.viewport)})),_.raiseEvent("full-screen",{fullScreen:L})};e.addEvent(document,e.fullScreenEventName,N),e.addEvent(document,e.fullScreenErrorEventName,N),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},setVisible:function(p){return this.container.style.visibility=p?"":"hidden",this.raiseEvent("visible",{visible:p}),this},addTiledImage:function(p){e.console.assert(p,"[Viewer.addTiledImage] options is required"),e.console.assert(p.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!p.replace||p.index>-1&&p.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var _=this;p.replace&&(p.replaceItem=_.world.getItemAt(p.index)),this._hideMessage(),void 0===p.placeholderFillStyle&&(p.placeholderFillStyle=this.placeholderFillStyle),void 0===p.opacity&&(p.opacity=this.opacity),void 0===p.preload&&(p.preload=this.preload),void 0===p.compositeOperation&&(p.compositeOperation=this.compositeOperation),void 0===p.crossOriginPolicy&&(p.crossOriginPolicy=void 0!==p.tileSource.crossOriginPolicy?p.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===p.ajaxWithCredentials&&(p.ajaxWithCredentials=this.ajaxWithCredentials),void 0===p.loadTilesWithAjax&&(p.loadTilesWithAjax=this.loadTilesWithAjax),void 0===p.ajaxHeaders||null===p.ajaxHeaders?p.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(p.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(p.ajaxHeaders=e.extend({},this.ajaxHeaders,p.ajaxHeaders));var R={options:p};function N(q){for(var fe=0;fe<_._loadQueue.length;fe++)if(_._loadQueue[fe]===R){_._loadQueue.splice(fe,1);break}0===_._loadQueue.length&&L(R),_.raiseEvent("add-item-failed",q),p.error&&p.error(q)}function L(q){_.collectionMode&&(_.world.arrange({immediately:q.options.collectionImmediately,rows:_.collectionRows,columns:_.collectionColumns,layout:_.collectionLayout,tileSize:_.collectionTileSize,tileMargin:_.collectionTileMargin}),_.world.setAutoRefigureSizes(!0))}function J(){for(var q,fe,Se;_._loadQueue.length&&(q=_._loadQueue[0]).tileSource;){if(_._loadQueue.splice(0,1),q.options.replace){var ge=_.world.getIndexOfItem(q.options.replaceItem);-1!==ge&&(q.options.index=ge),_.world.removeItem(q.options.replaceItem)}fe=new e.TiledImage({viewer:_,source:q.tileSource,viewport:_.viewport,drawer:_.drawer,tileCache:_.tileCache,imageLoader:_.imageLoader,x:q.options.x,y:q.options.y,width:q.options.width,height:q.options.height,fitBounds:q.options.fitBounds,fitBoundsPlacement:q.options.fitBoundsPlacement,clip:q.options.clip,placeholderFillStyle:q.options.placeholderFillStyle,opacity:q.options.opacity,preload:q.options.preload,degrees:q.options.degrees,flipped:q.options.flipped,compositeOperation:q.options.compositeOperation,springStiffness:_.springStiffness,animationTime:_.animationTime,minZoomImageRatio:_.minZoomImageRatio,wrapHorizontal:_.wrapHorizontal,wrapVertical:_.wrapVertical,immediateRender:_.immediateRender,blendTime:_.blendTime,alwaysBlend:_.alwaysBlend,minPixelRatio:_.minPixelRatio,smoothTileEdgesMinZoom:_.smoothTileEdgesMinZoom,iOSDevice:_.iOSDevice,crossOriginPolicy:q.options.crossOriginPolicy,ajaxWithCredentials:q.options.ajaxWithCredentials,loadTilesWithAjax:q.options.loadTilesWithAjax,ajaxHeaders:q.options.ajaxHeaders,debugMode:_.debugMode}),_.collectionMode&&_.world.setAutoRefigureSizes(!1),_.navigator&&(Se=e.extend({},q.options,{replace:!1,originalTiledImage:fe,tileSource:q.tileSource}),_.navigator.addTiledImage(Se)),_.world.addItem(fe,{index:q.options.index}),0===_._loadQueue.length&&L(q),1===_.world.getItemCount()&&!_.preserveViewport&&_.viewport.goHome(!0),q.options.success&&q.options.success({item:fe})}}e.isArray(p.tileSource)?setTimeout((function(){N({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:p.tileSource,options:p})})):(this._loadQueue.push(R),s(this,p.tileSource,p,(function(q){R.tileSource=q,J()}),(function(q){q.options=p,N(q),J()})))},addSimpleImage:function(p){e.console.assert(p,"[Viewer.addSimpleImage] options is required"),e.console.assert(p.url,"[Viewer.addSimpleImage] options.url is required");var _=e.extend({},p,{tileSource:{type:"image",url:p.url}});delete _.url,this.addTiledImage(_)},addLayer:function(p){var _=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var R=e.extend({},p,{success:function(N){_.raiseEvent("add-layer",{options:p,drawer:N.item})},error:function(N){_.raiseEvent("add-layer-failed",N)}});return this.addTiledImage(R),this},getLayerAtLevel:function(p){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(p)},getLevelOfLayer:function(p){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(p)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(p,_){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(p,_)},removeLayer:function(p){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(p)},forceRedraw:function(){return n[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var p=e.delegate(this,y),_=e.delegate(this,x),R=e.delegate(this,this.goToNextPage),N=e.delegate(this,this.goToPreviousPage),L=this.navImages,J=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(J=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:G(this.prefixUrl,L.previous.REST),srcGroup:G(this.prefixUrl,L.previous.GROUP),srcHover:G(this.prefixUrl,L.previous.HOVER),srcDown:G(this.prefixUrl,L.previous.DOWN),onRelease:N,onFocus:p,onBlur:_}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:G(this.prefixUrl,L.next.REST),srcGroup:G(this.prefixUrl,L.next.GROUP),srcHover:G(this.prefixUrl,L.next.HOVER),srcDown:G(this.prefixUrl,L.next.DOWN),onRelease:R,onFocus:p,onBlur:_}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),J&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var p=e.delegate(this,Me),_=e.delegate(this,H),R=e.delegate(this,j),N=e.delegate(this,F),L=e.delegate(this,$),J=e.delegate(this,we),q=e.delegate(this,me),fe=e.delegate(this,Qe),Se=e.delegate(this,$e),ge=e.delegate(this,et),oe=e.delegate(this,y),Te=e.delegate(this,x),he=this.navImages,ze=[],Mt=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Mt=!1),this.showZoomControl&&(ze.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:G(this.prefixUrl,he.zoomIn.REST),srcGroup:G(this.prefixUrl,he.zoomIn.GROUP),srcHover:G(this.prefixUrl,he.zoomIn.HOVER),srcDown:G(this.prefixUrl,he.zoomIn.DOWN),onPress:p,onRelease:_,onClick:R,onEnter:p,onExit:_,onFocus:oe,onBlur:Te})),ze.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:G(this.prefixUrl,he.zoomOut.REST),srcGroup:G(this.prefixUrl,he.zoomOut.GROUP),srcHover:G(this.prefixUrl,he.zoomOut.HOVER),srcDown:G(this.prefixUrl,he.zoomOut.DOWN),onPress:N,onRelease:_,onClick:L,onEnter:N,onExit:_,onFocus:oe,onBlur:Te}))),this.showHomeControl&&ze.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:G(this.prefixUrl,he.home.REST),srcGroup:G(this.prefixUrl,he.home.GROUP),srcHover:G(this.prefixUrl,he.home.HOVER),srcDown:G(this.prefixUrl,he.home.DOWN),onRelease:J,onFocus:oe,onBlur:Te})),this.showFullPageControl&&ze.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:G(this.prefixUrl,he.fullpage.REST),srcGroup:G(this.prefixUrl,he.fullpage.GROUP),srcHover:G(this.prefixUrl,he.fullpage.HOVER),srcDown:G(this.prefixUrl,he.fullpage.DOWN),onRelease:q,onFocus:oe,onBlur:Te})),this.showRotationControl&&(ze.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:G(this.prefixUrl,he.rotateleft.REST),srcGroup:G(this.prefixUrl,he.rotateleft.GROUP),srcHover:G(this.prefixUrl,he.rotateleft.HOVER),srcDown:G(this.prefixUrl,he.rotateleft.DOWN),onRelease:fe,onFocus:oe,onBlur:Te})),ze.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:G(this.prefixUrl,he.rotateright.REST),srcGroup:G(this.prefixUrl,he.rotateright.GROUP),srcHover:G(this.prefixUrl,he.rotateright.HOVER),srcDown:G(this.prefixUrl,he.rotateright.DOWN),onRelease:Se,onFocus:oe,onBlur:Te}))),this.showFlipControl&&ze.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:G(this.prefixUrl,he.flip.REST),srcGroup:G(this.prefixUrl,he.flip.GROUP),srcHover:G(this.prefixUrl,he.flip.HOVER),srcDown:G(this.prefixUrl,he.flip.DOWN),onRelease:ge,onFocus:oe,onBlur:Te})),Mt?(this.buttonGroup=new e.ButtonGroup({buttons:ze,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,ae)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=ze),this},currentPage:function(){return this._sequenceIndex},goToPage:function(p){return this.tileSources&&p>=0&&p<this.tileSources.length&&(this._sequenceIndex=p,this._updateSequenceButtons(p),this.open(this.tileSources[p]),this.referenceStrip&&this.referenceStrip.setFocus(p),this.raiseEvent("page",{page:p})),this},addOverlay:function(p,_,R,N){var L;if(L=e.isPlainObject(p)?p:{element:p,location:_,placement:R,onDraw:N},p=e.getElement(L.element),l(this.currentOverlays,p)>=0)return this;var J=a(this,L);return this.currentOverlays.push(J),J.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:p,location:L.location,placement:L.placement}),this},updateOverlay:function(p,_,R){var N;return p=e.getElement(p),(N=l(this.currentOverlays,p))>=0&&(this.currentOverlays[N].update(_,R),n[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:p,location:_,placement:R})),this},removeOverlay:function(p){var _;return p=e.getElement(p),(_=l(this.currentOverlays,p))>=0&&(this.currentOverlays[_].destroy(),this.currentOverlays.splice(_,1),n[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:p})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return n[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(p){var _;return p=e.getElement(p),(_=l(this.currentOverlays,p))>=0?this.currentOverlays[_]:null},_updateSequenceButtons:function(p){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==p?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(p>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(p){this._hideMessage();var _=e.makeNeutralElement("div");_.appendChild(document.createTextNode(p)),this.messageDiv=e.makeCenteredNode(_),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var p=this.messageDiv;p&&(p.parentNode.removeChild(p),delete this.messageDiv)},gestureSettingsByDeviceType:function(p){switch(p){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var p,_=this.currentOverlays.length;for(p=0;p<_;p++)this.currentOverlays[p].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var p=e.pixelDensityRatio,_=e.getCurrentPixelDensityRatio();p!==_&&(e.pixelDensityRatio=_,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var p=this._sequenceIndex-1;this.navPrevNextWrap&&p<0&&(p+=this.tileSources.length),this.goToPage(p)},goToNextPage:function(){var p=this._sequenceIndex+1;this.navPrevNextWrap&&p>=this.tileSources.length&&(p=0),this.goToPage(p)}})}(t),function(e){function n(u){var c={tracker:u.eventSource,position:u.position,quick:u.quick,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",c),!c.preventDefaultAction&&u.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(u.position.x=this.viewport.getContainerSize().x-u.position.x);var h=this.viewport.pointFromPixel(u.position);this.panVertical?this.panHorizontal||(h.x=this.viewer.viewport.getCenter(!0).x):h.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(h),this.viewer.viewport.applyConstraints()}}function r(u){var c={tracker:u.eventSource,position:u.position,delta:u.delta,speed:u.speed,direction:u.direction,shift:u.shift,originalEvent:u.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",c),!c.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(u.delta.x=0),this.panVertical||(u.delta.y=0),this.viewer.viewport.flipped&&(u.delta.x=-u.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(u.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function o(u){u.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function s(u){var c={tracker:u.eventSource,position:u.position,scroll:u.scroll,shift:u.shift,originalEvent:u.originalEvent,preventDefault:u.preventDefault};this.viewer.raiseEvent("navigator-scroll",c),u.preventDefault=c.preventDefault}function a(u,c){l(u,"rotate("+c+"deg)")}function l(u,c){u.style.webkitTransform=c,u.style.mozTransform=c,u.style.msTransform=c,u.style.oTransform=c,u.style.transform=c}e.Navigator=function(u){var d,g,b,T,c=u.viewer,h=this;function y(b){a(h.displayRegionContainer,b),a(h.displayRegion,-b),h.viewport.setRotation(b)}u.id?(this.element=document.getElementById(u.id),u.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(u.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),u.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:u.autoFade},u.position&&("BOTTOM_RIGHT"===u.position?u.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===u.position?u.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===u.position?u.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===u.position?u.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===u.position&&(u.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,u.controlOptions.top=u.top,u.controlOptions.left=u.left,u.controlOptions.height=u.height,u.controlOptions.width=u.width))),this.element.id=u.id,this.element.className+=" navigator",(u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},u,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:u.autoResize,minZoomImageRatio:1,background:u.background,opacity:u.opacity,borderColor:u.borderColor,displayRegionColor:u.displayRegionColor})).minPixelRatio=this.minPixelRatio=c.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),u.controlOptions.anchor!==e.ControlAnchor.NONE&&(b=this.element.style,T=this.borderWidth,b.margin="0px",b.border=T+"px solid "+u.borderColor,b.padding="0px",b.background=u.background,b.opacity=u.opacity,b.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(b,T){b.position="relative",b.top="0px",b.left="0px",b.fontSize="0px",b.overflow="hidden",b.border=T+"px solid "+u.displayRegionColor,b.margin="0px",b.padding="0px",b.background="transparent",b.float="left",b.cssFloat="left",b.styleFloat="left",b.zIndex=999999999,b.cursor="default"}(this.displayRegion.style,this.borderWidth),e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),c.addControl(this.element,u.controlOptions),this._resizeWithViewer=u.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&u.controlOptions.anchor!==e.ControlAnchor.NONE,u.width&&u.height?(this.setWidth(u.width),this.setHeight(u.height)):this._resizeWithViewer&&(d=e.getElementSize(c.element),this.element.style.height=Math.round(d.y*u.sizeRatio)+"px",this.element.style.width=Math.round(d.x*u.sizeRatio)+"px",this.oldViewerSize=d,g=e.getElementSize(this.element),this.elementArea=g.x*g.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[u]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),u.navigatorRotate&&(y(u.viewer.viewport?u.viewer.viewport.getRotation():u.viewer.degrees||0),u.viewer.addHandler("rotate",(function(b){y(b.degrees)}))),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,r),clickHandler:e.delegate(this,n),releaseHandler:e.delegate(this,o),scrollHandler:e.delegate(this,s),preProcessEventHandler:function(b){"wheel"===b.eventType&&(b.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){h.viewport&&h.viewport.goHome(!0)})),c.world.addHandler("item-index-change",(function(b){window.setTimeout((function(){var T=h.world.getItemAt(b.previousIndex);h.world.setItemIndex(T,b.newIndex)}),1)})),c.world.addHandler("remove-item",(function(b){var T=b.item,f=h._getMatchingItem(T);f&&h.world.removeItem(f)})),this.update(c.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var u=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);u.equals(this.oldContainerSize)||(this.viewport.resize(u,!0),this.viewport.goHome(!0),this.oldContainerSize=u,this.drawer.clear(),this.world.draw())}},setWidth:function(u){this.width=u,this.element.style.width="number"==typeof u?u+"px":u,this._resizeWithViewer=!1},setHeight:function(u){this.height=u,this.element.style.height="number"==typeof u?u+"px":u,this._resizeWithViewer=!1},setFlip:function(u){return this.viewport.setFlip(u),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(u){l(this.displayRegion,u),l(this.canvas,u),l(this.element,u)},update:function(u){var c,h,d,g,y,x;if(c=e.getElementSize(this.viewer.element),this._resizeWithViewer&&c.x&&c.y&&!c.equals(this.oldViewerSize)&&(this.oldViewerSize=c,this.maintainSizeRatio||!this.elementArea?(h=c.x*this.sizeRatio,d=c.y*this.sizeRatio):(h=Math.sqrt(this.elementArea*(c.x/c.y)),d=this.elementArea/h),this.element.style.width=Math.round(h)+"px",this.element.style.height=Math.round(d)+"px",this.elementArea||(this.elementArea=h*d),this.updateSize()),u&&this.viewport){g=u.getBoundsNoRotate(!0),y=this.viewport.pixelFromPointNoRotate(g.getTopLeft(),!1),x=this.viewport.pixelFromPointNoRotate(g.getBottomRight(),!1).minus(this.totalBorderWidths);var b=this.displayRegion.style;b.display=this.world.getItemCount()?"block":"none",b.top=Math.round(y.y)+"px",b.left=Math.round(y.x)+"px";var T=Math.abs(y.x-x.x),f=Math.abs(y.y-x.y);b.width=Math.round(Math.max(T,0))+"px",b.height=Math.round(Math.max(f,0))+"px"}},addTiledImage:function(u){var c=this,h=u.originalTiledImage;delete u.original;var d=e.extend({},u,{success:function(g){var y=g.item;function x(){c._matchBounds(y,h)}function b(){c._matchOpacity(y,h)}function T(){c._matchCompositeOperation(y,h)}y._originalForNavigator=h,c._matchBounds(y,h,!0),c._matchOpacity(y,h),c._matchCompositeOperation(y,h),h.addHandler("bounds-change",x),h.addHandler("clip-change",x),h.addHandler("opacity-change",b),h.addHandler("composite-operation-change",T)}});return e.Viewer.prototype.addTiledImage.apply(this,[d])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(u){for(var h,c=this.world.getItemCount(),d=0;d<c;d++)if((h=this.world.getItemAt(d))._originalForNavigator===u)return h;return null},_matchBounds:function(u,c,h){var d=c.getBoundsNoRotate();u.setPosition(d.getTopLeft(),h),u.setWidth(d.width,h),u.setRotation(c.getRotation(),h),u.setClip(c.getClip()),u.setFlip(c.getFlip())},_matchOpacity:function(u,c){u.setOpacity(c.opacity)},_matchCompositeOperation:function(u,c){u.setCompositeOperation(c.compositeOperation)}})}(t),function(e){var n={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(r){var u,o=r.split("."),s=null,a=arguments,l=n;for(u=0;u<o.length-1;u++)l=l[o[u]]||{};return"string"!=typeof(s=l[o[u]])&&(e.console.log("Untranslated source string:",r),s=""),s.replace(/\{\d+\}/g,(function(c){var h=parseInt(c.match(/\d+/),10)+1;return h<a.length?a[h]:""}))},setString:function(r,o){var l,s=r.split("."),a=n;for(l=0;l<s.length-1;l++)a[s[l]]||(a[s[l]]={}),a=a[s[l]];a[s[l]]=o}})}(t),function(e){e.Point=function(n,r){this.x="number"==typeof n?n:0,this.y="number"==typeof r?r:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(n){return new e.Point(this.x+n.x,this.y+n.y)},minus:function(n){return new e.Point(this.x-n.x,this.y-n.y)},times:function(n){return new e.Point(this.x*n,this.y*n)},divide:function(n){return new e.Point(this.x/n,this.y/n)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},squaredDistanceTo:function(n){return Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2)},apply:function(n){return new e.Point(n(this.x),n(this.y))},equals:function(n){return n instanceof e.Point&&this.x===n.x&&this.y===n.y},rotate:function(n,r){var o,s;if(r=r||new e.Point(0,0),n%90==0)switch(e.positiveModulo(n,360)){case 0:o=1,s=0;break;case 90:o=0,s=1;break;case 180:o=-1,s=0;break;case 270:o=0,s=-1}else{var l=n*Math.PI/180;o=Math.cos(l),s=Math.sin(l)}var u=o*(this.x-r.x)-s*(this.y-r.y)+r.x,c=s*(this.x-r.x)+o*(this.y-r.y)+r.y;return new e.Point(u,c)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(t),function(e){function n(r){var a,l,o=r.responseText,s=r.status;if(!r)throw new Error(e.getString("Errors.Security"));if(200!==r.status&&0!==r.status)throw a=404===(s=r.status)?"Not Found":r.statusText,new Error(e.getString("Errors.Status",s,a));if(o.match(/\s*<.*/))try{l=r.responseXML&&r.responseXML.documentElement?r.responseXML:e.parseXml(o)}catch{l=r.responseText}else if(o.match(/\s*[{[].*/))try{l=e.parseJSON(o)}catch{l=o}else l=o;return l}e.TileSource=function(r,o,s,a,l,u){var d,g,c=this,h=arguments;if(d=e.isPlainObject(r)?r:{width:h[0],height:h[1],tileSize:h[2],tileOverlap:h[3],minLevel:h[4],maxLevel:h[5]},e.EventSource.call(this),e.extend(!0,this,d),!this.success)for(g=0;g<arguments.length;g++)if(e.isFunction(arguments[g])){this.success=arguments[g];break}this.success&&this.addHandler("ready",(function(y){c.success(y)})),"string"===e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=d.width&&d.height?d.width/d.height:1,this.dimensions=new e.Point(d.width,d.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=d.tileOverlap?d.tileOverlap:0,this.minLevel=d.minLevel?d.minLevel:0,this.maxLevel=void 0!==d.maxLevel&&null!==d.maxLevel?d.maxLevel:d.width&&d.height?Math.ceil(Math.log(Math.max(d.width,d.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(r){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(r){return this._tileWidth?this._tileWidth:this.getTileSize(r)},getTileHeight:function(r){return this._tileHeight?this._tileHeight:this.getTileSize(r)},setMaxLevel:function(r){this.maxLevel=r,this._memoizeLevelScale()},getLevelScale:function(r){return this._memoizeLevelScale(),this.getLevelScale(r)},_memoizeLevelScale:function(){var o,r={};for(o=0;o<=this.maxLevel;o++)r[o]=1/Math.pow(2,this.maxLevel-o);this.getLevelScale=function(s){return r[s]}},getNumTiles:function(r){var o=this.getLevelScale(r),s=Math.ceil(o*this.dimensions.x/this.getTileWidth(r)),a=Math.ceil(o*this.dimensions.y/this.getTileHeight(r));return new e.Point(s,a)},getPixelRatio:function(r){var o=this.dimensions.times(this.getLevelScale(r)),s=1/o.x*e.pixelDensityRatio,a=1/o.y*e.pixelDensityRatio;return new e.Point(s,a)},getClosestLevel:function(){var r,o;for(r=this.minLevel+1;r<=this.maxLevel&&!((o=this.getNumTiles(r)).x>1||o.y>1);r++);return r-1},getTileAtPoint:function(r,o){var s=o.x>=0&&o.x<=1&&o.y>=0&&o.y<=1/this.aspectRatio;e.console.assert(s,"[TileSource.getTileAtPoint] must be called with a valid point.");var a=this.dimensions.x*this.getLevelScale(r),l=o.x*a,u=o.y*a,c=Math.floor(l/this.getTileWidth(r)),h=Math.floor(u/this.getTileHeight(r));o.x>=1&&(c=this.getNumTiles(r).x-1);var d=1e-15;return o.y>=1/this.aspectRatio-d&&(h=this.getNumTiles(r).y-1),new e.Point(c,h)},getTileBounds:function(r,o,s,a){var l=this.dimensions.times(this.getLevelScale(r)),u=this.getTileWidth(r),c=this.getTileHeight(r),h=0===o?0:u*o-this.tileOverlap,d=0===s?0:c*s-this.tileOverlap,g=u+(0===o?1:2)*this.tileOverlap,y=c+(0===s?1:2)*this.tileOverlap,x=1/l.x;return g=Math.min(g,l.x-h),y=Math.min(y,l.y-d),a?new e.Rect(0,0,g,y):new e.Rect(h*x,d*x,g*x,y*x)},getImageInfo:function(r){var s,a,l,u,c,h,d,o=this;r&&(d=(h=(c=r.split("/"))[c.length-1]).lastIndexOf("."))>-1&&(c[c.length-1]=h.slice(0,d)),a=function(g){"string"==typeof g&&(g=e.parseXml(g));var y=e.TileSource.determineType(o,g,r);y?(void 0===(u=y.prototype.configure.apply(o,[g,r])).ajaxWithCredentials&&(u.ajaxWithCredentials=o.ajaxWithCredentials),l=new y(u),o.ready=!0,o.raiseEvent("ready",{tileSource:l})):o.raiseEvent("open-failed",{message:"Unable to load TileSource",source:r})},r.match(/\.js$/)?(s=r.split("/").pop().replace(".js",""),e.jsonp({url:r,async:!1,callbackName:s,callback:a})):e.makeAjaxRequest({url:r,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(g){var y=n(g);a(y)},error:function(g,y){var x;try{x="HTTP "+g.status+" attempting to load TileSource"}catch{x=(void 0!==y&&y.toString?y.toString():"Unknown error")+" attempting to load TileSource"}o.raiseEvent("open-failed",{message:x,source:r})}})},supports:function(r,o){return!1},configure:function(r,o){throw new Error("Method not implemented.")},getTileUrl:function(r,o,s){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(r,o,s){return{}},tileExists:function(r,o,s){var a=this.getNumTiles(r);return r>=this.minLevel&&r<=this.maxLevel&&o>=0&&s>=0&&o<a.x&&s<a.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(r,o,s){var a;for(a in t)if(a.match(/.+TileSource$/)&&e.isFunction(t[a])&&e.isFunction(t[a].prototype.supports)&&t[a].prototype.supports.call(r,o,s))return t[a];return e.console.error("No TileSource was able to open %s %s",s,o),null}}(t),function(e){function n(o,s){if(!s||!s.documentElement)throw new Error(e.getString("Errors.Xml"));var d,g,y,x,b,a=s.documentElement,l=a.localName||a.tagName,u=s.documentElement.namespaceURI,c=null,h=[];if("Image"===l)try{if(void 0===(x=a.getElementsByTagName("Size")[0])&&(x=a.getElementsByTagNameNS(u,"Size")[0]),c={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:a.getAttribute("Url"),Format:a.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(a.getAttribute("Overlap"),10),TileSize:parseInt(a.getAttribute("TileSize"),10),Size:{Height:parseInt(x.getAttribute("Height"),10),Width:parseInt(x.getAttribute("Width"),10)}}},!e.imageFormatSupported(c.Image.Format))throw new Error(e.getString("Errors.ImageFormat",c.Image.Format.toUpperCase()));for(void 0===(d=a.getElementsByTagName("DisplayRect"))&&(d=a.getElementsByTagNameNS(u,"DisplayRect")[0]),b=0;b<d.length;b++)void 0===(y=(g=d[b]).getElementsByTagName("Rect")[0])&&(y=g.getElementsByTagNameNS(u,"Rect")[0]),h.push({Rect:{X:parseInt(y.getAttribute("X"),10),Y:parseInt(y.getAttribute("Y"),10),Width:parseInt(y.getAttribute("Width"),10),Height:parseInt(y.getAttribute("Height"),10),MinLevel:parseInt(g.getAttribute("MinLevel"),10),MaxLevel:parseInt(g.getAttribute("MaxLevel"),10)}});return h.length&&(c.Image.DisplayRect=h),r(o,c)}catch(E){throw E instanceof Error?E:new Error(e.getString("Errors.Dzi"))}else{if("Collection"===l)throw new Error(e.getString("Errors.Dzc"));if("Error"===l){var f=a.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(f)}}throw new Error(e.getString("Errors.Dzi"))}function r(o,s){var T,f,a=s.Image,l=a.Url,u=a.Format,c=a.Size,h=a.DisplayRect||[],d=parseInt(c.Width,10),g=parseInt(c.Height,10),y=parseInt(a.TileSize,10),x=parseInt(a.Overlap,10),b=[];for(f=0;f<h.length;f++)T=h[f].Rect,b.push(new e.DisplayRect(parseInt(T.X,10),parseInt(T.Y,10),parseInt(T.Width,10),parseInt(T.Height,10),parseInt(T.MinLevel,10),parseInt(T.MaxLevel,10)));return e.extend(!0,{width:d,height:g,tileSize:y,tileOverlap:x,minLevel:null,maxLevel:null,tilesUrl:l,fileFormat:u,displayRects:b},s)}e.DziTileSource=function(o,s,a,l,u,c,h,d,g){var y,x,b,T;if(T=e.isPlainObject(o)?o:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=T.tilesUrl,this.fileFormat=T.fileFormat,this.displayRects=T.displayRects,this.displayRects)for(y=this.displayRects.length-1;y>=0;y--)for(b=(x=this.displayRects[y]).minLevel;b<=x.maxLevel;b++)this._levelRects[b]||(this._levelRects[b]=[]),this._levelRects[b].push(x);e.TileSource.apply(this,[T])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(o,s){var a;return o.Image?a=o.Image.xmlns:o.documentElement&&("Image"===o.documentElement.localName||"Image"===o.documentElement.tagName)&&(a=o.documentElement.namespaceURI),-1!==(a=(a||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==a.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(o,s){var a;return a=e.isPlainObject(o)?r(this,o):n(this,o),s&&!a.tilesUrl&&(a.tilesUrl=s.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==s.search(/\.(dzi|xml|js)\?/)?a.queryParams=s.match(/\?.*/):a.queryParams=""),a},getTileUrl:function(o,s,a){return[this.tilesUrl,o,"/",s,"_",a,".",this.fileFormat,this.queryParams].join("")},tileExists:function(o,s,a){var u,c,h,d,g,y,x,l=this._levelRects[o];if(this.minLevel&&o<this.minLevel||this.maxLevel&&o>this.maxLevel)return!1;if(!l||!l.length)return!0;for(x=l.length-1;x>=0;x--)if(!(o<(u=l[x]).minLevel||o>u.maxLevel)&&(c=this.getLevelScale(o),h=u.x*c,d=u.y*c,g=h+u.width*c,y=d+u.height*c,h=Math.floor(h/this._tileWidth),d=Math.floor(d/this._tileWidth),g=Math.ceil(g/this._tileWidth),y=Math.ceil(y/this._tileWidth),h<=s&&s<g&&d<=a&&a<y))return!0;return!1}})}(t),function(e){function n(a){var l=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],u=Array.isArray(a.profile)?a.profile[0]:a.profile,c=-1!==l.indexOf(u),h=!1;return 2===a.version&&a.profile.length>1&&a.profile[1].supports&&(h=-1!==a.profile[1].supports.indexOf("sizeByW")),3===a.version&&a.extraFeatures&&(h=-1!==a.extraFeatures.indexOf("sizeByWh")),!c||h}function r(a){for(var l=[],u=0;u<a.sizes.length;u++)l.push({url:a["@id"]+"/full/"+a.sizes[u].width+","+(3===a.version?a.sizes[u].height:"")+"/0/default."+a.tileFormat,width:a.sizes[u].width,height:a.sizes[u].height});return l.sort((function(c,h){return c.width-h.width}))}function o(a){if(!a||!a.documentElement)throw new Error(e.getString("Errors.Xml"));var l=a.documentElement,c=null;if("info"===l.tagName)try{return s(l,c={}),c}catch(h){throw h instanceof Error?h:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}function s(a,l,u){var c,h;if(3===a.nodeType&&u)(h=a.nodeValue.trim()).match(/^\d*$/)&&(h=Number(h)),l[u]?(e.isArray(l[u])||(l[u]=[l[u]]),l[u].push(h)):l[u]=h;else if(1===a.nodeType)for(c=0;c<a.childNodes.length;c++)s(a.childNodes[c],l,a.nodeName)}e.IIIFTileSource=function(a){if(e.extend(!0,this,a),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(a.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=a.version,this.tile_width&&this.tile_height)a.tileWidth=this.tile_width,a.tileHeight=this.tile_height;else if(this.tile_width)a.tileSize=this.tile_width;else if(this.tile_height)a.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)a.tileWidth=this.tiles[0].width,a.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var l=0;l<this.tiles.length;l++)for(var u=0;u<this.tiles[l].scaleFactors.length;u++){var c=this.tiles[l].scaleFactors[u];this.scale_factors.push(c),a.tileSizePerScaleFactor[c]={width:this.tiles[l].width,height:this.tiles[l].height||this.tiles[l].width}}}else if(n(a)){for(var h=Math.min(this.height,this.width),d=[256,512,1024],g=[],y=0;y<d.length;y++)d[y]<=h&&g.push(d[y]);g.length>0?a.tileSize=Math.max.apply(null,g):a.tileSize=h}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,a.levels=r(this),e.extend(!0,a,{width:a.levels[a.levels.length-1].width,height:a.levels[a.levels.length-1].height,tileSize:Math.max(a.height,a.width),tileOverlap:0,minLevel:0,maxLevel:a.levels.length-1}),this.levels=a.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!a.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var x=Math.max.apply(null,this.scale_factors);a.maxLevel=Math.round(Math.log(x)*Math.LOG2E)}else a.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[a])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(a,l){return!!(a.protocol&&"http://iiif.io/api/image"===a.protocol||a["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===a["@context"]||"http://iiif.io/api/image/1/context.json"===a["@context"])||a.profile&&0===a.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||a.identifier&&a.width&&a.height)||!(!a.documentElement||"info"!==a.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==a.documentElement.namespaceURI)},configure:function(a,l){if(e.isPlainObject(a)){if(a["@context"]){var c=a["@context"];if(Array.isArray(c))for(var h=0;h<c.length;h++)if("string"==typeof c[h]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(c[h])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===c[h])){c=c[h];break}switch(c){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":a.version=1;break;case"http://iiif.io/api/image/2/context.json":a.version=2;break;case"http://iiif.io/api/image/3/context.json":a.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else a["@context"]="http://iiif.io/api/image/1.0/context.json",a["@id"]=l.replace("/info.json",""),a.version=1;if(!a["@id"]&&a.id&&(a["@id"]=a.id),a.preferredFormats)for(var d=0;d<a.preferredFormats.length;d++)if(t.imageFormatSupported(a.preferredFormats[d])){a.tileFormat=a.preferredFormats[d];break}return a}var u=o(a);return u["@context"]="http://iiif.io/api/image/1.0/context.json",u["@id"]=l.replace("/info.xml",""),u.version=1,u},getTileWidth:function(a){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,a);var l=Math.pow(2,this.maxLevel-a);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[l]?this.tileSizePerScaleFactor[l].width:this._tileWidth},getTileHeight:function(a){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,a);var l=Math.pow(2,this.maxLevel-a);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[l]?this.tileSizePerScaleFactor[l].height:this._tileHeight},getLevelScale:function(a){if(this.emulateLegacyImagePyramid){var l=NaN;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(l=this.levels[a].width/this.levels[this.maxLevel].width),l}return e.TileSource.prototype.getLevelScale.call(this,a)},getNumTiles:function(a){return this.emulateLegacyImagePyramid?this.getLevelScale(a)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,a)},getTileAtPoint:function(a,l){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,a,l)},getTileUrl:function(a,l,u){if(this.emulateLegacyImagePyramid){var c=null;return this.levels.length>0&&a>=this.minLevel&&a<=this.maxLevel&&(c=this.levels[a].url),c}var x,b,T,f,E,A,C,O,D,I,B,Z,Y,h="0",d=Math.pow(.5,this.maxLevel-a),g=Math.ceil(this.width*d),y=Math.ceil(this.height*d);return x=this.getTileWidth(a),b=this.getTileHeight(a),T=Math.ceil(x/d),f=Math.ceil(b/d),Y=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,g<x&&y<b?(I=2===this.version&&g===this.width?"full":3===this.version&&g===this.width&&y===this.height?"max":3===this.version?g+","+y:g+",",E="full"):(A=l*T,C=u*f,O=Math.min(T,this.width-A),D=Math.min(f,this.height-C),E=0===l&&0===u&&O===this.width&&D===this.height?"full":[A,C,O,D].join(","),B=Math.ceil(O*d),Z=Math.ceil(D*d),I=2===this.version&&B===this.width?"full":3===this.version&&B===this.width&&Z===this.height?"max":3===this.version?B+","+Z:B+","),[this["@id"],E,I,h,Y].join("/")},__testonly__:{canBeTiled:n,constructLevels:r}})}(t),function(e){e.OsmTileSource=function(n,r,o,s,a){var l;(!(l=e.isPlainObject(n)?n:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width||!l.height)&&(l.width=65572864,l.height=65572864),l.tileSize||(l.tileSize=256,l.tileOverlap=0),l.tilesUrl||(l.tilesUrl="http://tile.openstreetmap.org/"),l.minLevel=8,e.TileSource.apply(this,[l])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(n,r){return n.type&&"openstreetmaps"===n.type},configure:function(n,r){return n},getTileUrl:function(n,r,o){return this.tilesUrl+(n-8)+"/"+r+"/"+o+".png"}})}(t),function(e){e.TmsTileSource=function(n,r,o,s,a){var l;l=e.isPlainObject(n)?n:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var h,u=256*Math.ceil(l.width/256),c=256*Math.ceil(l.height/256);h=u>c?u/256:c/256,l.maxLevel=Math.ceil(Math.log(h)/Math.log(2))-1,l.tileSize=256,l.width=u,l.height=c,e.TileSource.apply(this,[l])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(n,r){return n.type&&"tiledmapservice"===n.type},configure:function(n,r){return n},getTileUrl:function(n,r,o){var s=this.getNumTiles(n).y-1;return this.tilesUrl+n+"/"+r+"/"+(s-o)+".png"}})}(t),function(e){e.ZoomifyTileSource=function(n){void 0===n.tileSize&&(n.tileSize=256),void 0===n.fileFormat&&(n.fileFormat="jpg",this.fileFormat=n.fileFormat);var r={x:n.width,y:n.height};for(n.imageSizes=[{x:n.width,y:n.height}],n.gridSize=[this._getGridSize(n.width,n.height,n.tileSize)];parseInt(r.x,10)>n.tileSize||parseInt(r.y,10)>n.tileSize;)r.x=Math.floor(r.x/2),r.y=Math.floor(r.y/2),n.imageSizes.push({x:r.x,y:r.y}),n.gridSize.push(this._getGridSize(r.x,r.y,n.tileSize));n.imageSizes.reverse(),n.gridSize.reverse(),n.minLevel=0,n.maxLevel=n.gridSize.length-1,t.TileSource.apply(this,[n])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(n,r,o){return{x:Math.ceil(n/o),y:Math.ceil(r/o)}},_calculateAbsoluteTileNumber:function(n,r,o){for(var s=0,a={},l=0;l<n;l++)s+=(a=this.gridSize[l]).x*a.y;return s+=(a=this.gridSize[n]).x*o+r},supports:function(n,r){return n.type&&"zoomifytileservice"===n.type},configure:function(n,r){return n},getTileUrl:function(n,r,o){var s=0,a=this._calculateAbsoluteTileNumber(n,r,o);return s=Math.floor(a/256),this.tilesUrl+"TileGroup"+s+"/"+n+"-"+r+"-"+o+"."+this.fileFormat}})}(t),function(e){function n(s){var l,u,a=[];for(u=0;u<s.length;u++)(l=s[u]).height&&l.width&&l.url?a.push({url:l.url,width:Number(l.width),height:Number(l.height)}):e.console.error("Unsupported image format: %s",l.url?l.url:"<no URL>");return a.sort((function(c,h){return c.height-h.height}))}function r(s,a){if(!a||!a.documentElement)throw new Error(e.getString("Errors.Xml"));var d,g,l=a.documentElement,u=l.tagName,c=null,h=[];if("image"===u)try{for(c={type:l.getAttribute("type"),levels:[]},h=l.getElementsByTagName("level"),g=0;g<h.length;g++)d=h[g],c.levels.push({url:d.getAttribute("url"),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10)});return o(s,c)}catch(y){throw y instanceof Error?y:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===u)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===u)throw new Error("Error: "+a)}throw new Error("Unknown element "+u)}function o(s,a){return a.levels}e.LegacyTileSource=function(s){var a,l,u;e.isArray(s)&&(a={type:"legacy-image-pyramid",levels:s}),a.levels=n(a.levels),a.levels.length>0?(l=a.levels[a.levels.length-1].width,u=a.levels[a.levels.length-1].height):(l=0,u=0,e.console.error("No supported image formats found")),e.extend(!0,a,{width:l,height:u,tileSize:Math.max(u,l),tileOverlap:0,minLevel:0,maxLevel:a.levels.length>0?a.levels.length-1:0}),e.TileSource.apply(this,[a]),this.levels=a.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(s,a){return s.type&&"legacy-image-pyramid"===s.type||s.documentElement&&"legacy-image-pyramid"===s.documentElement.getAttribute("type")},configure:function(s,a){return e.isPlainObject(s)?o(this,s):r(this,s)},getLevelScale:function(s){var a=NaN;return this.levels.length>0&&s>=this.minLevel&&s<=this.maxLevel&&(a=this.levels[s].width/this.levels[this.maxLevel].width),a},getNumTiles:function(s){return this.getLevelScale(s)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(s,a,l){var u=null;return this.levels.length>0&&s>=this.minLevel&&s<=this.maxLevel&&(u=this.levels[s].url),u}})}(t),function(e){e.ImageTileSource=function(n){n=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},n),e.TileSource.apply(this,[n])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(n,r){return n.type&&"image"===n.type},configure:function(n,r){return n},getImageInfo:function(n){var r=this._image=new Image,o=this;this.crossOriginPolicy&&(r.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(r.useCredentials=this.ajaxWithCredentials),e.addEvent(r,"load",(function(){o.width=r.naturalWidth,o.height=r.naturalHeight,o.aspectRatio=o.width/o.height,o.dimensions=new e.Point(o.width,o.height),o._tileWidth=o.width,o._tileHeight=o.height,o.tileOverlap=0,o.minLevel=0,o.levels=o._buildLevels(),o.maxLevel=o.levels.length-1,o.ready=!0,o.raiseEvent("ready",{tileSource:o})})),e.addEvent(r,"error",(function(){o.raiseEvent("open-failed",{message:"Error loading image at "+n,source:n})})),r.src=n},getLevelScale:function(n){var r=NaN;return n>=this.minLevel&&n<=this.maxLevel&&(r=this.levels[n].width/this.levels[this.maxLevel].width),r},getNumTiles:function(n){return this.getLevelScale(n)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(n,r,o){var s=null;return n>=this.minLevel&&n<=this.maxLevel&&(s=this.levels[n].url),s},getContext2D:function(n,r,o){var s=null;return n>=this.minLevel&&n<=this.maxLevel&&(s=this.levels[n].context2D),s},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var n=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,n;var r=this._image.naturalWidth,o=this._image.naturalHeight,s=document.createElement("canvas"),a=s.getContext("2d");if(s.width=r,s.height=o,a.drawImage(this._image,0,0,r,o),n[0].context2D=a,delete this._image,e.isCanvasTainted(s))return n;for(;r>=2&&o>=2;){r=Math.floor(r/2),o=Math.floor(o/2);var l=document.createElement("canvas"),u=l.getContext("2d");l.width=r,l.height=o,u.drawImage(s,0,0,r,o),n.splice(0,0,{context2D:u,width:r,height:o}),s=l,a=u}return n},_freeupCanvasMemory:function(){for(var n=0;n<this.levels.length;n++)this.levels[n].context2D.canvas.height=0,this.levels[n].context2D.canvas.width=0}})}(t),function(e){e.TileSourceCollection=function(n,r,o,s){e.console.error("TileSourceCollection is deprecated; use World instead")}}(t),function(e){function n(u){e.requestAnimationFrame((function(){r(u)}))}function r(u){var d;u.shouldFade&&(d=1-(e.now()-u.fadeBeginTime)/u.fadeLength,d=Math.min(1,d),d=Math.max(0,d),u.imgGroup&&e.setElementOpacity(u.imgGroup,d,!0),d>0&&n(u))}function o(u){u.shouldFade=!0,u.fadeBeginTime=e.now()+u.fadeDelay,window.setTimeout((function(){n(u)}),u.fadeDelay)}function s(u){u.shouldFade=!1,u.imgGroup&&e.setElementOpacity(u.imgGroup,1,!0)}function a(u,c){u.element.disabled||(c>=e.ButtonState.GROUP&&u.currentState===e.ButtonState.REST&&(s(u),u.currentState=e.ButtonState.GROUP),c>=e.ButtonState.HOVER&&u.currentState===e.ButtonState.GROUP&&(u.imgHover&&(u.imgHover.style.visibility=""),u.currentState=e.ButtonState.HOVER),c>=e.ButtonState.DOWN&&u.currentState===e.ButtonState.HOVER&&(u.imgDown&&(u.imgDown.style.visibility=""),u.currentState=e.ButtonState.DOWN))}function l(u,c){u.element.disabled||(c<=e.ButtonState.HOVER&&u.currentState===e.ButtonState.DOWN&&(u.imgDown&&(u.imgDown.style.visibility="hidden"),u.currentState=e.ButtonState.HOVER),c<=e.ButtonState.GROUP&&u.currentState===e.ButtonState.HOVER&&(u.imgHover&&(u.imgHover.style.visibility="hidden"),u.currentState=e.ButtonState.GROUP),c<=e.ButtonState.REST&&u.currentState===e.ButtonState.GROUP&&(o(u),u.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(u){var c=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},u),this.element=u.element||e.makeNeutralElement("div"),u.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor===e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(h){h.insideElementPressed?(a(c,e.ButtonState.DOWN),c.raiseEvent("enter",{originalEvent:h.originalEvent})):h.buttonDownAny||a(c,e.ButtonState.HOVER)},focusHandler:function(h){c.tracker.enterHandler(h),c.raiseEvent("focus",{originalEvent:h.originalEvent})},leaveHandler:function(h){l(c,e.ButtonState.GROUP),h.insideElementPressed&&c.raiseEvent("exit",{originalEvent:h.originalEvent})},blurHandler:function(h){c.tracker.leaveHandler(h),c.raiseEvent("blur",{originalEvent:h.originalEvent})},pressHandler:function(h){a(c,e.ButtonState.DOWN),c.raiseEvent("press",{originalEvent:h.originalEvent})},releaseHandler:function(h){h.insideElementPressed&&h.insideElementReleased?(l(c,e.ButtonState.HOVER),c.raiseEvent("release",{originalEvent:h.originalEvent})):h.insideElementPressed?l(c,e.ButtonState.GROUP):a(c,e.ButtonState.HOVER)},clickHandler:function(h){h.quick&&c.raiseEvent("click",{originalEvent:h.originalEvent})},keyHandler:function(h){13===h.keyCode?(c.raiseEvent("click",{originalEvent:h.originalEvent}),c.raiseEvent("release",{originalEvent:h.originalEvent}),h.preventDefault=!0):h.preventDefault=!1}}),l(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){a(this,e.ButtonState.GROUP)},notifyGroupExit:function(){l(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(t),function(e){e.ButtonGroup=function(n){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},n);var s,r=this.buttons.concat([]),o=this;if(this.element=n.element||e.makeNeutralElement("div"),!n.group)for(this.element.style.display="inline-block",s=0;s<r.length;s++)this.element.appendChild(r[s].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(a){var l;for(l=0;l<o.buttons.length;l++)o.buttons[l].notifyGroupEnter()},leaveHandler:function(a){var l;if(!a.insideElementPressed)for(l=0;l<o.buttons.length;l++)o.buttons[l].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var n=this.buttons.pop();this.element.removeChild(n.element),n.destroy()}this.tracker.destroy(),this.element=null}}}(t),function(e){e.Rect=function(n,r,o,s,a){var l,u;this.x="number"==typeof n?n:0,this.y="number"==typeof r?r:0,this.width="number"==typeof o?o:0,this.height="number"==typeof s?s:0,this.degrees="number"==typeof a?a:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(l=this.getTopRight(),this.x=l.x,this.y=l.y,u=this.height,this.height=this.width,this.width=u,this.degrees-=270):this.degrees>=180?(l=this.getBottomRight(),this.x=l.x,this.y=l.y,this.degrees-=180):this.degrees>=90&&(l=this.getBottomLeft(),this.x=l.x,this.y=l.y,u=this.height,this.height=this.width,this.width=u,this.degrees-=90)},e.Rect.fromSummits=function(n,r,o){var s=n.distanceTo(r),a=n.distanceTo(o),l=r.minus(n),u=Math.atan(l.y/l.x);return l.x<0?u+=Math.PI:l.y<0&&(u+=2*Math.PI),new e.Rect(n.x,n.y,s,a,u/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(n){return n instanceof e.Rect&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height&&this.degrees===n.degrees},times:function(n){return new e.Rect(this.x*n,this.y*n,this.width*n,this.height*n,this.degrees)},translate:function(n){return new e.Rect(this.x+n.x,this.y+n.y,this.width,this.height,this.degrees)},union:function(n){var r=this.getBoundingBox(),o=n.getBoundingBox(),s=Math.min(r.x,o.x),a=Math.min(r.y,o.y),l=Math.max(r.x+r.width,o.x+o.width),u=Math.max(r.y+r.height,o.y+o.height);return new e.Rect(s,a,l-s,u-a)},intersection:function(n){var r=1e-10,o=[],s=this.getTopLeft();n.containsPoint(s,r)&&o.push(s);var a=this.getTopRight();n.containsPoint(a,r)&&o.push(a);var l=this.getBottomLeft();n.containsPoint(l,r)&&o.push(l);var u=this.getBottomRight();n.containsPoint(u,r)&&o.push(u);var c=n.getTopLeft();this.containsPoint(c,r)&&o.push(c);var h=n.getTopRight();this.containsPoint(h,r)&&o.push(h);var d=n.getBottomLeft();this.containsPoint(d,r)&&o.push(d);var g=n.getBottomRight();this.containsPoint(g,r)&&o.push(g);for(var y=this._getSegments(),x=n._getSegments(),b=0;b<y.length;b++)for(var T=y[b],f=0;f<x.length;f++){var E=x[f],A=C(T[0],T[1],E[0],E[1]);A&&o.push(A)}function C(V,K,Q,le){var re=K.minus(V),se=le.minus(Q),de=-se.x*re.y+re.x*se.y;if(0===de)return null;var pe=(re.x*(V.y-Q.y)-re.y*(V.x-Q.x))/de,G=(se.x*(V.y-Q.y)-se.y*(V.x-Q.x))/de;return-r<=pe&&pe<=1-r&&-r<=G&&G<=1-r?new e.Point(V.x+G*re.x,V.y+G*re.y):null}if(0===o.length)return null;for(var O=o[0].x,D=o[0].x,I=o[0].y,B=o[0].y,Z=1;Z<o.length;Z++){var Y=o[Z];Y.x<O&&(O=Y.x),Y.x>D&&(D=Y.x),Y.y<I&&(I=Y.y),Y.y>B&&(B=Y.y)}return new e.Rect(O,I,D-O,B-I)},_getSegments:function(){var n=this.getTopLeft(),r=this.getTopRight(),o=this.getBottomLeft(),s=this.getBottomRight();return[[n,r],[r,s],[s,o],[o,n]]},rotate:function(n,r){if(0===(n=e.positiveModulo(n,360)))return this.clone();r=r||this.getCenter();var o=this.getTopLeft().rotate(n,r),a=this.getTopRight().rotate(n,r).minus(o);a=a.apply((function(u){var c=1e-15;return Math.abs(u)<c?0:u}));var l=Math.atan(a.y/a.x);return a.x<0?l+=Math.PI:a.y<0&&(l+=2*Math.PI),new e.Rect(o.x,o.y,this.width,this.height,l/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var n=this.getTopLeft(),r=this.getTopRight(),o=this.getBottomLeft(),s=this.getBottomRight(),a=Math.min(n.x,r.x,o.x,s.x),l=Math.max(n.x,r.x,o.x,s.x),u=Math.min(n.y,r.y,o.y,s.y),c=Math.max(n.y,r.y,o.y,s.y);return new e.Rect(a,u,l-a,c-u)},getIntegerBoundingBox:function(){var n=this.getBoundingBox(),r=Math.floor(n.x),o=Math.floor(n.y),s=Math.ceil(n.width+n.x-r),a=Math.ceil(n.height+n.y-o);return new e.Rect(r,o,s,a)},containsPoint:function(n,r){r=r||0;var o=this.getTopLeft(),s=this.getTopRight(),a=this.getBottomLeft(),l=s.minus(o),u=a.minus(o);return(n.x-o.x)*l.x+(n.y-o.y)*l.y>=-r&&(n.x-s.x)*l.x+(n.y-s.y)*l.y<=r&&(n.x-o.x)*u.x+(n.y-o.y)*u.y>=-r&&(n.x-a.x)*u.x+(n.y-a.y)*u.y<=r},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(t),function(e){var n={};function r(d){var g;d.quick&&(g="horizontal"===this.scroll?Math.floor(d.position.x/this.panelWidth):Math.floor(d.position.y/this.panelHeight),this.viewer.goToPage(g)),this.element.focus()}function o(d){if(this.dragging=!0,this.element){var g=Number(this.element.style.marginLeft.replace("px","")),y=Number(this.element.style.marginTop.replace("px","")),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),T=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-d.delta.x>0?g>-(x-T.x)&&(this.element.style.marginLeft=g+2*d.delta.x+"px",a(this,T.x,g+2*d.delta.x)):-d.delta.x<0&&g<0&&(this.element.style.marginLeft=g+2*d.delta.x+"px",a(this,T.x,g+2*d.delta.x)):-d.delta.y>0?y>-(b-T.y)&&(this.element.style.marginTop=y+2*d.delta.y+"px",a(this,T.y,y+2*d.delta.y)):-d.delta.y<0&&y<0&&(this.element.style.marginTop=y+2*d.delta.y+"px",a(this,T.y,y+2*d.delta.y))}}function s(d){if(this.element){var g=Number(this.element.style.marginLeft.replace("px","")),y=Number(this.element.style.marginTop.replace("px","")),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),T=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?d.scroll>0?g>-(x-T.x)&&(this.element.style.marginLeft=g-60*d.scroll+"px",a(this,T.x,g-60*d.scroll)):d.scroll<0&&g<0&&(this.element.style.marginLeft=g-60*d.scroll+"px",a(this,T.x,g-60*d.scroll)):d.scroll<0?y>T.y-b&&(this.element.style.marginTop=y+60*d.scroll+"px",a(this,T.y,y+60*d.scroll)):d.scroll>0&&y<0&&(this.element.style.marginTop=y+60*d.scroll+"px",a(this,T.y,y+60*d.scroll)),d.preventDefault=!0}}function a(d,g,y){var x,b,T,f,E,A;for(x="horizontal"===d.scroll?d.panelWidth:d.panelHeight,b=Math.ceil(g/x)+5,E=b=(b=(T=Math.ceil((Math.abs(y)+g)/x)+1)-b)<0?0:b;E<T&&E<d.panels.length;E++)if(!(A=d.panels[E]).activePanel){var C,O=d.viewer.tileSources[E];C=O.referenceStripThumbnailUrl?{type:"image",url:O.referenceStripThumbnailUrl}:O,f=new e.Viewer({id:A.id,tileSources:[C],element:A,navigatorSizeRatio:d.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:d.viewer.loadTilesWithAjax,ajaxHeaders:d.viewer.ajaxHeaders,useCanvas:d.useCanvas}),e.setElementPointerEventsNone(f.canvas),e.setElementPointerEventsNone(f.container),f.innerTracker.setTracking(!1),f.outerTracker.setTracking(!1),d.miniViewers[A.id]=f,A.activePanel=!0}}function l(d){var g=d.eventSource.element;"horizontal"===this.scroll?g.style.marginBottom="0px":g.style.marginLeft="0px"}function u(d){var g=d.eventSource.element;"horizontal"===this.scroll?g.style.marginBottom="-"+e.getElementSize(g).y/2+"px":g.style.marginLeft="-"+e.getElementSize(g).x/2+"px"}function c(d){if(d.ctrl||d.alt||d.meta)d.preventDefault=!1;else switch(d.keyCode){case 38:case 39:s.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),d.preventDefault=!0;break;case 40:case 37:s.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),d.preventDefault=!0;break;default:d.preventDefault=!1}}function h(d){if(d.ctrl||d.alt||d.meta)d.preventDefault=!1;else switch(d.keyCode){case 61:case 48:case 119:case 87:case 100:s.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),d.preventDefault=!0;break;case 45:case 115:case 83:case 97:s.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),d.preventDefault=!0;break;default:d.preventDefault=!1}}e.ReferenceStrip=function(d){var b,T,f,g=this,y=d.viewer,x=e.getElementSize(y.element);for(d.id||(d.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=d.id,this.element.className="referencestrip"),d=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},d,{element:this.element}),e.extend(this,d),n[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(T=this.element.style).marginTop="0px",T.marginRight="0px",T.marginBottom="0px",T.marginLeft="0px",T.left="0px",T.bottom="0px",T.border="0px",T.background="#000",T.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=y,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,r),dragHandler:e.delegate(this,o),scrollHandler:e.delegate(this,s),enterHandler:e.delegate(this,l),leaveHandler:e.delegate(this,u),keyDownHandler:e.delegate(this,c),keyHandler:e.delegate(this,h),preProcessEventHandler:function(E){"wheel"===E.eventType&&(E.preventDefault=!0)}}),d.width&&d.height?(this.element.style.width=d.width+"px",this.element.style.height=d.height+"px",y.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===d.scroll?(this.element.style.width=x.x*d.sizeRatio*y.tileSources.length+12*y.tileSources.length+"px",this.element.style.height=x.y*d.sizeRatio+"px",y.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=x.y*d.sizeRatio*y.tileSources.length+12*y.tileSources.length+"px",this.element.style.width=x.x*d.sizeRatio+"px",y.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=x.x*this.sizeRatio+8,this.panelHeight=x.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},f=0;f<y.tileSources.length;f++)(b=e.makeNeutralElement("div")).id=this.element.id+"-"+f,b.style.width=g.panelWidth+"px",b.style.height=g.panelHeight+"px",b.style.display="inline",b.style.float="left",b.style.cssFloat="left",b.style.styleFloat="left",b.style.padding="2px",e.setElementTouchActionNone(b),e.setElementPointerEventsNone(b),this.element.appendChild(b),b.activePanel=!1,this.panels.push(b);a(this,"vertical"===this.scroll?x.y:x.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(d){var E,g=this.element.querySelector("#"+this.element.id+"-"+d),y=e.getElementSize(this.viewer.canvas),x=Number(this.element.style.width.replace("px","")),b=Number(this.element.style.height.replace("px","")),T=-Number(this.element.style.marginLeft.replace("px","")),f=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==g&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=g,this.currentSelected.style.background="#999","horizontal"===this.scroll?(E=Number(d)*(this.panelWidth+3))>T+y.x-this.panelWidth?(E=Math.min(E,x-y.x),this.element.style.marginLeft=-E+"px",a(this,y.x,-E)):E<T&&(E=Math.max(0,E-y.x/2),this.element.style.marginLeft=-E+"px",a(this,y.x,-E)):(E=Number(d)*(this.panelHeight+3))>f+y.y-this.panelHeight?(E=Math.min(E,b-y.y),this.element.style.marginTop=-E+"px",a(this,y.y,-E)):E<f&&(E=Math.max(0,E-y.y/2),this.element.style.marginTop=-E+"px",a(this,y.y,-E)),this.currentPage=d,l.call(this,{eventSource:this.tracker}))},update:function(){return!!n[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var d in this.miniViewers)this.miniViewers[d].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(t),function(e){e.DisplayRect=function(n,r,o,s,a,l){e.Rect.apply(this,[n,r,o,s]),this.minLevel=a,this.maxLevel=l},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(t),function(e){function n(r,o){return(1-Math.exp(r*-o))/(1-Math.exp(-r))}e.Spring=function(r){var o=arguments;"object"!=typeof r&&(r={initial:o.length&&"number"==typeof o[0]?o[0]:void 0,springStiffness:o.length>1?o[1].springStiffness:5,animationTime:o.length>1?o[1].animationTime:1.5}),e.console.assert("number"==typeof r.springStiffness&&0!==r.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof r.animationTime&&r.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),r.exponential&&(this._exponential=!0,delete r.exponential),e.extend(!0,this,r),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(r){e.console.assert(!this._exponential||0!==r,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=r,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(r){e.console.assert(!this._exponential||0!==r,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=r,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(r){this.start.value+=r,this.target.value+=r,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(r){this._exponential=r,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var r,o;this.current.time=e.now(),this._exponential?(r=this.start._logValue,o=this.target._logValue):(r=this.start.value,o=this.target.value);var s=this.current.time>=this.target.time?o:r+(o-r)*n(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),a=this.current.value;return this._exponential?this.current.value=Math.exp(s):this.current.value=s,a!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(t),function(e){function n(o){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},o),this.image=null}function r(o,s,a){o.jobsInProgress--,(!o.jobLimit||o.jobsInProgress<o.jobLimit)&&o.jobQueue.length>0&&(o.jobQueue.shift().start(),o.jobsInProgress++),a(s.image,s.errorMsg,s.request)}n.prototype={errorMsg:null,start:function(){var o=this,s=this.abort;this.image=new Image,this.image.onload=function(){o.finish(!0)},this.image.onabort=this.image.onerror=function(){o.errorMsg="Image load aborted",o.finish(!1)},this.jobId=window.setTimeout((function(){o.errorMsg="Image load exceeded timeout ("+o.timeout+" ms)",o.finish(!1)}),this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(a){var l;try{l=new window.Blob([a.response])}catch(d){var u=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===d.name&&u){var c=new u;c.append(a.response),l=c.getBlob()}}0===l.size&&(o.errorMsg="Empty image response.",o.finish(!1));var h=(window.URL||window.webkitURL).createObjectURL(l);o.image.src=h},error:function(a){o.errorMsg="Image load aborted - XHR error",o.finish(!1)}}),this.abort=function(){o.request.abort(),"function"==typeof s&&s()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(o){this.image.onload=this.image.onerror=this.image.onabort=null,o||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(o){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},o)},e.ImageLoader.prototype={addJob:function(o){var s=this,a=function(c){r(s,c,o.callback)},u=new n({src:o.src,loadWithAjax:o.loadWithAjax,ajaxHeaders:o.loadWithAjax?o.ajaxHeaders:null,crossOriginPolicy:o.crossOriginPolicy,ajaxWithCredentials:o.ajaxWithCredentials,callback:a,abort:o.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(u.start(),this.jobsInProgress++):this.jobQueue.push(u)},clear:function(){for(var o=0;o<this.jobQueue.length;o++){var s=this.jobQueue[o];"function"==typeof s.abort&&s.abort()}this.jobQueue=[]}}}(t),function(e){e.Tile=function(n,r,o,s,a,l,u,c,h,d){this.level=n,this.x=r,this.y=o,this.bounds=s,this.sourceBounds=d,this.exists=a,this.url=l,this.context2D=u,this.loadWithAjax=c,this.ajaxHeaders=h,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(n){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==n&&n.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(n,r,o,s){var u,c,h,a=this.position.times(e.pixelDensityRatio),l=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(u=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&u?(n.save(),n.globalAlpha=this.opacity,"number"==typeof o&&1!==o&&(a=a.times(o),l=l.times(o)),s instanceof e.Point&&(a=a.plus(s)),1===n.globalAlpha&&this._hasTransparencyChannel()&&n.clearRect(a.x,a.y,l.x,l.y),r({context:n,tile:this,rendered:u}),this.sourceBounds?(c=Math.min(this.sourceBounds.width,u.canvas.width),h=Math.min(this.sourceBounds.height,u.canvas.height)):(c=u.canvas.width,h=u.canvas.height),n.translate(a.x+l.x/2,0),this.flipped&&n.scale(-1,1),n.drawImage(u.canvas,0,0,c,h,-l.x/2,a.y,l.x,l.y),n.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var n;if(this.cacheImageRecord)n=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;n=this.context2D}return n.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(n,r,o){var s=Math.max(1,Math.ceil((o.x-r.x)/2)),a=Math.max(1,Math.ceil((o.y-r.y)/2));return new e.Point(s,a).minus(this.position.times(e.pixelDensityRatio).times(n||1).apply((function(l){return l%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(t),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(n,r,o){var s;s=e.isPlainObject(n)?n:{element:n,location:r,placement:o},this.element=s.element,this.style=s.element.style,this._init(s)},e.Overlay.prototype={_init:function(n){this.location=n.location,this.placement=void 0===n.placement?e.Placement.TOP_LEFT:n.placement,this.onDraw=n.onDraw,this.checkResize=void 0===n.checkResize||n.checkResize,this.width=void 0===n.width?null:n.width,this.height=void 0===n.height?null:n.height,this.rotationMode=n.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(n,r){var o=e.Placement.properties[this.placement];!o||(o.isHorizontallyCentered?n.x-=r.x/2:o.isRight&&(n.x-=r.x),o.isVerticallyCentered?n.y-=r.y/2:o.isBottom&&(n.y-=r.y))},destroy:function(){var n=this.element,r=this.style;n.parentNode&&(n.parentNode.removeChild(n),n.prevElementParent&&(r.display="none",document.body.appendChild(n))),this.onDraw=null,r.top="",r.left="",r.position="",null!==this.width&&(r.width=""),null!==this.height&&(r.height="");var o=e.getCssPropertyWithVendorPrefix("transformOrigin"),s=e.getCssPropertyWithVendorPrefix("transform");o&&s&&(r[o]="",r[s]="")},drawHTML:function(n,r){var o=this.element;o.parentNode!==n&&(o.prevElementParent=o.parentNode,o.prevNextSibling=o.nextSibling,n.appendChild(o),this.style.position="absolute",this.size=e.getElementSize(o));var s=this._getOverlayPositionAndSize(r),a=s.position,l=this.size=s.size,u=s.rotate;if(this.onDraw)this.onDraw(a,l,this.element);else{var c=this.style;c.left=a.x+"px",c.top=a.y+"px",null!==this.width&&(c.width=l.x+"px"),null!==this.height&&(c.height=l.y+"px");var h=e.getCssPropertyWithVendorPrefix("transformOrigin"),d=e.getCssPropertyWithVendorPrefix("transform");h&&d&&(u?(c[h]=this._getTransformOrigin(),c[d]="rotate("+u+"deg)"):(c[h]="",c[d]="")),c.display="block"}},_getOverlayPositionAndSize:function(n){var r=n.pixelFromPoint(this.location,!0),o=this._getSizeInPixels(n);this.adjust(r,o);var s=0;if(n.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var a=new e.Rect(r.x,r.y,o.x,o.y),l=this._getBoundingBox(a,n.degrees);r=l.getTopLeft(),o=l.getSize()}else s=n.degrees;return{position:r,size:o,rotate:s}},_getSizeInPixels:function(n){var r=this.size.x,o=this.size.y;if(null!==this.width||null!==this.height){var s=n.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(r=s.x),null!==this.height&&(o=s.y)}if(this.checkResize&&(null===this.width||null===this.height)){var a=this.size=e.getElementSize(this.element);null===this.width&&(r=a.x),null===this.height&&(o=a.y)}return new e.Point(r,o)},_getBoundingBox:function(n,r){var o=this._getPlacementPoint(n);return n.rotate(r,o).getBoundingBox()},_getPlacementPoint:function(n){var r=new e.Point(n.x,n.y),o=e.Placement.properties[this.placement];return o&&(o.isHorizontallyCentered?r.x+=n.width/2:o.isRight&&(r.x+=n.width),o.isVerticallyCentered?r.y+=n.height/2:o.isBottom&&(r.y+=n.height)),r},_getTransformOrigin:function(){var n="",r=e.Placement.properties[this.placement];return r&&(r.isLeft?n="left":r.isRight&&(n="right"),r.isTop?n+=" top":r.isBottom&&(n+=" bottom")),n},update:function(n,r){var o=e.isPlainObject(n)?n:{location:n,placement:r};this._init({location:o.location||this.location,placement:void 0!==o.placement?o.placement:this.placement,onDraw:o.onDraw||this.onDraw,checkResize:o.checkResize||this.checkResize,width:void 0!==o.width?o.width:this.width,height:void 0!==o.height?o.height:this.height,rotationMode:o.rotationMode||this.rotationMode})},getBounds:function(n){e.console.assert(n,"A viewport must now be passed to Overlay.getBounds.");var r=this.width,o=this.height;if(null===r||null===o){var s=n.deltaPointsFromPixelsNoRotate(this.size,!0);null===r&&(r=s.x),null===o&&(o=s.y)}var a=this.location.clone();return this.adjust(a,new e.Point(r,o)),this._adjustBoundsForRotation(n,new e.Rect(a.x,a.y,r,o))},_adjustBoundsForRotation:function(n,r){if(!n||0===n.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return r;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return r;var o=this._getOverlayPositionAndSize(n);return n.viewerElementToViewportRectangle(new e.Rect(o.position.x,o.position.y,o.size.x,o.size.y))}return r.rotate(-n.degrees,this._getPlacementPoint(r))}}}(t),function(e){e.Drawer=function(n){e.console.assert(n.viewer,"[Drawer] options.viewer is required");var r=arguments;if(e.isPlainObject(n)||(n={source:r[0],viewport:r[1],element:r[2]}),e.console.assert(n.viewport,"[Drawer] options.viewport is required"),e.console.assert(n.element,"[Drawer] options.element is required"),n.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=n.viewer,this.viewport=n.viewport,this.debugGridColor="string"==typeof n.debugGridColor?[n.debugGridColor]:n.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,n.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(n.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var o=this._calculateCanvasSize();this.canvas.width=o.x,this.canvas.height=o.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),e.setElementPointerEventsNone(this.canvas),e.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(n,r,o,s){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(n,r,o,s),this},updateOverlay:function(n,r,o){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(n,r,o),this},removeOverlay:function(n){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(n),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(n){var r=this.viewport.pixelFromPointNoRotate(n,!0);return new e.Point(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},clipWithPolygons:function(n,r){if(this.useCanvas){var o=this._getContext(r);o.beginPath(),n.forEach((function(s){s.forEach((function(a,l){o[0===l?"moveTo":"lineTo"](a.x,a.y)}))})),o.clip()}},setOpacity:function(n){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var r=this.viewer.world,o=0;o<r.getItemCount();o++)r.getItemAt(o).setOpacity(n);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var n=this.viewer.world,r=0,o=0;o<n.getItemCount();o++){var s=n.getItemAt(o).getOpacity();s>r&&(r=s)}return r},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var n=this._calculateCanvasSize();if((this.canvas.width!==n.x||this.canvas.height!==n.y)&&(this.canvas.width=n.x,this.canvas.height=n.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var r=this._calculateSketchCanvasSize();this.sketchCanvas.width=r.x,this.sketchCanvas.height=r.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(n,r){if(this.useCanvas){var o=this._getContext(n);if(r)o.clearRect(r.x,r.y,r.width,r.height);else{var s=o.canvas;o.clearRect(0,0,s.width,s.height)}}},viewportToDrawerRectangle:function(n){var r=this.viewport.pixelFromPointNoRotate(n.getTopLeft(),!0),o=this.viewport.deltaPixelsFromPointsNoRotate(n.getSize(),!0);return new e.Rect(r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio,o.x*e.pixelDensityRatio,o.y*e.pixelDensityRatio)},drawTile:function(n,r,o,s,a){if(e.console.assert(n,"[Drawer.drawTile] tile is required"),e.console.assert(r,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var l=this._getContext(o);s=s||1,n.drawCanvas(l,r,s,a)}else n.drawHTML(this.canvas)},_getContext:function(n){var r=this.context;if(n){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var o=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=o.x,this.sketchCanvas.height=o.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var s=this;this.viewer.addHandler("rotate",(function a(){if(0!==s.viewport.getRotation()){s.viewer.removeHandler("rotate",a);var l=s._calculateSketchCanvasSize();s.sketchCanvas.width=l.x,s.sketchCanvas.height=l.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}r=this.sketchContext}return r},saveContext:function(n){!this.useCanvas||this._getContext(n).save()},restoreContext:function(n){!this.useCanvas||this._getContext(n).restore()},setClip:function(n,r){if(this.useCanvas){var o=this._getContext(r);o.beginPath(),o.rect(n.x,n.y,n.width,n.height),o.clip()}},drawRectangle:function(n,r,o){if(this.useCanvas){var s=this._getContext(o);s.save(),s.fillStyle=r,s.fillRect(n.x,n.y,n.width,n.height),s.restore()}},blendSketch:function(n,r,o,s){var a=n;if(e.isPlainObject(a)||(a={opacity:n,scale:r,translate:o,compositeOperation:s}),this.useCanvas&&this.sketchCanvas){n=a.opacity,s=a.compositeOperation;var l=a.bounds;if(this.context.save(),this.context.globalAlpha=n,s&&(this.context.globalCompositeOperation=s),l)l.x<0&&(l.width+=l.x,l.x=0),l.x+l.width>this.canvas.width&&(l.width=this.canvas.width-l.x),l.y<0&&(l.height+=l.y,l.y=0),l.y+l.height>this.canvas.height&&(l.height=this.canvas.height-l.y),this.context.drawImage(this.sketchCanvas,l.x,l.y,l.width,l.height,l.x,l.y,l.width,l.height);else{r=a.scale||1;var u=(o=a.translate)instanceof e.Point?o:new e.Point(0,0),c=0,h=0;if(o){var d=this.sketchCanvas.width-this.canvas.width,g=this.sketchCanvas.height-this.canvas.height;c=Math.round(d/2),h=Math.round(g/2)}this.context.drawImage(this.sketchCanvas,u.x-c*r,u.y-h*r,(this.canvas.width+2*c)*r,(this.canvas.height+2*h)*r,-c,-h,this.canvas.width+2*c,this.canvas.height+2*h)}this.context.restore()}},drawDebugInfo:function(n,r,o,s){if(this.useCanvas){var a=this.viewer.world.getIndexOfItem(s)%this.debugGridColor.length,l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",l.strokeStyle=this.debugGridColor[a],l.fillStyle=this.debugGridColor[a],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),s.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:s.getRotation(!0),point:s.viewport.pixelFromPointNoRotate(s._getRotationPoint(!0),!0)}),0===s.viewport.degrees&&s.getRotation(!0)%360==0&&s._drawer.viewer.viewport.getFlip()&&s._drawer._flip(),l.strokeRect(n.position.x*e.pixelDensityRatio,n.position.y*e.pixelDensityRatio,n.size.x*e.pixelDensityRatio,n.size.y*e.pixelDensityRatio);var u=(n.position.x+n.size.x/2)*e.pixelDensityRatio,c=(n.position.y+n.size.y/2)*e.pixelDensityRatio;l.translate(u,c),l.rotate(Math.PI/180*-this.viewport.degrees),l.translate(-u,-c),0===n.x&&0===n.y&&(l.fillText("Zoom: "+this.viewport.getZoom(),n.position.x*e.pixelDensityRatio,(n.position.y-30)*e.pixelDensityRatio),l.fillText("Pan: "+this.viewport.getBounds().toString(),n.position.x*e.pixelDensityRatio,(n.position.y-20)*e.pixelDensityRatio)),l.fillText("Level: "+n.level,(n.position.x+10)*e.pixelDensityRatio,(n.position.y+20)*e.pixelDensityRatio),l.fillText("Column: "+n.x,(n.position.x+10)*e.pixelDensityRatio,(n.position.y+30)*e.pixelDensityRatio),l.fillText("Row: "+n.y,(n.position.x+10)*e.pixelDensityRatio,(n.position.y+40)*e.pixelDensityRatio),l.fillText("Order: "+o+" of "+r,(n.position.x+10)*e.pixelDensityRatio,(n.position.y+50)*e.pixelDensityRatio),l.fillText("Size: "+n.size.toString(),(n.position.x+10)*e.pixelDensityRatio,(n.position.y+60)*e.pixelDensityRatio),l.fillText("Position: "+n.position.toString(),(n.position.x+10)*e.pixelDensityRatio,(n.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),s.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===s.viewport.degrees&&s.getRotation(!0)%360==0&&s._drawer.viewer.viewport.getFlip()&&s._drawer._flip(),l.restore()}},debugRect:function(n){if(this.useCanvas){var r=this.context;r.save(),r.lineWidth=2*e.pixelDensityRatio,r.strokeStyle=this.debugGridColor[0],r.fillStyle=this.debugGridColor[0],r.strokeRect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,n.width*e.pixelDensityRatio,n.height*e.pixelDensityRatio),r.restore()}},setImageSmoothingEnabled:function(n){this.useCanvas&&(this._imageSmoothingEnabled=n,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(n){n.msImageSmoothingEnabled=this._imageSmoothingEnabled,n.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(n){var r=this._getContext(n).canvas;return new e.Point(r.width,r.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(n){var r=n.point?n.point.times(e.pixelDensityRatio):this.getCanvasCenter(),o=this._getContext(n.useSketch);o.save(),o.translate(r.x,r.y),this.viewer.viewport.flipped?(o.rotate(Math.PI/180*-n.degrees),o.scale(-1,1)):o.rotate(Math.PI/180*n.degrees),o.translate(-r.x,-r.y)},_flip:function(n){var r=(n=n||{}).point?n.point.times(e.pixelDensityRatio):this.getCanvasCenter(),o=this._getContext(n.useSketch);o.translate(r.x,0),o.scale(-1,1),o.translate(-r.x,0)},_restoreRotationChanges:function(n){this._getContext(n).restore()},_calculateCanvasSize:function(){var n=e.pixelDensityRatio,r=this.viewport.getContainerSize();return{x:Math.round(r.x*n),y:Math.round(r.y*n)}},_calculateSketchCanvasSize:function(){var n=this._calculateCanvasSize();if(0===this.viewport.getRotation())return n;var r=Math.ceil(Math.sqrt(n.x*n.x+n.y*n.y));return{x:r,y:r}}}}(t),function(e){e.Viewport=function(n){var r=arguments;r.length&&r[0]instanceof e.Point&&(n={containerSize:r[0],contentSize:r[1],config:r[2]}),n.config&&(e.extend(!0,n,n.config),delete n.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},n.margins||{}),delete n.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},n),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(n){return e.console.assert(n,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(n instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(n.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(n.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,n.y/n.x),n.x),this},setHomeBounds:function(n,r){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(n,r)},_setContentBounds:function(n,r){e.console.assert(n,"[Viewport._setContentBounds] bounds is required"),e.console.assert(n instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(n.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(n.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=n.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(r),this._contentBounds=n.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(r),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:r,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var n=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?n>=1?n:1:n>=1?1:n)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var n=this._contentBounds.getCenter(),r=1/this.getHomeZoom(),o=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-o/2,r,o)},goHome:function(n){return this.viewer&&this.viewer.raiseEvent("home",{immediately:n}),this.fitBounds(this.getHomeBounds(),n)},getMinZoom:function(){var n=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*n},getMaxZoom:function(){var n=this.maxZoomLevel;return n||(n=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,n/=this._contentBounds.width),Math.max(n,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(n){e.console.assert("object"===e.type(n),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},n),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(n){return this.getBoundsNoRotate(n).rotate(-this.getRotation())},getBoundsNoRotate:function(n){var r=this.getCenter(n),o=1/this.getZoom(n),s=o/this.getAspectRatio();return new e.Rect(r.x-o/2,r.y-s/2,o,s)},getBoundsWithMargins:function(n){return this.getBoundsNoRotateWithMargins(n).rotate(-this.getRotation(),this.getCenter(n))},getBoundsNoRotateWithMargins:function(n){var r=this.getBoundsNoRotate(n),o=this._containerInnerSize.x*this.getZoom(n);return r.x-=this._margins.left/o,r.y-=this._margins.top/o,r.width+=(this._margins.left+this._margins.right)/o,r.height+=(this._margins.top+this._margins.bottom)/o,r},getCenter:function(n){var s,a,l,u,c,g,r=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),o=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return n?r:this.zoomPoint?(s=this.pixelFromPoint(this.zoomPoint,!0),u=(l=1/(a=this.getZoom()))/this.getAspectRatio(),c=new e.Rect(r.x-l/2,r.y-u/2,l,u),g=this._pixelFromPoint(this.zoomPoint,c).minus(s).divide(this._containerInnerSize.x*a),o.plus(g)):o},getZoom:function(n){return n?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(n){return Math.max(Math.min(n,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(n){var r=new e.Rect(n.x,n.y,n.width,n.height);if(!this.wrapHorizontal){var o=this.visibilityRatio*r.width,s=r.x+r.width,a=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,l=this._contentBoundsNoRotate.x-s+o,u=a-r.x-o;o>this._contentBoundsNoRotate.width?r.x+=(l+u)/2:u<0?r.x+=u:l>0&&(r.x+=l)}if(!this.wrapVertical){var c=this.visibilityRatio*r.height,h=r.y+r.height,d=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,g=this._contentBoundsNoRotate.y-h+c,y=d-r.y-c;c>this._contentBoundsNoRotate.height?r.y+=(g+y)/2:y<0?r.y+=y:g>0&&(r.y+=g)}return r},_raiseConstraintsEvent:function(n){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n})},applyConstraints:function(n){var r=this.getZoom(),o=this._applyZoomConstraints(r);r!==o&&this.zoomTo(o,this.zoomPoint,n);var s=this.getBoundsNoRotate(),a=this._applyBoundaryConstraints(s);return this._raiseConstraintsEvent(n),(s.x!==a.x||s.y!==a.y||n)&&this.fitBounds(a.rotate(-this.getRotation()),n),this},ensureVisible:function(n){return this.applyConstraints(n)},_fitBounds:function(n,r){var o=(r=r||{}).immediately||!1,s=r.constraints||!1,a=this.getAspectRatio(),l=n.getCenter(),u=new e.Rect(n.x,n.y,n.width,n.height,n.degrees+this.getRotation()).getBoundingBox();u.getAspectRatio()>=a?u.height=u.width/a:u.width=u.height*a,u.x=l.x-u.width/2,u.y=l.y-u.height/2;var c=1/u.width;if(s){var h=u.getAspectRatio(),d=this._applyZoomConstraints(c);c!==d&&(c=d,u.width=1/c,u.x=l.x-u.width/2,u.height=u.width/h,u.y=l.y-u.height/2),l=(u=this._applyBoundaryConstraints(u)).getCenter(),this._raiseConstraintsEvent(o)}if(o)return this.panTo(l,!0),this.zoomTo(c,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var g=this.getBounds(),y=this.getZoom();if(0===y||Math.abs(c/y-1)<1e-8)return this.zoomTo(c,!0),this.panTo(l,o);var x=(u=u.rotate(-this.getRotation())).getTopLeft().times(c).minus(g.getTopLeft().times(y)).divide(c-y);return this.zoomTo(c,x,o)},fitBounds:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!1})},fitBoundsWithConstraints:function(n,r){return this._fitBounds(n,{immediately:r,constraints:!0})},fitVertically:function(n){var r=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(r,n)},fitHorizontally:function(n){var r=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(r,n)},getConstrainedBounds:function(n){var r;return r=this.getBounds(n),this._applyBoundaryConstraints(r)},panBy:function(n,r){var o=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(o.plus(n),r)},panTo:function(n,r){return r?(this.centerSpringX.resetTo(n.x),this.centerSpringY.resetTo(n.y)):(this.centerSpringX.springTo(n.x),this.centerSpringY.springTo(n.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:n,immediately:r}),this},zoomBy:function(n,r,o){return this.zoomTo(this.zoomSpring.target.value*n,r,o)},zoomTo:function(n,r,o){var s=this;return this.zoomPoint=r instanceof e.Point&&!isNaN(r.x)&&!isNaN(r.y)?r:null,o?this._adjustCenterSpringsForZoomPoint((function(){s.zoomSpring.resetTo(n)})):this.zoomSpring.springTo(n),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:n,refPoint:r,immediately:o}),this},setRotation:function(n){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(n,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:n}),this):this},getRotation:function(){return this.degrees},resize:function(n,r){var a,o=this.getBoundsNoRotate(),s=o;return this.containerSize.x=n.x,this.containerSize.y=n.y,this._updateContainerInnerSize(),r&&(a=n.x/this.containerSize.x,s.width=o.width*a,s.height=s.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:n,maintain:r}),this.fitBounds(s,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var n=this;this._adjustCenterSpringsForZoomPoint((function(){n.zoomSpring.update()})),this.centerSpringX.update(),this.centerSpringY.update();var r=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,r},_adjustCenterSpringsForZoomPoint:function(n){if(this.zoomPoint){var r=this.pixelFromPoint(this.zoomPoint,!0);n();var s=this.pixelFromPoint(this.zoomPoint,!0).minus(r),a=this.deltaPointsFromPixels(s,!0);this.centerSpringX.shiftBy(a.x),this.centerSpringY.shiftBy(a.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else n()},deltaPixelsFromPointsNoRotate:function(n,r){return n.times(this._containerInnerSize.x*this.getZoom(r))},deltaPixelsFromPoints:function(n,r){return this.deltaPixelsFromPointsNoRotate(n.rotate(this.getRotation()),r)},deltaPointsFromPixelsNoRotate:function(n,r){return n.divide(this._containerInnerSize.x*this.getZoom(r))},deltaPointsFromPixels:function(n,r){return this.deltaPointsFromPixelsNoRotate(n,r).rotate(-this.getRotation())},pixelFromPointNoRotate:function(n,r){return this._pixelFromPointNoRotate(n,this.getBoundsNoRotate(r))},pixelFromPoint:function(n,r){return this._pixelFromPoint(n,this.getBoundsNoRotate(r))},_pixelFromPointNoRotate:function(n,r){return n.minus(r.getTopLeft()).times(this._containerInnerSize.x/r.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(n,r){return this._pixelFromPointNoRotate(n.rotate(this.getRotation(),this.getCenter(!0)),r)},pointFromPixelNoRotate:function(n,r){var o=this.getBoundsNoRotate(r);return n.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/o.width).plus(o.getTopLeft())},pointFromPixel:function(n,r){return this.pointFromPixelNoRotate(n,r).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(n,r){var o=this._contentBoundsNoRotate.width;return new e.Point(n*this._contentSizeNoRotate.x/o,r*this._contentSizeNoRotate.x/o)},viewportToImageCoordinates:function(n,r){if(n instanceof e.Point)return this.viewportToImageCoordinates(n.x,n.y);if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===o)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(n,r,!0)}return this._viewportToImageDelta(n-this._contentBoundsNoRotate.x,r-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(n,r){var o=this._contentBoundsNoRotate.width;return new e.Point(n/this._contentSizeNoRotate.x*o,r/this._contentSizeNoRotate.x*o)},imageToViewportCoordinates:function(n,r){if(n instanceof e.Point)return this.imageToViewportCoordinates(n.x,n.y);if(this.viewer){var o=this.viewer.world.getItemCount();if(o>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===o)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(n,r,!0)}var a=this._imageToViewportDelta(n,r);return a.x+=this._contentBoundsNoRotate.x,a.y+=this._contentBoundsNoRotate.y,a},imageToViewportRectangle:function(n,r,o,s){var a=n;if(a instanceof e.Rect||(a=new e.Rect(n,r,o,s)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===l)return this.viewer.world.getItemAt(0).imageToViewportRectangle(n,r,o,s,!0)}var c=this.imageToViewportCoordinates(a.x,a.y),h=this._imageToViewportDelta(a.width,a.height);return new e.Rect(c.x,c.y,h.x,h.y,a.degrees)},viewportToImageRectangle:function(n,r,o,s){var a=n;if(a instanceof e.Rect||(a=new e.Rect(n,r,o,s)),this.viewer){var l=this.viewer.world.getItemCount();if(l>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===l)return this.viewer.world.getItemAt(0).viewportToImageRectangle(n,r,o,s,!0)}var c=this.viewportToImageCoordinates(a.x,a.y),h=this._viewportToImageDelta(a.width,a.height);return new e.Rect(c.x,c.y,h.x,h.y,a.degrees)},viewerElementToImageCoordinates:function(n){var r=this.pointFromPixel(n,!0);return this.viewportToImageCoordinates(r)},imageToViewerElementCoordinates:function(n){var r=this.imageToViewportCoordinates(n);return this.pixelFromPoint(r,!0)},windowToImageCoordinates:function(n){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var r=n.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(r)},imageToWindowCoordinates:function(n){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(n).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(n){return this.pointFromPixel(n,!0)},viewportToViewerElementCoordinates:function(n){return this.pixelFromPoint(n,!0)},viewerElementToViewportRectangle:function(n){return e.Rect.fromSummits(this.pointFromPixel(n.getTopLeft(),!0),this.pointFromPixel(n.getTopRight(),!0),this.pointFromPixel(n.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(n){return e.Rect.fromSummits(this.pixelFromPoint(n.getTopLeft(),!0),this.pixelFromPoint(n.getTopRight(),!0),this.pixelFromPoint(n.getBottomLeft(),!0))},windowToViewportCoordinates:function(n){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var r=n.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(r)},viewportToWindowCoordinates:function(n){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(n).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===r)return this.viewer.world.getItemAt(0).viewportToImageZoom(n)}var s=this._contentSizeNoRotate.x;return n*(this._containerInnerSize.x/s*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(n){if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===r)return this.viewer.world.getItemAt(0).imageToViewportZoom(n)}return n*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(n){return this.flipped===n||(this.flipped=n,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:n})),this}}}(t),function(e){function n(f,E,A,C,O,D,I,B,Z){var Y=I.getBoundingBox().getTopLeft(),V=I.getBoundingBox().getBottomRight();f.viewer&&f.viewer.raiseEvent("update-level",{tiledImage:f,havedrawn:E,level:C,opacity:O,visibility:D,drawArea:I,topleft:Y,bottomright:V,currenttime:B,best:Z}),y(f.coverage,C),y(f.loadingCoverage,C);var K=f._getCornerTiles(C,Y,V),Q=K.topLeft,le=K.bottomRight,re=f.source.getNumTiles(C),se=f.viewport.pixelFromPoint(f.viewport.getCenter());f.getFlip()&&(le.x+=1,f.wrapHorizontal||(le.x=Math.min(le.x,re.x-1)));for(var de=Q.x;de<=le.x;de++)for(var pe=Q.y;pe<=le.y;pe++){var G;if(f.getFlip()){var Me=(re.x+de%re.x)%re.x;G=de+re.x-Me-Me-1}else G=de;null!==I.intersection(f.getTileBounds(C,G,pe))&&(Z=r(f,A,E,G,pe,C,O,D,se,re,B,Z))}return Z}function r(f,E,A,C,O,D,I,B,Z,Y,V,K){var Q=o(C,O,D,f,f.source,f.tilesMatrix,V,Y,f._worldWidthCurrent,f._worldHeightCurrent),le=A;f.viewer&&f.viewer.raiseEvent("update-tile",{tiledImage:f,tile:Q}),g(f.coverage,D,C,O,!1);var re=Q.loaded||Q.loading||d(f.loadingCoverage,D,C,O);if(g(f.loadingCoverage,D,C,O,re),!Q.exists||(E&&!le&&(d(f.coverage,D,C,O)?g(f.coverage,D,C,O,!0):le=!0),!le))return K;if(u(Q,f.source.tileOverlap,f.viewport,Z,B,f),!Q.loaded)if(Q.context2D)l(f,Q);else{var se=f._tileCache.getImageRecord(Q.cacheKey);se&&l(f,Q,se.getImage())}return Q.loaded?c(f,Q,C,O,D,I,V)&&(f._needsDraw=!0):Q.loading?f._tilesLoading++:re||(K=x(K,Q)),K}function o(f,E,A,C,O,D,I,B,Z,Y){var V,K,Q,le,re,se,de,pe,G;return D[A]||(D[A]={}),D[A][f]||(D[A][f]={}),(!D[A][f][E]||!D[A][f][E].flipped!=!C.flipped)&&(V=(B.x+f%B.x)%B.x,K=(B.y+E%B.y)%B.y,Q=C.getTileBounds(A,f,E),le=O.getTileBounds(A,V,K,!0),re=O.tileExists(A,V,K),se=O.getTileUrl(A,V,K),C.loadTilesWithAjax?(de=O.getTileAjaxHeaders(A,V,K),e.isPlainObject(C.ajaxHeaders)&&(de=e.extend({},C.ajaxHeaders,de))):de=null,pe=O.getContext2D?O.getContext2D(A,V,K):void 0,G=new e.Tile(A,f,E,Q,re,se,pe,C.loadTilesWithAjax,de,le),C.getFlip()?0===V&&(G.isRightMost=!0):V===B.x-1&&(G.isRightMost=!0),K===B.y-1&&(G.isBottomMost=!0),G.flipped=C.flipped,D[A][f][E]=G),(G=D[A][f][E]).lastTouchTime=I,G}function s(f,E,A){E.loading=!0,f._imageLoader.addJob({src:E.url,loadWithAjax:E.loadWithAjax,ajaxHeaders:E.ajaxHeaders,crossOriginPolicy:f.crossOriginPolicy,ajaxWithCredentials:f.ajaxWithCredentials,callback:function(C,O,D){a(f,E,A,C,O,D)},abort:function(){E.loading=!1}})}function a(f,E,A,C,O,D){if(!C)return e.console.log("Tile %s failed to load: %s - error: %s",E,E.url,O),f.viewer.raiseEvent("tile-load-failed",{tile:E,tiledImage:f,time:A,message:O,tileRequest:D}),E.loading=!1,void(E.exists=!1);if(A<f.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",E,E.url),void(E.loading=!1);var I=function(){var B=f.source.getClosestLevel();l(f,E,C,B,D)};f._midDraw?window.setTimeout(I,1):I()}function l(f,E,A,C,O){var D=0;function I(){return D++,B}function B(){0==--D&&(E.loading=!1,E.loaded=!0,E.context2D||f._tileCache.cacheTile({image:A,tile:E,cutoff:C,tiledImage:f}),f._needsDraw=!0)}f.viewer.raiseEvent("tile-loaded",{tile:E,tiledImage:f,tileRequest:O,image:A,getCompletionCallback:I}),I()()}function u(f,E,A,C,O,D){var I=f.bounds.getTopLeft();I.x*=D._scaleSpring.current.value,I.y*=D._scaleSpring.current.value,I.x+=D._xSpring.current.value,I.y+=D._ySpring.current.value;var B=f.bounds.getSize();B.x*=D._scaleSpring.current.value,B.y*=D._scaleSpring.current.value;var Z=A.pixelFromPointNoRotate(I,!0),Y=A.pixelFromPointNoRotate(I,!1),V=A.deltaPixelsFromPointsNoRotate(B,!0),K=A.deltaPixelsFromPointsNoRotate(B,!1),Q=Y.plus(K.divide(2)),le=C.squaredDistanceTo(Q);E||(V=V.plus(new e.Point(1,1))),f.isRightMost&&D.wrapHorizontal&&(V.x+=.75),f.isBottomMost&&D.wrapVertical&&(V.y+=.75),f.position=Z,f.size=V,f.squaredDistance=le,f.visibility=O}function c(f,E,A,C,O,D,I){var Z,Y,B=1e3*f.blendTime;if(E.blendStart||(E.blendStart=I),Z=I-E.blendStart,Y=B?Math.min(1,Z/B):1,f.alwaysBlend&&(Y*=D),E.opacity=Y,f.lastDrawn.push(E),1===Y)g(f.coverage,O,A,C,!0),f._hasOpaqueTile=!0;else if(Z<B)return!0;return!1}function h(f,E,A,C){var O,D,I,B;if(!f[E])return!1;if(void 0===A||void 0===C){for(I in O=f[E])if(Object.prototype.hasOwnProperty.call(O,I))for(B in D=O[I])if(Object.prototype.hasOwnProperty.call(D,B)&&!D[B])return!1;return!0}return void 0===f[E][A]||void 0===f[E][A][C]||!0===f[E][A][C]}function d(f,E,A,C){return void 0===A||void 0===C?h(f,E+1):h(f,E+1,2*A,2*C)&&h(f,E+1,2*A,2*C+1)&&h(f,E+1,2*A+1,2*C)&&h(f,E+1,2*A+1,2*C+1)}function g(f,E,A,C,O){f[E]?(f[E][A]||(f[E][A]={}),f[E][A][C]=O):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",E)}function y(f,E){f[E]={}}function x(f,E){return!f||E.visibility>f.visibility||E.visibility===f.visibility&&E.squaredDistance<f.squaredDistance?E:f}function b(f,E){if(0!==f.opacity&&(0!==E.length||f.placeholderFillStyle)){var C,A=E[0];A&&(C=f.opacity<1||f.compositeOperation&&"source-over"!==f.compositeOperation||!f._isBottomItem()&&A._hasTransparencyChannel());var O,D,Z,I=f.viewport.getZoom(!0),B=f.viewportToImageZoom(I);E.length>1&&B>f.smoothTileEdgesMinZoom&&!f.iOSDevice&&f.getRotation(!0)%360==0&&e.supportsCanvas&&(C=!0,O=A.getScaleForEdgeSmoothing(),D=A.getTranslationForEdgeSmoothing(O,f._drawer.getCanvasSize(!1),f._drawer.getCanvasSize(!0))),C&&(O||(Z=f.viewport.viewportToViewerElementRectangle(f.getClippedBounds(!0)).getIntegerBoundingBox(),f._drawer.viewer.viewport.getFlip()&&(0!==f.viewport.degrees||f.getRotation(!0)%360!=0)&&(Z.x=f._drawer.viewer.container.clientWidth-(Z.x+Z.width)),Z=Z.times(e.pixelDensityRatio)),f._drawer._clear(!0,Z)),O||(0!==f.viewport.degrees&&f._drawer._offsetForRotation({degrees:f.viewport.degrees,useSketch:C}),f.getRotation(!0)%360!=0&&f._drawer._offsetForRotation({degrees:f.getRotation(!0),point:f.viewport.pixelFromPointNoRotate(f._getRotationPoint(!0),!0),useSketch:C}),0===f.viewport.degrees&&f.getRotation(!0)%360==0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip());var Y=!1;if(f._clip){f._drawer.saveContext(C);var V=f.imageToViewportRectangle(f._clip,!0);V=V.rotate(-f.getRotation(!0),f._getRotationPoint(!0));var K=f._drawer.viewportToDrawerRectangle(V);O&&(K=K.times(O)),D&&(K=K.translate(D)),f._drawer.setClip(K,C),Y=!0}if(f._croppingPolygons){f._drawer.saveContext(C);try{var Q=f._croppingPolygons.map((function(de){return de.map((function(pe){var G=f.imageToViewportCoordinates(pe.x,pe.y,!0).rotate(-f.getRotation(!0),f._getRotationPoint(!0)),Me=f._drawer.viewportCoordToDrawerCoord(G);return O&&(Me=Me.times(O)),Me}))}));f._drawer.clipWithPolygons(Q,C)}catch(de){e.console.error(de)}Y=!0}if(f.placeholderFillStyle&&!1===f._hasOpaqueTile){var le=f._drawer.viewportToDrawerRectangle(f.getBounds(!0));O&&(le=le.times(O)),D&&(le=le.translate(D));var re=null;re="function"==typeof f.placeholderFillStyle?f.placeholderFillStyle(f,f._drawer.context):f.placeholderFillStyle,f._drawer.drawRectangle(le,re,C)}for(var se=E.length-1;se>=0;se--)A=E[se],f._drawer.drawTile(A,f._drawingHandler,C,O,D),A.beingDrawn=!0,f.viewer&&f.viewer.raiseEvent("tile-drawn",{tiledImage:f,tile:A});Y&&f._drawer.restoreContext(C),O||(f.getRotation(!0)%360!=0&&f._drawer._restoreRotationChanges(C),0!==f.viewport.degrees&&f._drawer._restoreRotationChanges(C)),C&&(O&&(0!==f.viewport.degrees&&f._drawer._offsetForRotation({degrees:f.viewport.degrees,useSketch:!1}),f.getRotation(!0)%360!=0&&f._drawer._offsetForRotation({degrees:f.getRotation(!0),point:f.viewport.pixelFromPointNoRotate(f._getRotationPoint(!0),!0),useSketch:!1})),f._drawer.blendSketch({opacity:f.opacity,scale:O,translate:D,compositeOperation:f.compositeOperation,bounds:Z}),O&&(f.getRotation(!0)%360!=0&&f._drawer._restoreRotationChanges(!1),0!==f.viewport.degrees&&f._drawer._restoreRotationChanges(!1))),O||0===f.viewport.degrees&&f.getRotation(!0)%360==0&&f._drawer.viewer.viewport.getFlip()&&f._drawer._flip(),T(f,E)}}function T(f,E){if(f.debugMode)for(var A=E.length-1;A>=0;A--){var C=E[A];try{f._drawer.drawDebugInfo(C,E.length,A,f)}catch(O){e.console.error(O)}}}e.TiledImage=function(f){var E=this;e.console.assert(f.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(f.drawer,"[TiledImage] options.drawer is required"),e.console.assert(f.viewer,"[TiledImage] options.viewer is required"),e.console.assert(f.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(f.source,"[TiledImage] options.source is required"),e.console.assert(!f.clip||f.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=f.tileCache,delete f.tileCache,this._drawer=f.drawer,delete f.drawer,this._imageLoader=f.imageLoader,delete f.imageLoader,f.clip instanceof e.Rect&&(this._clip=f.clip.clone()),delete f.clip;var A=f.x||0;delete f.x;var C=f.y||0;delete f.y,this.normHeight=f.source.dimensions.y/f.source.dimensions.x,this.contentAspectX=f.source.dimensions.x/f.source.dimensions.y;var O=1;f.width?(O=f.width,delete f.width,f.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete f.height)):f.height&&(O=f.height/this.normHeight,delete f.height);var D=f.fitBounds;delete f.fitBounds;var I=f.fitBoundsPlacement||t.Placement.CENTER;delete f.fitBoundsPlacement;var B=f.degrees||0;delete f.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},f),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:A,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:C,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:O,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:B,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),D&&this.fitBounds(D,I,!0),this._drawingHandler=function(Z){E.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:E},Z))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(f){f!==this._fullyLoaded&&(this._fullyLoaded=f,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var f=this._xSpring.update(),E=this._ySpring.update(),A=this._scaleSpring.update(),C=this._degreesSpring.update();return!!(f||E||A||C)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(f){return this.getBoundsNoRotate(f).rotate(this.getRotation(f),this._getRotationPoint(f))},getBoundsNoRotate:function(f){return f?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(f){var E=this.getBoundsNoRotate(f);if(this._clip){var C=(f?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,O=this._clip.times(C);E=new e.Rect(E.x+O.x,E.y+O.y,O.width,O.height)}return E.rotate(this.getRotation(f),this._getRotationPoint(f))},getTileBounds:function(f,E,A){var C=this.source.getNumTiles(f),O=(C.x+E%C.x)%C.x,D=(C.y+A%C.y)%C.y,I=this.source.getTileBounds(f,O,D);return this.getFlip()&&(I.x=1-I.x-I.width),I.x+=(E-O)/C.x,I.y+=this._worldHeightCurrent/this._worldWidthCurrent*((A-D)/C.y),I},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var f=this.imageToWindowCoordinates(new e.Point(0,0)),E=this.imageToWindowCoordinates(this.getContentSize());return new e.Point(E.x-f.x,E.y-f.y)},_viewportToImageDelta:function(f,E,A){var C=A?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(f*(this.source.dimensions.x/C),E*(this.source.dimensions.y*this.contentAspectX/C))},viewportToImageCoordinates:function(f,E,A){var C;return f instanceof e.Point?(A=E,C=f):C=new e.Point(f,E),C=C.rotate(-this.getRotation(A),this._getRotationPoint(A)),A?this._viewportToImageDelta(C.x-this._xSpring.current.value,C.y-this._ySpring.current.value):this._viewportToImageDelta(C.x-this._xSpring.target.value,C.y-this._ySpring.target.value)},_imageToViewportDelta:function(f,E,A){var C=A?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(f/this.source.dimensions.x*C,E/this.source.dimensions.y/this.contentAspectX*C)},imageToViewportCoordinates:function(f,E,A){f instanceof e.Point&&(A=E,E=f.y,f=f.x);var C=this._imageToViewportDelta(f,E);return A?(C.x+=this._xSpring.current.value,C.y+=this._ySpring.current.value):(C.x+=this._xSpring.target.value,C.y+=this._ySpring.target.value),C.rotate(this.getRotation(A),this._getRotationPoint(A))},imageToViewportRectangle:function(f,E,A,C,O){var D=f;D instanceof e.Rect?O=E:D=new e.Rect(f,E,A,C);var I=this.imageToViewportCoordinates(D.getTopLeft(),O),B=this._imageToViewportDelta(D.width,D.height,O);return new e.Rect(I.x,I.y,B.x,B.y,D.degrees+this.getRotation(O))},viewportToImageRectangle:function(f,E,A,C,O){var D=f;f instanceof e.Rect?O=E:D=new e.Rect(f,E,A,C);var I=this.viewportToImageCoordinates(D.getTopLeft(),O),B=this._viewportToImageDelta(D.width,D.height,O);return new e.Rect(I.x,I.y,B.x,B.y,D.degrees-this.getRotation(O))},viewerElementToImageCoordinates:function(f){var E=this.viewport.pointFromPixel(f,!0);return this.viewportToImageCoordinates(E)},imageToViewerElementCoordinates:function(f){var E=this.imageToViewportCoordinates(f);return this.viewport.pixelFromPoint(E,!0)},windowToImageCoordinates:function(f){var E=f.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(E)},imageToWindowCoordinates:function(f){return this.imageToViewerElementCoordinates(f).plus(t.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(f){var E=this._scaleSpring.current.value;return f=f.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((f.x-this._xSpring.current.value)/E,(f.y-this._ySpring.current.value)/E,f.width/E,f.height/E,f.degrees)},viewportToImageZoom:function(f){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*f},imageToViewportZoom:function(f){return f/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(f,E){var A=this._xSpring.target.value===f.x&&this._ySpring.target.value===f.y;if(E){if(A&&this._xSpring.current.value===f.x&&this._ySpring.current.value===f.y)return;this._xSpring.resetTo(f.x),this._ySpring.resetTo(f.y),this._needsDraw=!0}else{if(A)return;this._xSpring.springTo(f.x),this._ySpring.springTo(f.y),this._needsDraw=!0}A||this._raiseBoundsChange()},setWidth:function(f,E){this._setScale(f,E)},setHeight:function(f,E){this._setScale(f/this.normHeight,E)},setCroppingPolygons:function(f){var E=function(C){return C instanceof e.Point||"number"==typeof C.x&&"number"==typeof C.y},A=function(C){return C.map((function(O){try{if(E(O))return{x:O.x,y:O.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!e.isArray(f))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=f.map((function(C){return A(C)}))}catch(C){e.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),e.console.error(C),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(f,E,A){E=E||e.Placement.CENTER;var C=e.Placement.properties[E],O=this.contentAspectX,D=0,I=0,B=1,Z=1;if(this._clip&&(O=this._clip.getAspectRatio(),B=this._clip.width/this.source.dimensions.x,Z=this._clip.height/this.source.dimensions.y,f.getAspectRatio()>O?(D=this._clip.x/this._clip.height*f.height,I=this._clip.y/this._clip.height*f.height):(D=this._clip.x/this._clip.width*f.width,I=this._clip.y/this._clip.width*f.width)),f.getAspectRatio()>O){var Y=f.height/Z,V=0;C.isHorizontallyCentered?V=(f.width-f.height*O)/2:C.isRight&&(V=f.width-f.height*O),this.setPosition(new e.Point(f.x-D+V,f.y-I),A),this.setHeight(Y,A)}else{var K=f.width/B,Q=0;C.isVerticallyCentered?Q=(f.height-f.width/O)/2:C.isBottom&&(Q=f.height-f.width/O),this.setPosition(new e.Point(f.x-D,f.y-I+Q),A),this.setWidth(K,A)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(f){e.console.assert(!f||f instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),f instanceof e.Rect?this._clip=f.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(f){this.flipped=!!f,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(f){f!==this.opacity&&(this.opacity=f,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(f){this._preload=!!f,this._needsDraw=!0},getRotation:function(f){return f?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(f,E){this._degreesSpring.target.value===f&&this._degreesSpring.isAtTargetValue()||(E?this._degreesSpring.resetTo(f):this._degreesSpring.springTo(f),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(f){return this.getBoundsNoRotate(f).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(f){f!==this.compositeOperation&&(this.compositeOperation=f,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(f,E){var A=this._scaleSpring.target.value===f;if(E){if(A&&this._scaleSpring.current.value===f)return;this._scaleSpring.resetTo(f),this._updateForScale(),this._needsDraw=!0}else{if(A)return;this._scaleSpring.springTo(f),this._updateForScale(),this._needsDraw=!0}A||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var f=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),E=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,A=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(E/this.minPixelRatio)/Math.log(2))));return A=Math.max(A,this.source.minLevel||0),{lowestLevel:f=Math.min(f,A),highestLevel:A}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;)this.lastDrawn.pop().beingDrawn=!1;var E=this.viewport,A=this._viewportToTiledImageRectangle(E.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var C=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(A=A.intersection(C)))return}for(var O=this._getLevelsInterval(),D=O.lowestLevel,I=O.highestLevel,B=null,Z=!1,Y=e.now(),V=I;V>=D;V--){var K=!1,Q=E.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(V),!0).x*this._scaleSpring.current.value;if(V===D||!Z&&Q>=this.minPixelRatio)K=!0,Z=!0;else if(!Z)continue;var le=E.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(V),!1).x*this._scaleSpring.current.value,re=E.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,se=this.immediateRender?1:re;if(B=n(this,Z,K,V,Math.min(1,(Q-.5)/.5),se/Math.abs(se-le),A,Y,B),h(this.coverage,V))break}b(this,this.lastDrawn),B&&!B.context2D?(s(this,B,Y),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(f,E,A){var C,O;this.wrapHorizontal?(C=e.positiveModulo(E.x,1),O=e.positiveModulo(A.x,1)):(C=Math.max(0,E.x),O=Math.min(1,A.x));var D,I,B=1/this.source.aspectRatio;this.wrapVertical?(D=e.positiveModulo(E.y,B),I=e.positiveModulo(A.y,B)):(D=Math.max(0,E.y),I=Math.min(B,A.y));var Z=this.source.getTileAtPoint(f,new e.Point(C,D)),Y=this.source.getTileAtPoint(f,new e.Point(O,I)),V=this.source.getNumTiles(f);return this.wrapHorizontal&&(Z.x+=V.x*Math.floor(E.x),Y.x+=V.x*Math.floor(A.x)),this.wrapVertical&&(Z.y+=V.y*Math.floor(E.y/B),Y.y+=V.y*Math.floor(A.y/B)),{topLeft:Z,bottomRight:Y}}})}(t),function(e){var n=function(o){e.console.assert(o,"[TileCache.cacheTile] options is required"),e.console.assert(o.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(o.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=o.tile,this.tiledImage=o.tiledImage},r=function(o){e.console.assert(o,"[ImageRecord] options is required"),e.console.assert(o.image,"[ImageRecord] options.image is required"),this._image=o.image,this._tiles=[]};r.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var o=document.createElement("canvas");o.width=this._image.width,o.height=this._image.height,this._renderedContext=o.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(o){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=o},addTile:function(o){e.console.assert(o,"[ImageRecord.addTile] tile is required"),this._tiles.push(o)},removeTile:function(o){for(var s=0;s<this._tiles.length;s++)if(this._tiles[s]===o)return void this._tiles.splice(s,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",o)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(o){o=o||{},this._maxImageCacheCount=o.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(o){e.console.assert(o,"[TileCache.cacheTile] options is required"),e.console.assert(o.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(o.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(o.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var s=o.cutoff||0,a=this._tilesLoaded.length,l=this._imagesLoaded[o.tile.cacheKey];if(l||(e.console.assert(o.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),l=this._imagesLoaded[o.tile.cacheKey]=new r({image:o.image}),this._imagesLoadedCount++),l.addTile(o.tile),o.tile.cacheImageRecord=l,this._imagesLoadedCount>this._maxImageCacheCount){for(var d,g,y,x,b,T,u=null,c=-1,h=null,f=this._tilesLoaded.length-1;f>=0;f--)if(!((d=(T=this._tilesLoaded[f]).tile).level<=s||d.beingDrawn)){if(!u){u=d,c=f,h=T;continue}x=d.lastTouchTime,g=u.lastTouchTime,b=d.level,y=u.level,(x<g||x===g&&b>y)&&(u=d,c=f,h=T)}u&&c>=0&&(this._unloadTile(h),a=c)}this._tilesLoaded[a]=new n({tile:o.tile,tiledImage:o.tiledImage})},clearTilesFor:function(o){e.console.assert(o,"[TileCache.clearTilesFor] tiledImage is required");for(var s,a=0;a<this._tilesLoaded.length;++a)(s=this._tilesLoaded[a]).tiledImage===o&&(this._unloadTile(s),this._tilesLoaded.splice(a,1),a--)},getImageRecord:function(o){return e.console.assert(o,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[o]},_unloadTile:function(o){e.console.assert(o,"[TileCache._unloadTile] tileRecord is required");var s=o.tile,a=o.tiledImage;s.unload(),s.cacheImageRecord=null;var l=this._imagesLoaded[s.cacheKey];l.removeTile(s),l.getTileCount()||(l.destroy(),delete this._imagesLoaded[s.cacheKey],this._imagesLoadedCount--),a.viewer.raiseEvent("tile-unloaded",{tile:s,tiledImage:a})}}}(t),function(e){e.World=function(n){var r=this;e.console.assert(n.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=n.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(o){r._autoRefigureSizes?r._figureSizes():r._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(n,r){if(e.console.assert(n,"[World.addItem] item is required"),e.console.assert(n instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(r=r||{}).index){var o=Math.max(0,Math.min(this._items.length,r.index));this._items.splice(o,0,n)}else this._items.push(n);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,n.addHandler("bounds-change",this._delegatedFigureSizes),n.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:n})},getItemAt:function(n){return e.console.assert(void 0!==n,"[World.getItemAt] index is required"),this._items[n]},getIndexOfItem:function(n){return e.console.assert(n,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,n)},getItemCount:function(){return this._items.length},setItemIndex:function(n,r){e.console.assert(n,"[World.setItemIndex] item is required"),e.console.assert(void 0!==r,"[World.setItemIndex] index is required");var o=this.getIndexOfItem(n);if(r>=this._items.length)throw new Error("Index bigger than number of layers.");r===o||-1===o||(this._items.splice(o,1),this._items.splice(r,0,n),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:n,previousIndex:o,newIndex:r}))},removeItem:function(n){e.console.assert(n,"[World.removeItem] item is required");var r=e.indexOf(this._items,n);-1!==r&&(n.removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy(),this._items.splice(r,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(n))},removeAll:function(){var n,r;for(this.viewer._cancelPendingImages(),r=0;r<this._items.length;r++)(n=this._items[r]).removeHandler("bounds-change",this._delegatedFigureSizes),n.removeHandler("clip-change",this._delegatedFigureSizes),n.destroy();var o=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,r=0;r<o.length;r++)n=o[r],this._raiseRemoveItem(n)},resetItems:function(){for(var n=0;n<this._items.length;n++)this._items[n].reset()},update:function(){for(var n=!1,r=0;r<this._items.length;r++)n=this._items[r].update()||n;return n},draw:function(){for(var n=0;n<this._items.length;n++)this._items[n].draw();this._needsDraw=!1},needsDraw:function(){for(var n=0;n<this._items.length;n++)if(this._items[n].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(n){this._autoRefigureSizes=n,n&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(n){var h,r=(n=n||{}).immediately||!1,o=n.layout||e.DEFAULT_SETTINGS.collectionLayout,s=n.rows||e.DEFAULT_SETTINGS.collectionRows,a=n.columns||e.DEFAULT_SETTINGS.collectionColumns,l=n.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,c=l+(n.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);h=!n.rows&&a?a:Math.ceil(this._items.length/s);var y,x,b,T,f,d=0,g=0;this.setAutoRefigureSizes(!1);for(var E=0;E<this._items.length;E++)E&&E%h==0&&("horizontal"===o?(g+=c,d=0):(d+=c,g=0)),T=(b=(x=(y=this._items[E]).getBounds()).width>x.height?l:l*(x.width/x.height))*(x.height/x.width),f=new e.Point(d+(l-b)/2,g+(l-T)/2),y.setPosition(f,r),y.setWidth(b,r),"horizontal"===o?d+=c:g+=c;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var n=this._homeBounds?this._homeBounds.clone():null,r=this._contentSize?this._contentSize.clone():null,o=this._contentFactor||0;if(this._items.length){var s=this._items[0],a=s.getBounds();this._contentFactor=s.getContentSize().x/a.width;for(var l=s.getClippedBounds().getBoundingBox(),u=l.x,c=l.y,h=l.x+l.width,d=l.y+l.height,g=1;g<this._items.length;g++)a=(s=this._items[g]).getBounds(),this._contentFactor=Math.max(this._contentFactor,s.getContentSize().x/a.width),l=s.getClippedBounds().getBoundingBox(),u=Math.min(u,l.x),c=Math.min(c,l.y),h=Math.max(h,l.x+l.width),d=Math.max(d,l.y+l.height);this._homeBounds=new e.Rect(u,c,h-u,d-c),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;(this._contentFactor!==o||!this._homeBounds.equals(n)||!this._contentSize.equals(r))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(n){this.raiseEvent("remove-item",{item:n})}})}(t)}(Fh);var Dt=Fh.exports;const ce="http://www.w3.org/2000/svg",ns=i=>{const t=i.getAttribute("class");return t?new Set(t.split(" ")):new Set},Et=(i,t)=>{const e=ns(i);e.add(t),i.setAttribute("class",Array.from(e).join(" "))},Qi=(i,t)=>{const e=ns(i);e.delete(t),0===e.size?i.removeAttribute("class"):i.setAttribute("class",Array.from(e).join(" "))},is=(i,t)=>ns(i).has(t),Rt=(i,t)=>{const e=i.selector("FragmentSelector");if(null!=e&&e.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:n}=e,r=n.includes(":")?n.substring(n.indexOf("=")+1,n.indexOf(":")):"pixel",o=n.includes(":")?n.substring(n.indexOf(":")+1):n.substring(n.indexOf("=")+1);let[s,a,l,u]=o.split(",").map(parseFloat);return"percent"===r.toLowerCase()&&(s=s*t.naturalWidth/100,a=a*t.naturalHeight/100,l=l*t.naturalWidth/100,u=u*t.naturalHeight/100),{x:s,y:a,w:l,h:u}}},_E=(i,t,e,n,r)=>({source:null==r?void 0:r.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${i},${t},${e},${n}`}}),TE=(i,t,e,n,r)=>{const o=i/r.naturalWidth*100,s=t/r.naturalHeight*100,a=e/r.naturalWidth*100,l=n/r.naturalHeight*100;return{source:r.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${o},${s},${a},${l}`}}},pn=(i,t,e,n,r,o)=>"percent"===(null==o?void 0:o.toLowerCase())?TE(i,t,e,n,r):_E(i,t,e,n,r),$i=(i,t,e,n,r)=>{i.setAttribute("x",t),i.setAttribute("y",e),i.setAttribute("width",n),i.setAttribute("height",r)},er=(i,t,e)=>{i.setAttribute("cx",t),i.setAttribute("cy",e),i.setAttribute("r",7)},kh=(i,t,e,n,r)=>{const o=document.createElementNS(ce,"path");o.setAttribute("fill-rule","evenodd");const{naturalWidth:s,naturalHeight:a}=i;return o.setAttribute("d",`M0 0 h${s} v${a} h-${s} z M${t} ${e} h${n} v${r} h-${n} z`),o},Lh=(i,t,e,n,r,o)=>{const{naturalWidth:s,naturalHeight:a}=t;i.setAttribute("d",`M0 0 h${s} v${a} h-${s} z M${e} ${n} h${r} v${o} h-${r} z`)},rs=(i,t,e,n)=>{const{x:r,y:o,w:s,h:a}="Annotation"===i.type||"Selection"===i.type?Rt(i,t):{x:i,y:t,w:e,h:n},l=document.createElementNS(ce,"g");if(0===s&&0===a){Et(l,"a9s-point"),Et(l,"a9s-non-scaling"),l.setAttribute("transform-origin",`${r} ${o}`);const u=document.createElementNS(ce,"circle"),c=document.createElementNS(ce,"circle");c.setAttribute("class","a9s-inner"),er(c,r,o),u.setAttribute("class","a9s-outer"),er(u,r,o),l.appendChild(u),l.appendChild(c)}else{const u=document.createElementNS(ce,"rect"),c=document.createElementNS(ce,"rect");c.setAttribute("class","a9s-inner"),$i(c,r,o,s,a),u.setAttribute("class","a9s-outer"),$i(u,r,o,s,a),l.appendChild(u),l.appendChild(c)}return l},os=i=>{const t=i.querySelector(".a9s-outer");return"rect"===t.nodeName?{x:parseFloat(t.getAttribute("x")),y:parseFloat(t.getAttribute("y")),w:parseFloat(t.getAttribute("width")),h:parseFloat(t.getAttribute("height"))}:{x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy")),w:0,h:0}},Bh=(i,t,e,n,r)=>{const o=i.querySelector(".a9s-inner"),s=i.querySelector(".a9s-outer");"rect"===s.nodeName?($i(o,t,e,n,r),$i(s,t,e,n,r)):(er(o,t,e),er(s,t,e))},CE=(i,t)=>{const{w:e,h:n}=Rt(i,t);return e*n};class PE{constructor(t,e,n,r,o){P(this,"dragTo",((t,e)=>{this.group.style.display=null,this.opposite=[t,e];const{x:n,y:r,w:o,h:s}=this.bbox;Lh(this.mask,this.env.image,n,r,o,s),Bh(this.rect,n,r,o,s)})),P(this,"getBoundingClientRect",(()=>this.rect.getBoundingClientRect())),P(this,"toSelection",(()=>{const{x:t,y:e,w:n,h:r}=this.bbox;return new Wn(pn(t,e,n,r,this.env.image,this.config.fragmentUnit))})),P(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null})),this.anchor=[t,e],this.opposite=[t,e],this.config=r,this.env=o,this.group=document.createElementNS(ce,"g"),this.mask=kh(o.image,t,e,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=rs(t,e,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),n.appendChild(this.group)}get bbox(){const t=this.opposite[0]-this.anchor[0],e=this.opposite[1]-this.anchor[1];return{x:t>0?this.anchor[0]:this.opposite[0],y:e>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(t)),h:Math.max(1,Math.abs(e))}}get element(){return this.rect}}const AE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},ss=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,OE=i=>{let t=null;const e=(r,o)=>new MouseEvent(r,{screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY,pageX:o.pageX,pageY:o.pageY,bubbles:!0}),n=r=>{const o=r.changedTouches[0],s=e(AE[r.type],o);o.target.dispatchEvent(s),r.preventDefault(),("touchstart"===r.type||"touchmove"===r.type)&&(t&&clearTimeout(t),t=setTimeout((()=>{const a=e("dblclick",o);o.target.dispatchEvent(a)}),800)),"touchend"===r.type&&t&&clearTimeout(t)};i.addEventListener("touchstart",n,!0),i.addEventListener("touchmove",n,!0),i.addEventListener("touchend",n,!0),i.addEventListener("touchcancel",n,!0)},tr="An implementation is missing",DE=ss();class Ih extends Qn{constructor(e,n,r){super(),P(this,"enableResponsive",(()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{const e=this.svg.getBoundingClientRect(),{width:n,height:r}=this.svg.viewBox.baseVal;this.scale=Math.max(n/e.width,r/e.height),this.onScaleChanged&&this.onScaleChanged(this.scale)})),this.resizeObserver.observe(this.svg.parentNode))})),P(this,"getSVGPoint",(e=>{const n=this.svg.createSVGPoint();if(DE){const r=this.svg.getBoundingClientRect(),o=e.clientX-r.x,s=e.clientY-r.y,{left:a,top:l}=this.svg.getBoundingClientRect();return n.x=o+a,n.y=s+l,n.matrixTransform(this.g.getScreenCTM().inverse())}return n.x=e.offsetX,n.y=e.offsetY,n.matrixTransform(this.g.getCTM().inverse())})),P(this,"drawHandle",((e,n)=>{const r=document.createElementNS(ce,"g");r.setAttribute("class","a9s-handle");const o=document.createElementNS(ce,"g"),s=c=>{const h=document.createElementNS(ce,"circle");return h.setAttribute("cx",e),h.setAttribute("cy",n),h.setAttribute("r",c),h.setAttribute("transform-origin",`${e} ${n}`),h},a=this.config.handleRadius||6,l=s(a);l.setAttribute("class","a9s-handle-inner");const u=s(a+1);return u.setAttribute("class","a9s-handle-outer"),o.appendChild(u),o.appendChild(l),r.appendChild(o),r})),P(this,"setHandleXY",((e,n,r)=>{const o=e.querySelector(".a9s-handle-inner");o.setAttribute("cx",n),o.setAttribute("cy",r),o.setAttribute("transform-origin",`${n} ${r}`);const s=e.querySelector(".a9s-handle-outer");s.setAttribute("cx",n),s.setAttribute("cy",r),s.setAttribute("transform-origin",`${n} ${r}`)})),P(this,"getHandleXY",(e=>{const n=e.querySelector(".a9s-handle-outer");return{x:parseFloat(n.getAttribute("cx")),y:parseFloat(n.getAttribute("cy"))}})),P(this,"scaleHandle",(e=>{const n=e.querySelector(".a9s-handle-inner"),r=e.querySelector(".a9s-handle-outer"),o=this.scale*(this.config.handleRadius||6);n.setAttribute("r",o),r.setAttribute("r",o)})),this.svg=e.closest("svg"),this.g=e,this.config=n,this.env=r,this.scale=1;const{image:o}=r;(o instanceof Element||o instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class as extends Ih{constructor(e,n,r){super(e,n,r),P(this,"attachListeners",(({mouseMove:e,mouseUp:n,dblClick:r})=>{e&&(this.mouseMove=o=>{const{x:s,y:a}=this.getSVGPoint(o);this.started||(this.emit("startSelection",{x:s,y:a}),this.started=!0),e(s,a,o)},this.svg.addEventListener("mousemove",this.mouseMove)),n&&(this.mouseUp=o=>{if(0!==o.button)return;const{x:s,y:a}=this.getSVGPoint(o);n(s,a,o)},document.addEventListener("mouseup",this.mouseUp)),r&&(this.dblClick=o=>{const{x:s,y:a}=this.getSVGPoint(o);r(s,a,o)},document.addEventListener("dblclick",this.dblClick))})),P(this,"detachListeners",(()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)})),P(this,"start",((e,n)=>{const{x:r,y:o}=this.getSVGPoint(e);this.startDrawing(r,o,n,e)})),P(this,"startDrawing",(e=>{throw new Error(tr)})),P(this,"createEditableShape",((e,n)=>{throw new Error(tr)})),this.started=!1}get isDrawing(){throw new Error(tr)}}as.supports=i=>{throw new Error(tr)};const Nh="An implementation is missing";class Hh extends Ih{constructor(e,n,r,o){super(n,r,o),P(this,"updateState",(e=>{throw new Error(Nh)})),this.annotation=e}get element(){throw new Error(Nh)}}const RE=/firefox/i.test(navigator.userAgent),zh=(i,t,e,n,r)=>{i.setAttribute("width",n),i.setAttribute("height",r),RE?(i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("transform",`translate(${t}, ${e})`)):(i.setAttribute("x",t),i.setAttribute("y",e))},ME=(i,t)=>{const{x:e,y:n,width:r,height:o}=t.getBBox(),s=document.createElementNS(ce,"svg");s.setAttribute("class","a9s-formatter-el"),zh(s,e,n,r,o);const a=document.createElementNS(ce,"g");a.appendChild(i),s.appendChild(a),t.append(s)},nr=(i,t,e)=>{if(!e)return i;const n=e.reduce(((a,l)=>{const u=l(t);if(!u)return a;if("string"==typeof u||u instanceof String)a.className=a.className?`${a.className} ${u}`:u;else if(u.nodeType===Node.ELEMENT_NODE)a.elements=a.elements?[...a.elements,u]:[u];else{const{className:c,style:h,element:d}=u;c&&(a.className=a.className?`${a.className} ${c}`:c),h&&(a.style=a.style?`${a.style} ${h}`:h),d&&(a.elements=a.elements?[...a.elements,d]:[d])}for(const c in u)u.hasOwnProperty(c)&&c.startsWith("data-")&&(a[c]=u[c]);return a}),{}),{className:r,style:o,elements:s}=n;if(r&&Et(i,r),o){const a=i.querySelector(".a9s-outer"),l=i.querySelector(".a9s-inner");a&&l?(a.setAttribute("style","display:none"),l.setAttribute("style",o)):i.setAttribute("style",o)}s&&s.forEach((a=>ME(a,i)));for(const a in n)n.hasOwnProperty(a)&&a.startsWith("data-")&&i.setAttribute(a,n[a])},Vh=(i,t,e,n,r)=>{const o=i.querySelector(".a9s-formatter-el");o&&zh(o,t,e,n,r)},jn="corner",ir="edge";class FE extends Hh{constructor(e,n,r,o){super(e,n,r,o),P(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),P(this,"setSize",((e,n,r,o)=>{Bh(this.rectangle,e,n,r,o),Lh(this.mask,this.env.image,e,n,r,o),Vh(this.elementGroup,e,n,r,o);const[s,a,l,u,c,h,d,g]=this.handles;this.setHandleXY(s,e,n),this.setHandleXY(a,e+r,n),this.setHandleXY(l,e+r,n+o),this.setHandleXY(u,e,n+o),this.enableEdgeControls&&(this.setHandleXY(c,e+r/2,n),this.setHandleXY(h,e+r,n+o/2),this.setHandleXY(d,e+r/2,n+o),this.setHandleXY(g,e,n+o/2))})),P(this,"stretchCorners",((e,n,r)=>{const o=this.getHandleXY(n),s=r.x-o.x,a=r.y-o.y,l=s>0?o.x:r.x,u=a>0?o.y:r.y,c=Math.abs(s),h=Math.abs(a);return this.setSize(l,u,c,h),{x:l,y:u,w:c,h}})),P(this,"stretchEdge",((e,n,r)=>{const o=this.getHandleXY(n),s=os(this.rectangle),a=e%2==0,l=a?s.w:r.x-o.x,u=a?r.y-o.y:s.h,c=a?s.x:l>0?o.x:r.x,h=a?u>0?o.y:r.y:s.y,d=Math.abs(l),g=Math.abs(u);return this.setSize(c,h,d,g),{x:c,y:h,w:d,h:g}})),P(this,"onGrab",((e,n)=>r=>{if(0!==r.button)return;this.grabbedElem=e,this.grabbedType=n;const o=this.getSVGPoint(r),{x:s,y:a}=os(this.rectangle);this.mouseOffset={x:o.x-s,y:o.y-a}})),P(this,"onMouseMove",(e=>{if(0!==e.button)return;const n=(r,o)=>r<0?0:r>o?o:r;if(this.grabbedElem){const r=this.getSVGPoint(e);if(this.grabbedElem===this.rectangle){const{w:o,h:s}=os(this.rectangle),{naturalWidth:a,naturalHeight:l}=this.env.image,u=n(r.x-this.mouseOffset.x,a-o),c=n(r.y-this.mouseOffset.y,l-s);this.setSize(u,c,o,s),this.emit("update",pn(u,c,o,s,this.env.image,this.config.fragmentUnit))}else{const o=this.handles.indexOf(this.grabbedElem),s=this.handles[2^o],{x:a,y:l,w:u,h:c}=this.grabbedType===jn?this.stretchCorners(o,s,r):this.stretchEdge(o,s,r);this.emit("update",pn(a,l,u,c,this.env.image,this.config.fragmentUnit))}}})),P(this,"onMouseUp",(e=>{this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null})),P(this,"updateState",(e=>{const{x:n,y:r,w:o,h:s}=Rt(e,this.env.image);this.setSize(n,r,o,s)})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:s,y:a,w:l,h:u}=Rt(e,o.image);this.containerGroup=document.createElementNS(ce,"g"),this.mask=kh(o.image,s,a,l,u),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(ce,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",e.id),this.rectangle=rs(s,a,l,u),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.enableEdgeControls=r.enableEdgeControls;const c=this.enableEdgeControls?[[s+l/2,a,ir],[s+l,a+u/2,ir],[s+l/2,a+u,ir],[s,a+u/2,ir]]:[];this.handles=[[s,a,jn],[s+l,a,jn],[s+l,a+u,jn],[s,a+u,jn],...c].map((h=>{const[d,g,y]=h,x=this.drawHandle(d,g);return x.addEventListener("mousedown",this.onGrab(x,y)),this.elementGroup.appendChild(x),x})),this.containerGroup.appendChild(this.elementGroup),n.appendChild(this.containerGroup),nr(this.rectangle,e,r.formatters),this.grabbedElem=null,this.grabbedType=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class rr extends as{constructor(e,n,r){super(e,n,r),P(this,"startDrawing",((e,n)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new PE(e,n,this.g,this.config,this.env)})),P(this,"stop",(()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),P(this,"onMouseMove",((e,n)=>this.rubberband.dragTo(e,n))),P(this,"onMouseUp",(()=>{this.detachListeners(),this.started=!1;const{width:e,height:n}=this.rubberband.getBoundingClientRect(),r=this.config.minSelectionWidth||4,o=this.config.minSelectionHeight||4;if(e>=r&&n>=o){const{element:s}=this.rubberband;s.annotation=this.rubberband.toSelection(),this.emit("complete",s)}else this.emit("cancel");this.stop()})),P(this,"createEditableShape",((e,n)=>new FE(e,this.g,{...this.config,formatters:n},this.env))),this.rubberband=null}get isDrawing(){return null!=this.rubberband}}rr.identifier="rect",rr.supports=i=>{const t=i.selector("FragmentSelector");return null==t?void 0:t.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const or=i=>{let t=0,e=i.length-1;for(let n=0;n<i.length;n++)t+=(i[e][0]+i[n][0])*(i[e][1]-i[n][1]),e=n;return Math.abs(.5*t)},kE=(i,t,e,n)=>{const r=i[0]-t,o=i[1]-e;return Math.sqrt(r*r+o*o)<=n},LE=(i,t,e,n,r,o)=>{const s=o||0,a=Math.cos(s),l=Math.sin(s),u=i[0]-t,c=i[1]-e,h=a*u+l*c,d=l*u-a*c;return h*h/(n*n)+d*d/(r*r)<=1},ls=(i,t)=>{const e=i[0],n=i[1];let r=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o][0],l=t[o][1],u=t[s][0],c=t[s][1];l>n!=c>n&&e<(u-a)*(n-l)/(c-l)+a&&(r=!r)}return r},BE=(i,t)=>{for(let e of i)if(!ls(e,t))return!1;return!0},IE=(i,t,e,n,r,o)=>{const s=i[0],a=i[1],l=n-t,u=r-e,c=Math.sqrt(l*l+u*u);return Math.abs((s-t)*u-(a-e)*l)/c<=o},Uh=i=>{const t=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((r=>r.trim())),e=[];let n=[];for(let r of t){const o=r.substring(0,1);if("z"===o.toLowerCase())e.push([...n]),n=[];else{const s=r.substring(1).split(" ").map((c=>parseFloat(c.trim()))),a=o===o.toUpperCase(),l=a?s[0]:s[0]+n[n.length-1][0],u=a?s[1]:s[1]+n[n.length-1][1];n.push([l,u])}}return n.length>0&&e.push([...n]),e},NE=i=>{const n=(new XMLSerializer).serializeToString(i.documentElement).replace("<svg>",`<svg xmlns="${ce}">`);return(new DOMParser).parseFromString(n,"image/svg+xml").documentElement},Wh=i=>{const t=n=>{Array.from(n.attributes).forEach((r=>{r.name.startsWith("on")&&n.removeAttribute(r.name)}))},e=i.getElementsByTagName("script");return Array.from(e).reverse().forEach((n=>n.parentNode.removeChild(n))),t(i),Array.from(i.querySelectorAll("*")).forEach(t),i},Wt=i=>{const t=i.selector("SvgSelector");if(t){const e=new DOMParser,{value:n}=t,r=e.parseFromString(n,"image/svg+xml"),o=r.lookupPrefix(ce),s=r.lookupNamespaceURI(null);return o||s?Wh(r).firstChild:Wh(NE(r)).firstChild}},jh=i=>{const t=Wt(i),e=document.createElementNS(ce,"g"),n=t.cloneNode(!0);n.setAttribute("class","a9s-inner");const r=t.cloneNode(!0);return r.setAttribute("class","a9s-outer"),e.appendChild(r),e.appendChild(n),e},us=(i,t)=>{const e=i.querySelector(".a9s-inner").cloneNode(!0);e.removeAttribute("class"),e.removeAttribute("xmlns");let n=e.outerHTML||(new XMLSerializer).serializeToString(e);return n=n.replace(` xmlns="${ce}"`,""),{source:null==t?void 0:t.src,selector:{type:"SvgSelector",value:`<svg>${n}</svg>`}}},HE=i=>{const t=Wt(i),e=t.nodeName.toLowerCase();if("polygon"===e)return zE(t);if("circle"===e)return VE(t);if("ellipse"===e)return UE(t);if("path"==e)return WE(t);if("line"==e)return 0;throw`Unsupported SVG shape type: ${e}`},zE=i=>{const t=i.getAttribute("points").trim().split(" ").map((e=>e.split(",").map((n=>parseFloat(n.trim())))));return or(t)},VE=i=>{const t=i.getAttribute("r");return t*t*Math.PI},UE=i=>i.getAttribute("rx")*i.getAttribute("ry")*Math.PI,WE=i=>{const t=Uh(i);if(1==t.length)return or(t[0]);{const e=r=>t.find((o=>{if(r!==o)return BE(r,o)}));let n=0;for(let r of t)e(r)?n-=or(r):n+=or(r);return n}};class Gh{constructor(t,e){P(this,"redraw",(()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)})),P(this,"destroy",(()=>this.mask.parentNode.removeChild(this.mask))),this.w=t.naturalWidth,this.h=t.naturalHeight,this.polygon=e,this.mask=document.createElementNS(ce,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class jE{constructor(t,e,n){P(this,"setPoints",(t=>{const e=t.map((n=>`${n[0]},${n[1]}`)).join(" ");this.outer.setAttribute("points",e),this.inner.setAttribute("points",e)})),P(this,"getBoundingClientRect",(()=>this.outer.getBoundingClientRect())),P(this,"dragTo",(t=>{this.group.style.display=null,this.mousepos=t;const e=[...this.points,t];this.setPoints(e),this.mask.redraw()})),P(this,"addPoint",(()=>{const[t,e]=this.mousepos,n=this.points[this.points.length-1];Math.pow(t-n[0],2)+Math.pow(e-n[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())})),P(this,"destroy",(()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null})),P(this,"toSelection",(()=>new Wn(us(this.group,this.env.image)))),this.points=[t],this.env=n,this.mousepos=t,this.group=document.createElementNS(ce,"g"),this.polygon=document.createElementNS(ce,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(ce,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(ce,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new Gh(n.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),e.appendChild(this.group)}get element(){return this.polygon}}const cs=i=>{const t=i.querySelector(".a9s-inner").points,e=[];for(let n=0;n<t.numberOfItems;n++)e.push(t.getItem(n));return e},GE=i=>i.querySelector(".a9s-inner").getBBox();class qE extends Hh{constructor(e,n,r,o){super(e,n,r,o),P(this,"onScaleChanged",(()=>this.handles.map(this.scaleHandle))),P(this,"setPoints",(e=>{const n=h=>Math.round(10*h)/10,r=e.map((h=>`${n(h.x)},${n(h.y)}`)).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",r);const s=this.shape.querySelector(".a9s-outer");s.setAttribute("points",r),this.mask.redraw();const{x:a,y:l,width:u,height:c}=s.getBBox();Vh(this.elementGroup,a,l,u,c)})),P(this,"onGrab",(e=>n=>{0===n.button&&(this.grabbedElem=e,this.grabbedAt=this.getSVGPoint(n))})),P(this,"onMouseMove",(e=>{const n=(r,o,s)=>r+o<0?-r:r+o>s?s-r:o;if(this.grabbedElem){const r=this.getSVGPoint(e);if(this.grabbedElem===this.shape){const{x:o,y:s,width:a,height:l}=GE(this.shape),{naturalWidth:u,naturalHeight:c}=this.env.image,h=n(o,r.x-this.grabbedAt.x,u-a),d=n(s,r.y-this.grabbedAt.y,c-l),g=cs(this.shape).map((y=>({x:y.x+h,y:y.y+d})));this.grabbedAt=r,this.setPoints(g),g.forEach(((y,x)=>this.setHandleXY(this.handles[x],y.x,y.y))),this.emit("update",us(this.shape,this.env.image))}else{const o=this.handles.indexOf(this.grabbedElem),s=cs(this.shape).map(((a,l)=>l===o?r:a));this.setPoints(s),this.setHandleXY(this.handles[o],r.x,r.y),this.emit("update",us(this.shape,this.env.image))}}})),P(this,"onMouseUp",(e=>{this.grabbedElem=null,this.grabbedAt=null})),P(this,"updateState",(e=>{const n=Wt(e).getAttribute("points").split(" ").map((r=>{const[o,s]=r.split(",").map((a=>parseFloat(a.trim())));return{x:o,y:s}}));this.setPoints(n),n.forEach(((r,o)=>this.setHandleXY(this.handles[o],r.x,r.y)))})),P(this,"destroy",(()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()})),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(ce,"g"),this.shape=jh(e),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new Gh(o.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(ce,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",e.id),this.elementGroup.appendChild(this.shape),this.handles=cs(this.shape).map((s=>{const a=this.drawHandle(s.x,s.y);return a.addEventListener("mousedown",this.onGrab(a)),this.elementGroup.appendChild(a),a})),this.containerGroup.appendChild(this.elementGroup),n.appendChild(this.containerGroup),nr(this.shape,e,r.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class hs extends as{constructor(e,n,r){super(e,n,r),P(this,"startDrawing",((e,n,r)=>{this._isDrawing=!0,this._startOnSingleClick=r,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new jE([e,n],this.g,this.env)})),P(this,"stop",(()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)})),P(this,"onMouseMove",((e,n)=>this.rubberband.dragTo([e,n]))),P(this,"onMouseUp",(()=>{const{width:e,height:n}=this.rubberband.getBoundingClientRect(),r=this.config.minSelectionWidth||4,o=this.config.minSelectionHeight||4;e>=r||n>=o?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())})),P(this,"onDblClick",(()=>{this._isDrawing=!1;const e=this.rubberband.element;e.annotation=this.rubberband.toSelection(),this.emit("complete",e),this.stop()})),P(this,"createEditableShape",((e,n)=>new qE(e,this.g,{...this.config,formatters:n},this.env))),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}hs.identifier="polygon",hs.supports=i=>{var e;const t=i.selector("SvgSelector");if(t)return null==(e=t.value)?void 0:e.match(/^<svg.*<polygon/g)};class XE extends Qn{constructor(e,n,r){super(),P(this,"listTools",(()=>this._registered.map((e=>e.identifier)))),P(this,"registerTool",(e=>{const n=e.identifier;this.listTools().includes(n)&&this.unregisterTool(n),this._registered.unshift(e)})),P(this,"unregisterTool",(e=>this._registered=this._registered.filter((n=>n.identifier!==e)))),P(this,"setCurrent",(e=>{this._current&&this._current.destroy();const n="string"==typeof e||e instanceof String?this._registered.find((r=>r.identifier===e)):e;this._current=new n(this._g,this._config,this._env),this._current.on("startSelection",(r=>this.emit("startSelection",r))),this._current.on("complete",(r=>this.emit("complete",r))),this._current.on("cancel",(r=>this.emit("cancel",r)))})),P(this,"forAnnotation",(e=>{var a;const[n,...r]=e.targets,o=null==(a=n.renderedVia)?void 0:a.name,s=o?this._registered.find((l=>l.identifier===o)):this._registered.find((l=>l.supports(e)));return s?new s(this._g,this._config,this._env):null})),this._g=e,this._config=n,this._env=r,this._registered=[rr,hs],this.setCurrent(rr)}get current(){return this._current}}const YE={FragmentSelector:rs,SvgSelector:jh},ZE={FragmentSelector:CE,SvgSelector:HE},qh=i=>{const t=i.targets[0];if(t)return Array.isArray(t.selector)?t.selector[0]:t.selector},ds=(i,t)=>YE[qh(i).type](i,t),Xh=(i,t)=>ZE[qh(i).type](i,t);class KE{constructor(t){const e=document.createElementNS(ce,"svg");e.setAttribute("class","a9s-osd-crosshair-container");const n=document.createElementNS(ce,"g");n.setAttribute("class","a9s-crosshair"),e.appendChild(n);const r=document.createElementNS(ce,"line"),o=document.createElementNS(ce,"line");n.appendChild(r),n.appendChild(o),t.parentElement.appendChild(e);const s=a=>{const{offsetX:l,offsetY:u}=a,c=t.parentElement.offsetWidth,h=t.parentElement.offsetHeight;r.setAttribute("x1",0),r.setAttribute("y1",u),r.setAttribute("x2",c),r.setAttribute("y2",u),o.setAttribute("x1",l),o.setAttribute("y1",0),o.setAttribute("x2",l),o.setAttribute("y2",h)};t.addEventListener("pointermove",s),t.parentElement.addEventListener("pointermove",s)}}function JE(i,t,e,n,r){Yh(i,t,e||0,n||i.length-1,r||QE)}function Yh(i,t,e,n,r){for(;n>e;){if(n-e>600){var o=n-e+1,s=t-e+1,a=Math.log(o),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(o-l)/o)*(s-o/2<0?-1:1);Yh(i,t,Math.max(e,Math.floor(t-s*l/o+u)),Math.min(n,Math.floor(t+(o-s)*l/o+u)),r)}var d=i[t],g=e,y=n;for(Gn(i,e,t),r(i[n],d)>0&&Gn(i,e,n);g<y;){for(Gn(i,g,y),g++,y--;r(i[g],d)<0;)g++;for(;r(i[y],d)>0;)y--}0===r(i[e],d)?Gn(i,e,y):Gn(i,++y,n),y<=t&&(e=y+1),t<=y&&(n=y-1)}}function Gn(i,t,e){var n=i[t];i[t]=i[e],i[e]=n}function QE(i,t){return i<t?-1:i>t?1:0}class $E{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!ar(t,e))return n;const r=this.toBBox,o=[];for(;e;){for(let s=0;s<e.children.length;s++){const a=e.children[s],l=e.leaf?r(a):a;ar(t,l)&&(e.leaf?n.push(a):ps(t,l)?this._all(a,n):o.push(a))}e=o.pop()}return n}collides(t){let e=this.data;if(!ar(t,e))return!1;const n=[];for(;e;){for(let r=0;r<e.children.length;r++){const o=e.children[r],s=e.leaf?this.toBBox(o):o;if(ar(t,s)){if(e.leaf||ps(t,s))return!0;n.push(o)}}e=n.pop()}return!1}load(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(let n=0;n<t.length;n++)this.insert(t[n]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=gn([]),this}remove(t,e){if(!t)return this;let n=this.data;const r=this.toBBox(t),o=[],s=[];let a,l,u;for(;n||o.length;){if(n||(n=o.pop(),l=o[o.length-1],a=s.pop(),u=!0),n.leaf){const c=ex(t,n.children,e);if(-1!==c)return n.children.splice(c,1),o.push(n),this._condense(o),this}u||n.leaf||!ps(n,r)?l?(a++,n=l.children[a],u=!1):n=null:(o.push(n),s.push(a),a=0,l=n,n=n.children[0])}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,r){const o=n-e+1;let a,s=this._maxEntries;if(o<=s)return a=gn(t.slice(e,n+1)),mn(a,this.toBBox),a;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),a=gn([]),a.leaf=!1,a.height=r;const l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));Zh(t,e,n,u,this.compareMinX);for(let c=e;c<=n;c+=u){const h=Math.min(c+u-1,n);Zh(t,c,h,l,this.compareMinY);for(let d=c;d<=h;d+=l){const g=Math.min(d+l-1,h);a.children.push(this._build(t,d,g,r-1))}}return mn(a,this.toBBox),a}_chooseSubtree(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){let a,o=1/0,s=1/0;for(let l=0;l<e.children.length;l++){const u=e.children[l],c=fs(u),h=ix(t,u)-c;h<s?(s=h,o=c<o?c:o,a=u):h===s&&c<o&&(o=c,a=u)}e=a||e.children[0]}return e}_insert(t,e,n){const r=n?t:this.toBBox(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),Xn(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)}_split(t,e){const n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);const s=this._chooseSplitIndex(n,o,r),a=gn(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,mn(n,this.toBBox),mn(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)}_splitRoot(t,e){this.data=gn([t,e]),this.data.height=t.height+1,this.data.leaf=!1,mn(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let r,o=1/0,s=1/0;for(let a=e;a<=n-e;a++){const l=qn(t,0,a,this.toBBox),u=qn(t,a,n,this.toBBox),c=rx(l,u),h=fs(l)+fs(u);c<o?(o=c,r=a,s=h<s?h:s):c===o&&h<s&&(s=h,r=a)}return r||n-e}_chooseSplitAxis(t,e,n){const r=t.leaf?this.compareMinX:tx,o=t.leaf?this.compareMinY:nx;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const o=this.toBBox,s=qn(t,0,e,o),a=qn(t,n-e,n,o);let l=sr(s)+sr(a);for(let u=e;u<n-e;u++){const c=t.children[u];Xn(s,t.leaf?o(c):c),l+=sr(s)}for(let u=n-e-1;u>=e;u--){const c=t.children[u];Xn(a,t.leaf?o(c):c),l+=sr(a)}return l}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)Xn(e[r],t)}_condense(t){for(let n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():mn(t[e],this.toBBox)}}function ex(i,t,e){if(!e)return t.indexOf(i);for(let n=0;n<t.length;n++)if(e(i,t[n]))return n;return-1}function mn(i,t){qn(i,0,i.children.length,t,i)}function qn(i,t,e,n,r){r||(r=gn(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<e;o++){const s=i.children[o];Xn(r,i.leaf?n(s):s)}return r}function Xn(i,t){return i.minX=Math.min(i.minX,t.minX),i.minY=Math.min(i.minY,t.minY),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY),i}function tx(i,t){return i.minX-t.minX}function nx(i,t){return i.minY-t.minY}function fs(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function sr(i){return i.maxX-i.minX+(i.maxY-i.minY)}function ix(i,t){return(Math.max(t.maxX,i.maxX)-Math.min(t.minX,i.minX))*(Math.max(t.maxY,i.maxY)-Math.min(t.minY,i.minY))}function rx(i,t){const e=Math.max(i.minX,t.minX),n=Math.max(i.minY,t.minY),r=Math.min(i.maxX,t.maxX),o=Math.min(i.maxY,t.maxY);return Math.max(0,r-e)*Math.max(0,o-n)}function ps(i,t){return i.minX<=t.minX&&i.minY<=t.minY&&t.maxX<=i.maxX&&t.maxY<=i.maxY}function ar(i,t){return t.minX<=i.maxX&&t.minY<=i.maxY&&t.maxX>=i.minX&&t.maxY>=i.minY}function gn(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Zh(i,t,e,n,r){const o=[t,e];for(;o.length;){if((e=o.pop())-(t=o.pop())<=n)continue;const s=t+Math.ceil((e-t)/n/2)*n;JE(i,s,t,e,r),o.push(t,s,s,e)}}const ms=(i,t)=>{if("FragmentSelector"===i.targets[0].selector.type){const{x:n,y:r,w:o,h:s}=Rt(i);return{minX:n,minY:r,maxX:n+o,maxY:r+s}}{const n=ds(i,t),r=document.createElementNS(ce,"svg");r.style.position="absolute",r.style.opacity=0,r.style.top=0,r.style.left=0,r.appendChild(n),document.body.appendChild(r);const{x:o,y:s,width:a,height:l}=n.getBBox();return document.body.removeChild(r),{minX:o,minY:s,maxX:o+a,maxY:s+l}}},ox=i=>{var e;const t=i.targets[0];return Array.isArray(t.selector)?t.selector[0].type:null==(e=t.selector)?void 0:e.type},sx=(i,t,e,n)=>{const r=Wt(e),o=r.nodeName.toLowerCase(),s=[i,t];if("polygon"===o){const a=Array.from(r.points).map((l=>[l.x,l.y]));return ls(s,a)}if("circle"===o){const a=r.getAttribute("cx"),l=r.getAttribute("cy"),u=r.getAttribute("r");return kE(s,a,l,u)}if("ellipse"===o){const a=r.getAttribute("cx"),l=r.getAttribute("cy"),u=r.getAttribute("rx"),c=r.getAttribute("ry");return LE(s,a,l,u,c)}if("path"===o)return Uh(r).find((l=>ls(s,l)));if("line"===o){const a=parseInt(r.getAttribute("x1")),l=parseInt(r.getAttribute("y1")),u=parseInt(r.getAttribute("x2")),c=parseInt(r.getAttribute("y2"));return IE(s,a,l,u,c,n)}throw`Unsupported SVG shape type: ${o}`};class ax{constructor(t){P(this,"clear",(()=>this.spatial_index.clear())),P(this,"getAnnotationAt",((t,e,n)=>{const r=n?5/n:5,s=this.spatial_index.search({minX:t-r,minY:e-r,maxX:t+r,maxY:e+r}).map((a=>a.annotation)).filter((a=>{const l=ox(a);if("FragmentSelector"===l)return!0;if("SvgSelector"===l)return sx(t,e,a,r);throw`Unsupported selector type: ${l}`}));if(s.length>0)return s.sort(((a,l)=>Xh(a,this.env.image)-Xh(l,this.env.image))),s[0]})),P(this,"getAnnotationsIntersecting",(t=>{const e=t.minX,n=e?t:ms(t,this.env.image),r=this.spatial_index.search(n).map((o=>o.annotation));return e?r:r.filter((o=>!o.isEqual(t)))})),P(this,"insert",(t=>{(Array.isArray(t)?t:[t]).forEach((n=>{this.spatial_index.insert({...ms(n,this.env.image),annotation:n})}))})),P(this,"getBounds",(t=>this.getBounds(t,this.env.image))),P(this,"remove",(t=>{const e={...ms(t,this.env.image),annotation:t};this.spatial_index.remove(e,((n,r)=>n.annotation.id===r.annotation.id))})),this.env=t,t.store=this,this.spatial_index=new $E}}const Kh=(i,t)=>{const r=(is(t,".a9s-annotation")?t:t.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:o}=i.drawer,s=o.getBoundingClientRect(),a=o.width/s.width,l=o.height/s.height,u=r.x-s.x,c=r.y-s.y,{width:h,height:d}=r,g=document.createElement("CANVAS"),y=g.getContext("2d");g.width=h,g.height=d,y.drawImage(o,u*a,c*l,h*a,d*l,0,0,h,d);const x=i.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(u,c)),b=i.viewport.viewportToImageZoom(i.viewport.getZoom());return{snippet:g,transform:T=>[x.x+T[0]/a/b,x.y+T[1]/l/b]}},lx=ss();class Jh extends Qn{constructor(e){super(),P(this,"_getShapeAt",(e=>{const n=a=>{const l=this.svg.createSVGPoint();if(window.TouchEvent&&a instanceof TouchEvent){const u=this.svg.getBoundingClientRect(),c=a.touches[0],h=c.clientX-u.x,d=c.clientY-u.y,{left:g,top:y}=this.svg.getBoundingClientRect();return l.x=h+g,l.y=d+y,l.matrixTransform(this.g.getScreenCTM().inverse())}return l.x=a.offsetX,l.y=a.offsetY,l.matrixTransform(this.g.getCTM().inverse())},{x:r,y:o}=n(e),s=this.store.getAnnotationAt(r,o,this.currentScale());if(s)return this.findShape(s)})),P(this,"_initDrawingTools",(e=>{var l;let n=!1,r=!1,o=!1;this.tools=new XE(this.g,this.config,this.env),this.tools.on("complete",(u=>{r=!1,this.onDrawingComplete(u)})),this.mouseTracker=new Dt.MouseTracker({element:this.svg,preProcessEventHandler:u=>{this.mouseTracker.enabled||(u.preventDefault=!1,u.preventGesture=!0),this.selectedShape&&"wheel"===u.eventType&&(u.preventDefault=!1,this.viewer.canvas.dispatchEvent(new u.originalEvent.constructor(u.eventType,u.originalEvent)))},pressHandler:u=>{this.tools.current.isDrawing||(this.tools.current.start(u.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),e||this.scaleTool(this.tools.current))},moveHandler:u=>{if(this.tools.current.isDrawing){const{x:c,y:h}=this.tools.current.getSVGPoint(u.originalEvent);u.buttons&&r?(!o&&this.tools.current.onDragStart&&this.tools.current.onDragStart(c,h,u.originalEvent),o=!0):(u.originalEvent.stopPropagation(),this.tools.current.onMouseMove(c,h,u.originalEvent),n||(this.emit("startSelection",{x:c,y:h}),n=!0))}},releaseHandler:u=>{if(this.tools.current.isDrawing){r=!0;const{x:c,y:h}=this.tools.current.getSVGPoint(u.originalEvent);n&&this.emit("endSelection",{x:c,y:h}),this.tools.current.onMouseUp(c,h,u.originalEvent),o&&this.tools.current.onDragEnd&&this.tools.current.onDragEnd()}n=!1,o=!1}});const s=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",a=null==(l=this.config.hotkey)?void 0:l.inverted;this.mouseTracker.enabled=a,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=u=>{if(u.key.toLowerCase()===s&&!this.selectedShape){const c=!this.readOnly&&!a;this.mouseTracker.enabled=c,this.tools.current.enabled=c}},this.onKeyUp=u=>{u.key.toLowerCase()===s&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=a,this.tools.current.enabled=a)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)})),P(this,"_initMouseEvents",(()=>{this.svg.addEventListener("mousemove",(n=>{var r,o;if(!(null!=(r=this.tools)&&r.current.isDrawing||n.target.closest(".a9s-annotation.editable.selected"))){const a=this._getShapeAt(n);if((null==a?void 0:a.annotation)!==(null==(o=this.hoveredShape)?void 0:o.annotation)){if(this.hoveredShape){const l=this.hoveredShape.element||this.hoveredShape;Qi(l,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}a&&(Et(a,"hover"),this.emit("mouseEnterAnnotation",a.annotation,a))}this.hoveredShape=a}})),this.svg.parentElement.addEventListener("mouseleave",(()=>{this.hoveredShape&&(Qi(this.hoveredShape,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape),this.hoveredShape=null)}));let e=null;this.viewer.addHandler("canvas-press",(()=>e=(new Date).getTime())),this.viewer.addHandler("canvas-click",(n=>{var o;const{originalEvent:r}=n;if(!(null==(o=this.tools.current)?void 0:o.isDrawing)&&!this.disableSelect&&(new Date).getTime()-e<250){const l=r.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(r);l?(n.preventDefaultAction=!0,this.selectShape(l)):l||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)}))})),P(this,"_lazy",(e=>{if(this.viewer.world.getItemAt(0))e();else{const n=()=>{e(),this.viewer.removeHandler("open",n),this.viewer.world.removeHandler("add-item",n)};this.viewer.addHandler("open",n),this.viewer.world.addHandler("add-item",n)}})),P(this,"_refreshNonScalingAnnotations",(()=>{const e=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach((n=>n.setAttribute("transform",`scale(${1/e})`)))})),P(this,"addAnnotation",((e,n)=>{const r=n||this.g,o=ds(e,this.env.image);return Et(o,"a9s-annotation"),o.setAttribute("data-id",e.id),o.annotation=e,r.appendChild(o),nr(o,e,this.formatters),this.scaleFormatterElements(o),o})),P(this,"addDrawingTool",(e=>this.tools.registerTool(e))),P(this,"addOrUpdateAnnotation",((e,n)=>{var s;const r=null==(s=this.selectedShape)?void 0:s.annotation;(r===e||(null==r?void 0:r.isSelection)||r==n)&&this.deselect(),n&&this.removeAnnotation(e),this.removeAnnotation(e);const o=this.addAnnotation(e);is(o,"a9s-non-scaling")&&o.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(e)})),P(this,"currentScale",(()=>{const e=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*e/this.viewer.world.getContentFactor()})),P(this,"deselect",(()=>{var e;if(null==(e=this.tools)||e.current.stop(),this.selectedShape){const{annotation:n}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!n.isSelection){const r=this.addAnnotation(n);is(r,"a9s-non-scaling")&&r.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else Qi(this.selectedShape,"selected");this.selectedShape=null}})),P(this,"destroy",(()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)})),P(this,"findShape",(e=>{const n=null!=e&&e.id?e.id:e;return this.g.querySelector(`.a9s-annotation[data-id="${n}"]`)})),P(this,"_fit",((e,n,r)=>{const o=this.findShape(e);if(o){const s=!!n&&("boolean"==typeof n?n:n.immediately),a=(null==n?void 0:n.padding)||0,l=this.viewer.container.getBoundingClientRect(),u=Math.min(2*a/l.width,2*a/l.height),{x:c,y:h,width:d,height:g}=o.getBBox(),y=c-u*d,x=h-u*g,b=d+2*u*d,T=g+2*u*g,f=this.viewer.viewport.imageToViewportRectangle(y,x,b,T);this.viewer.viewport[r](f,s)}})),P(this,"fitBounds",((e,n)=>this._fit(e,n,"fitBounds"))),P(this,"fitBoundsWithConstraints",((e,n)=>this._fit(e,n,"fitBoundsWithConstraints"))),P(this,"getAnnotations",(()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map((n=>n.annotation)))),P(this,"getAnnotationsIntersecting",(e=>{const n=e.id?e:this.findShape(e).annotation;return this.store.getAnnotationsIntersecting(n)})),P(this,"getImageSnippetById",(e=>{const n=this.findShape(e);if(n)return Kh(this.viewer,n)})),P(this,"getSelectedImageSnippet",(()=>{var e;if(this.selectedShape){const n=null!=(e=this.selectedShape.element)?e:this.selectedShape;return Kh(this.viewer,n)}})),P(this,"init",(e=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach((r=>this.g.removeChild(r))),this.store.clear(),this._lazy((()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),e.forEach((r=>this.addAnnotation(r))),console.log("Indexing..."),this.store.insert(e),console.timeEnd("Took"),this.resize()}))})),P(this,"listDrawingTools",(()=>this.tools.listTools())),P(this,"overrideId",((e,n)=>{const r=this.findShape(e);r.setAttribute("data-id",n);const{annotation:o}=r,s=o.clone({id:n});return r.annotation=s,this.store.remove(o),this.store.insert(s),s})),P(this,"panTo",((e,n)=>{const r=this.findShape(e);if(r){const{top:o,left:s,width:a,height:l}=r.getBoundingClientRect(),u=s+a/2+window.scrollX,c=o+l/2+window.scrollY,h=this.viewer.viewport.windowToViewportCoordinates(new Dt.Point(u,c));this.viewer.viewport.panTo(h,n)}})),P(this,"removeAnnotation",(e=>{var o,s;const n=e.type?e.id:e;(null==(o=this.selectedShape)?void 0:o.annotation.id)===n&&this.deselect();const r=this.findShape(e);if(r){const{annotation:a}=r;(null==(s=this.selectedShape)?void 0:s.annotation)===a&&this.deselect(),r.parentNode.removeChild(r),this.store.remove(a)}})),P(this,"removeDrawingTool",(e=>{var n;return null==(n=this.tools)?void 0:n.unregisterTool(e)})),P(this,"scaleFormatterElements",(e=>{const n=1/this.currentScale();if(e){const r=e.querySelector(".a9s-formatter-el");r&&r.firstChild.setAttribute("transform",`scale(${n})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach((o=>o.firstChild.setAttribute("transform",`scale(${n})`)))})),P(this,"scaleTool",(e=>{if(e){const n=1/this.currentScale();e.scale=n,e.onScaleChanged&&e.onScaleChanged(n)}})),P(this,"selectAnnotation",((e,n)=>{this.selectedShape&&this.deselect();const r=this.findShape(e);if(r){this.selectShape(r,n);const o=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:r.annotation,element:o}}this.deselect()})),P(this,"selectShape",((e,n)=>{var s;if(!n&&!e.annotation.isSelection&&this.emit("clickAnnotation",e.annotation,e),(null==(s=this.selectedShape)?void 0:s.annotation)===e.annotation)return;this.selectedShape&&this.selectedShape.annotation!==e.annotation&&this.deselect();const{annotation:r}=e;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=e,Et(e,"selected"),n||this.emit("select",{annotation:r,element:e,skipEvent:n});else{const a=this.tools.forAnnotation(r);if(a){setTimeout((()=>{e.parentNode.removeChild(e),n||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1),this.selectedShape=a.createEditableShape(r,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=r;const l=new Dt.MouseTracker({element:this.svg,preProcessEventHandler:u=>{u.stopPropagation=!0,u.preventDefault=!1,u.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",(()=>{this.hoveredShape=this.selectedShape,l.setTracking(!0)})),this.selectedShape.element.addEventListener("mouseleave",(()=>{this.hoveredShape=null,l.setTracking(!1)})),this.selectedShape.mouseTracker=l,this.selectedShape.on("update",(u=>this.emit("updateTarget",this.selectedShape.element,u)))}else this.selectedShape=e,n||this.emit("select",{annotation:r,element:this.selectedShape})}})),P(this,"setDrawingEnabled",(e=>{if(this.mouseTracker){const n=e&&!this.readOnly;this.mouseTracker.enabled=n,this.mouseTracker.setTracking(n),this.tools.current&&(this.tools.current.enabled=n)}})),P(this,"setDrawingTool",(e=>{var n;this.tools&&(null==(n=this.tools.current)||n.stop(),this.tools.setCurrent(e))})),P(this,"setVisible",(e=>{e?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")})),P(this,"stopDrawing",(()=>{var e;null!=(e=this.tools)&&e.current&&(this.tools.current.isDrawing&&this.tools.current.stop(),this.mouseTracker.enabled=!1,this.tools.current.enabled=!1)})),this.viewer=e.viewer,this.config=e.config,this.env=e.env,this.readOnly=e.config.readOnly,this.headless=e.config.headless,e.config.formatter?this.formatters=[e.config.formatter]:e.config.formatters&&(this.formatters=Array.isArray(e.config.formatters)?e.config.formatters:[e.config.formatters]),this.disableSelect=e.config.disableSelect,this.drawOnSingleClick=e.config.drawOnSingleClick,this.svg=document.createElementNS(ce,"svg"),lx?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),OE(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(ce,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",(()=>this.resize())),this.viewer.addHandler("rotate",(()=>this.resize())),this.viewer.addHandler("resize",(()=>this.resize())),this.viewer.addHandler("flip",(()=>this.resize())),this.loaded=!1;const n=()=>{const{x:r,y:o}=this.viewer.world.getItemAt(0).source.dimensions,s=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:s,naturalWidth:r,naturalHeight:o},e.config.crosshair&&(this.crosshair||(this.crosshair=new KE(this.svg),Et(this.svg,"no-cursor"))),this.loaded||this.emit("load",s),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",n),this.viewer.world.addHandler("add-item",n),this.viewer.world.getItemAt(0)&&n(),this.store=new ax(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var a;const e=this.viewer.viewport.getFlip(),n=this.viewer.viewport.pixelFromPoint(new Dt.Point(0,0),!0);e&&(n.x=this.viewer.viewport._containerInnerSize.x-n.x);const r=this.currentScale(),o=e?-r:r,s=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${n.x}, ${n.y}) scale(${o}, ${r}) rotate(${s})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),null!=(a=this.tools)&&a.current&&this.scaleTool(this.tools.current)}}class ux extends Jh{constructor(e){super(e),P(this,"onDrawingComplete",(e=>{var n;this.mouseTracker.enabled=null==(n=this.config.hotkey)?void 0:n.inverted,this.selectShape(e),this.emit("createSelection",e.annotation)})),this._initDrawingTools()}}const gs=i=>{const t=i.viewport.viewportToImageRectangle(i.viewport.getBounds(!0)),e=i.viewport.getContainerSize().x;return{extent:t,scale:i.viewport.getZoom(!0)*e/i.world.getContentFactor()}},cx=i=>{var e;const t=i.targets[0];return t?Array.isArray(t.selector)?t.selector[0].type:null==(e=t.selector)?void 0:e.type:null},Qh=(i,t)=>{const{extent:e,scale:n}=gs(i),{selector:r}=t,o=St.create({target:t});if("SvgSelector"===r.type){const s=Wt(o),a=s.nodeName.toLowerCase();let l=null;if("polygon"===a)l=hx(s,e,n);else if("circle"===a)l=dx(s,e,n);else if("ellipse"===a)l=fx(s,e,n);else{if("path"!==a)throw`Unsupported SVG shape type: ${a}`;l=px(s,e,n)}let u=l.outerHTML||(new XMLSerializer).serializeToString(l);return u=u.replace(` xmlns="${ce}"`,""),{...t,selector:{type:"SvgSelector",value:`<svg>${u}</svg>`}}}if("FragmentSelector"===r.type){const{x:s,y:a,w:l,h:u}=Rt(o),c=e.x+s/n,h=e.y+a/n,d=l/n,g=u/n;return 0===l&&0===u?{...pn(c,h,d,g),renderedVia:{name:"point"}}:pn(c,h,d,g)}throw`Unsupported selector type: ${r.type}`},hx=(i,t,e)=>{const r=Array.from(i.points).map((o=>t.x+o.x/e+","+(t.y+o.y/e))).join(" ");return i.setAttribute("points",r),i},dx=(i,t,e)=>{const n=parseFloat(i.getAttribute("cx")),r=parseFloat(i.getAttribute("cy")),o=parseFloat(i.getAttribute("r"));return i.setAttribute("cx",t.x+n/e),i.setAttribute("cy",t.y+r/e),i.setAttribute("r",o/e),i},fx=(i,t,e)=>{const n=parseFloat(i.getAttribute("cx")),r=parseFloat(i.getAttribute("cy")),o=parseFloat(i.getAttribute("rx")),s=parseFloat(i.getAttribute("ry"));return i.setAttribute("cx",t.x+n/e),i.setAttribute("cy",t.y+r/e),i.setAttribute("rx",o/e),i.setAttribute("ry",s/e),i},px=(i,t,e)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((o=>o.trim())).map((o=>{const s=o.substring(0,1);if("z"===s.toLowerCase())return s;{const a=o.substring(1).split(" ").map((h=>parseFloat(h.trim()))),l=s===s.toUpperCase();return s+" "+(l?t.x+a[0]/e:a[0]/e)+" "+(l?t.y+a[1]/e:a[1]/e)}})).join(" ");return i.setAttribute("d",r),i},$h=(i,t)=>{const{extent:e,scale:n}=gs(i),r=t.selector("FragmentSelector");if(t.selector("SvgSelector")){const s=Wt(t),a=s.nodeName.toLowerCase();let l=null;if("polygon"===a)l=mx(s,e,n);else if("circle"===a)l=gx(s,e,n);else if("ellipse"===a)l=vx(s,e,n);else{if("path"!==a)throw`Unsupported SVG shape type: ${a}`;l=yx(s,e,n)}let u=l.outerHTML||(new XMLSerializer).serializeToString(l);u=u.replace(` xmlns="${ce}"`,"");const c={selector:{type:"SvgSelector",value:`<svg>${u}</svg>`}};return t.clone({target:c})}if(r){const{x:s,y:a,w:l,h:u}=Rt(t),c=(s-e.x)*n,h=(a-e.y)*n,d=pn(c,h,l*n,u*n);return t.clone({target:d})}},mx=(i,t,e)=>{const r=Array.from(i.points).map((o=>e*(o.x-t.x)+","+e*(o.y-t.y))).join(" ");return i.setAttribute("points",r),i},gx=(i,t,e)=>{const n=i.getAttribute("cx"),r=i.getAttribute("cy"),o=i.getAttribute("r");return i.setAttribute("cx",e*(n-t.x)),i.setAttribute("cy",e*(r-t.y)),i.setAttribute("r",o*e),i},vx=(i,t,e)=>{const n=i.getAttribute("cx"),r=i.getAttribute("cy"),o=i.getAttribute("rx"),s=i.getAttribute("ry");return i.setAttribute("cx",e*(n-t.x)),i.setAttribute("cy",e*(r-t.y)),i.setAttribute("rx",o*e),i.setAttribute("ry",s*e),i},yx=(i,t,e)=>{const r=i.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((o=>o.trim())).map((o=>{const s=o.substring(0,1);if("z"===s.toLowerCase())return s;{const a=o.substring(1).split(" ").filter((h=>h)).map((h=>parseFloat(h.trim()))),l=s===s.toUpperCase();return s+" "+(l?e*(a[0]-t.x):e*a[0])+" "+(l?e*(a[1]-t.y):e*a[1])}})).join(" ");return i.setAttribute("d",r),i},ed=(i,t)=>{const{extent:e,scale:n}=gs(i),r=cx(t.annotation);if("FragmentSelector"===r)wx(t,e,n);else{if("SvgSelector"!==r)throw`Unsupported selector type type: ${r}`;bx(t,e,n)}const o=t.querySelector(".a9s-formatter-el");if(o){const{x:s,y:a}=t.querySelector(".a9s-inner").getBBox();o.setAttribute("x",s),o.setAttribute("y",a)}},wx=(i,t,e)=>{const{x:n,y:r,w:o,h:s}=Rt(i.annotation),a=i.querySelector(".a9s-outer"),l=i.querySelector(".a9s-inner"),u=e*(n-t.x),c=e*(r-t.y);[a,l].forEach(0===o&&0===s?h=>{h.setAttribute("cx",u),h.setAttribute("cy",c)}:h=>{h.setAttribute("x",u),h.setAttribute("y",c),h.setAttribute("width",o*e),h.setAttribute("height",s*e)})},bx=(i,t,e)=>{const n=Wt(i.annotation),r=n.nodeName.toLowerCase();if("polygon"===r)Sx(i,n,t,e);else if("circle"===r)Ex(i,n,t,e);else if("ellipse"===r)xx(i,n,t,e);else{if("path"!==r)throw`Unsupported SVG shape type: ${r}`;_x(i,n,t,e)}},Sx=(i,t,e,n)=>{const o=Array.from(t.points).map((l=>n*(l.x-e.x)+","+n*(l.y-e.y))).join(" ");i.querySelector(".a9s-outer").setAttribute("points",o),i.querySelector(".a9s-inner").setAttribute("points",o)},Ex=(i,t,e,n)=>{const r=n*(t.getAttribute("cx")-e.x),o=n*(t.getAttribute("cy")-e.y),s=n*t.getAttribute("r"),a=i.querySelector(".a9s-outer");a.setAttribute("cx",r),a.setAttribute("cy",o),a.setAttribute("r",s);const l=i.querySelector(".a9s-inner");l.setAttribute("cx",r),l.setAttribute("cy",o),l.setAttribute("r",s)},xx=(i,t,e,n)=>{const r=n*(t.getAttribute("cx")-e.x),o=n*(t.getAttribute("cy")-e.y),s=n*t.getAttribute("rx"),a=n*t.getAttribute("ry"),l=i.querySelector(".a9s-outer");l.setAttribute("cx",r),l.setAttribute("cy",o),l.setAttribute("rx",s),l.setAttribute("ry",a);const u=i.querySelector(".a9s-inner");u.setAttribute("cx",r),u.setAttribute("cy",o),u.setAttribute("rx",s),u.setAttribute("ry",a)},_x=(i,t,e,n)=>{const o=t.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map((s=>s.trim())).map((s=>{const a=s.substring(0,1);if("z"===a.toLowerCase())return a;{const l=s.substring(1).split(" ").filter((d=>d)).map((d=>parseFloat(d.trim()))),u=a===a.toUpperCase();return a+" "+(u?n*(l[0]-e.x):n*l[0])+" "+(u?n*(l[1]-e.y):n*l[1])}})).join(" ");i.querySelector(".a9s-inner").setAttribute("d",o),i.querySelector(".a9s-outer").setAttribute("d",o)},Tx=ss();class Cx extends Jh{constructor(e){super(e),P(this,"_fit",((e,n,r)=>{const o=!!n&&("boolean"==typeof n?n:n.immediately),s=(null==n?void 0:n.padding)||0,a=this.findShape(e);if(a){const l=this.viewer.container.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.x-l.x,h=u.y-l.y,{width:d,height:g}=u,y=c-s,x=h-s,b=d+2*s,T=g+2*s,f=this.viewer.viewport.viewerElementToViewportRectangle(new Dt.Rect(y,x,b,T));this.viewer.viewport[r](f,o)}})),P(this,"_getShapeAt",(e=>{const n=l=>{if(Tx){const u=this.svg.getBoundingClientRect(),c=l.clientX-u.x,h=l.clientY-u.y;return new Dt.Point(c,h)}return new Dt.Point(l.offsetX,l.offsetY)},r=this.viewer.viewport.viewerElementToViewportCoordinates(n(e)),{x:o,y:s}=this.viewer.viewport.viewportToImageCoordinates(r.x,r.y),a=this.store.getAnnotationAt(o,s,this.currentScale());if(a)return this.findShape(a)})),P(this,"_refreshNonScalingAnnotations",(()=>{})),P(this,"addAnnotation",((e,n)=>{const r=n||this.g,o=ds(e,this.env.image);return Et(o,"a9s-annotation"),o.setAttribute("data-id",e.id),o.annotation=e,ed(this.viewer,o),r.appendChild(o),nr(o,e,this.formatters),o})),P(this,"addOrUpdateAnnotation",((e,n)=>{var o;const r=null==(o=this.selectedShape)?void 0:o.annotation;(r===e||(null==r?void 0:r.isSelection)||r==n)&&this.deselect(),n&&this.removeAnnotation(e),this.removeAnnotation(e),this.addAnnotation(e),this.store.insert(e)})),P(this,"deselect",(()=>{var e;if(null==(e=this.tools)||e.current.stop(),this.selectedShape){const{annotation:n}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),n.isSelection||this.addAnnotation(n)):Qi(this.selectedShape,"selected"),this.selectedShape=null}})),P(this,"onDrawingComplete",(e=>{const n=e.annotation.clone({target:Qh(this.viewer,e.annotation.target)});e.annotation=n,this.selectShape(e),this.emit("createSelection",e.annotation),this.mouseTracker.enabled=!1})),P(this,"selectShape",((e,n)=>{var s;if(!n&&!e.annotation.isSelection&&this.emit("clickAnnotation",e.annotation,e),(null==(s=this.selectedShape)?void 0:s.annotation)===e.annotation)return;this.selectedShape&&this.selectedShape.annotation!==e.annotation&&this.deselect(!0);const{annotation:r}=e;if(this.readOnly||r.readOnly||this.headless)this.selectedShape=e,Et(e,"selected"),n||this.emit("select",{annotation:r,element:e,skipEvent:n});else{setTimeout((()=>{e.parentNode.removeChild(e),n||this.emit("select",{annotation:r,element:this.selectedShape.element})}),1);const a=this.tools.forAnnotation(r);this.selectedShape=a.createEditableShape(r),this.selectedShape.element.annotation=r;const l=$h(this.viewer,r);this.selectedShape.updateState(l);const u=new Dt.MouseTracker({element:this.svg,preProcessEventHandler:c=>{c.stopPropagation=!0,c.preventDefault=!1,c.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",(()=>{this.hoveredShape=this.selectedShape,u.setTracking(!0)})),this.selectedShape.element.addEventListener("mouseleave",(()=>{this.hoveredShape=null,u.setTracking(!1)})),this.selectedShape.mouseTracker=u,this.selectedShape.on("update",(c=>{const h=Qh(this.viewer,c);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:h}),this.emit("updateTarget",this.selectedShape.element,h)}))}})),this._initDrawingTools(!0)}resize(){if(this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach((n=>ed(this.viewer,n))),this.selectedShape))if(this.selectedShape.element){const n=$h(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(n),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var Px=0;function td(i,t,e,n,r){var o,s,a={};for(s in t)"ref"==s?o=t[s]:a[s]=t[s];var l={type:i,props:a,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Px,__source:n,__self:r};if("function"==typeof i&&(o=i.defaultProps))for(s in o)void 0===a[s]&&(a[s]=o[s]);return X.vnode&&X.vnode(l),l}class Ax extends Pe{constructor(e){super(e),P(this,"clearState",(e=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},e))),P(this,"forwardEvent",((e,n)=>{this.annotationLayer.on(e,((r,o)=>{this.props[n](r.clone(),o)}))})),P(this,"onKeyUp",(e=>{if(27===e.which){this.annotationLayer.stopDrawing();const{selectedAnnotation:n}=this.state;n&&(this.cancelSelected(),this.props.onCancelSelected(n))}else if(46===e.which){const{disableDeleteKey:n}=this.props.config;if(!n){const{selectedAnnotation:r}=this.state;r&&(r.isSelection?this.onCancelAnnotation(r):this.onDeleteAnnotation(r))}}})),P(this,"handleStartSelect",(e=>this.props.onSelectionStarted(e))),P(this,"handleEndSelect",(e=>this.props.onSelectionEnded(e))),P(this,"handleSelect",((e,n)=>{this.state.editorDisabled?this.onHeadlessSelect(e,n):this.onNormalSelect(e,n)})),P(this,"onNormalSelect",((e,n)=>{const{annotation:r,element:o}=e;if(r){const s=()=>{this.setState({selectedAnnotation:r,selectedDOMElement:o,modifiedTarget:null},(()=>{n||(r.isSelection?this.props.onSelectionCreated(r.clone()):this.props.onAnnotationSelected(r.clone(),o))}))},{selectedAnnotation:a}=this.state;a&&!a.isEqual(r)?this.clearState((()=>{this.props.onCancelSelected(a),s()})):s()}else{const{selectedAnnotation:s}=this.state;s?this.clearState((()=>this.props.onCancelSelected(s))):this.clearState()}})),P(this,"onHeadlessSelect",((e,n)=>{this.saveSelected().then((()=>{this.onNormalSelect(e,n)}))})),P(this,"handleUpdateTarget",((e,n)=>{this.setState({selectedDOMElement:e,modifiedTarget:n});const r=JSON.parse(JSON.stringify(n));this.props.onSelectionTargetChanged(r)})),P(this,"handleViewportChange",(e=>this.setState({selectedDOMElement:e}))),P(this,"overrideAnnotationId",(e=>n=>{const{id:r}=e;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},(()=>{this.annotationLayer.overrideId(r,n)})):this.annotationLayer.overrideId(r,n)})),P(this,"onCreateOrUpdateAnnotation",((e,n)=>(r,o)=>{let s=r.isSelection?r.toAnnotation():r;s=this.state.modifiedTarget?s.clone({target:this.state.modifiedTarget}):s.clone(),this.clearState((()=>{this.annotationLayer.addOrUpdateAnnotation(s,o),o?this.props[e](s,o.clone()):this.props[e](s,this.overrideAnnotationId(s)),n&&n()}))})),P(this,"onDeleteAnnotation",(e=>{this.clearState(),this.annotationLayer.removeAnnotation(e),this.props.onAnnotationDeleted(e)})),P(this,"onCancelAnnotation",((e,n)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(e),this.clearState(n)})),P(this,"addAnnotation",(e=>{var n;e.id===(null==(n=this.state.selectedAnnotation)?void 0:n.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(e.clone())})),P(this,"addDrawingTool",(e=>this.annotationLayer.addDrawingTool(e))),P(this,"cancelSelected",(()=>new Promise((e=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(e):e()})))),P(this,"fitBounds",((e,n)=>this.annotationLayer.fitBounds(e,n))),P(this,"fitBoundsWithConstraints",((e,n)=>this.annotationLayer.fitBoundsWithConstraints(e,n))),P(this,"getAnnotationById",(e=>{var n;return null==(n=this.annotationLayer.findShape(e))?void 0:n.annotation})),P(this,"getAnnotations",(()=>this.annotationLayer.getAnnotations().map((e=>e.clone())))),P(this,"getAnnotationsIntersecting",(e=>this.annotationLayer.getAnnotationsIntersecting(e))),P(this,"getImageSnippetById",(e=>this.annotationLayer.getImageSnippetById(e))),P(this,"getSelected",(()=>{var e;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:null==(e=this._editor.current)?void 0:e.getCurrentAnnotation()})),P(this,"getSelectedImageSnippet",(()=>this.annotationLayer.getSelectedImageSnippet())),P(this,"listDrawingTools",(()=>this.annotationLayer.listDrawingTools())),P(this,"panTo",((e,n)=>this.annotationLayer.panTo(e,n))),P(this,"removeAnnotation",(e=>this.annotationLayer.removeAnnotation(e))),P(this,"removeDrawingTool",(e=>this.annotationLayer.removeDrawingTool(e))),P(this,"saveSelected",(()=>new Promise((e=>{const n=this.state.selectedAnnotation;if(n)if(this._editor.current)this._editor.current.onOk(),e();else if(n.isSelection)n.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",e)(n):(this.annotationLayer.deselect(),e());else{const{beforeHeadlessModify:r,modifiedTarget:o}=this.state;r?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(n,r):o?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",e)(n,n):this.onCancelAnnotation(n,e)}else e()})))),P(this,"selectAnnotation",(e=>{const n=this.annotationLayer.selectAnnotation(e,!0);if(n)return this.handleSelect(n,!0),n.annotation.clone();this.clearState()})),P(this,"setAnnotations",(e=>this.annotationLayer.init(e.map((n=>n.clone()))))),P(this,"setDrawingEnabled",(e=>this.annotationLayer.setDrawingEnabled(e))),P(this,"setDrawingTool",(e=>this.annotationLayer.setDrawingTool(e))),P(this,"setVisible",(e=>{this.annotationLayer.setVisible(e),e||this.clearState()})),P(this,"updateSelected",((e,n)=>new Promise((r=>{this.state.selectedAnnotation&&(n?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",r)(e):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",r)(e,this.state.selectedAnnotation):this.setState({selectedAnnotation:e,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},r))})))),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:e.config.readOnly,editorDisabled:e.config.disableEditor,widgets:e.config.widgets,beforeHeadlessModify:null},this._editor=k.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new Cx(this.props):new ux(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("endSelection",this.handleEndSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(e){this.setState({editorDisabled:e})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(e){this.annotationLayer.disableSelect=e}get formatters(){return this.annotationLayer.formatters}set formatters(e){this.annotationLayer.formatters=e}get readOnly(){return this.state.readOnly}set readOnly(e){this.annotationLayer.readOnly=e,this.setState({readOnly:e})}get widgets(){return this.state.widgets}set widgets(e){this.setState({widgets:e})}render(){var r;const e=this.state.selectedAnnotation&&!this.state.editorDisabled,n=this.state.readOnly||(null==(r=this.state.selectedAnnotation)?void 0:r.readOnly);return e&&td(mE,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:n,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class Ox{constructor(t,e){P(this,"handleAnnotationCreated",((t,e)=>this._emitter.emit("createAnnotation",t.underlying,e))),P(this,"handleAnnotationDeleted",(t=>this._emitter.emit("deleteAnnotation",t.underlying))),P(this,"handleAnnotationSelected",((t,e)=>this._emitter.emit("selectAnnotation",t.underlying,e))),P(this,"handleAnnotationUpdated",((t,e)=>this._emitter.emit("updateAnnotation",t.underlying,e.underlying))),P(this,"handleCancelSelected",(t=>this._emitter.emit("cancelSelected",t.underlying))),P(this,"handleClickAnnotation",((t,e)=>this._emitter.emit("clickAnnotation",t.underlying,e))),P(this,"handleLoad",(t=>this._emitter.emit("load",t))),P(this,"handleSelectionCreated",(t=>this._emitter.emit("createSelection",t.underlying))),P(this,"handleSelectionStarted",(t=>this._emitter.emit("startSelection",t))),P(this,"handleSelectionEnded",(t=>this._emitter.emit("endSelection",t))),P(this,"handleSelectionTargetChanged",(t=>this._emitter.emit("changeSelectionTarget",t))),P(this,"handleMouseEnterAnnotation",((t,e)=>this._emitter.emit("mouseEnterAnnotation",t.underlying,e))),P(this,"handleMouseLeaveAnnotation",((t,e)=>this._emitter.emit("mouseLeaveAnnotation",t.underlying,e))),P(this,"_wrap",(t=>"Annotation"===(null==t?void 0:t.type)?new St(t):t)),P(this,"addAnnotation",(t=>this._app.current.addAnnotation(new St(t)))),P(this,"addDrawingTool",(t=>this._app.current.addDrawingTool(t))),P(this,"cancelSelected",(()=>this._app.current.cancelSelected())),P(this,"clearAnnotations",(()=>this.setAnnotations([]))),P(this,"clearAuthInfo",(()=>this._env.user=null)),P(this,"destroy",(()=>k.unmountComponentAtNode(this.appContainerEl))),P(this,"fitBounds",((t,e)=>this._app.current.fitBounds(this._wrap(t),e))),P(this,"fitBoundsWithConstraints",((t,e)=>this._app.current.fitBoundsWithConstraints(this._wrap(t),e))),P(this,"getAnnotationById",(t=>{const e=this._app.current.getAnnotationById(t);return null==e?void 0:e.underlying})),P(this,"getAnnotations",(()=>this._app.current.getAnnotations().map((e=>e.underlying)))),P(this,"getAnnotationsIntersecting",(t=>this._app.current.getAnnotationsIntersecting(this._wrap(t)))),P(this,"getImageSnippetById",(t=>this._app.current.getImageSnippetById(t))),P(this,"getSelected",(()=>{const t=this._app.current.getSelected();return null==t?void 0:t.underlying})),P(this,"getSelectedImageSnippet",(()=>this._app.current.getSelectedImageSnippet())),P(this,"listDrawingTools",(()=>this._app.current.listDrawingTools())),P(this,"loadAnnotations",(t=>fetch(t).then((e=>e.json())).then((e=>(this.setAnnotations(e),e))))),P(this,"off",((t,e)=>this._emitter.off(t,e))),P(this,"on",((t,e)=>this._emitter.on(t,e))),P(this,"once",((t,e)=>this._emitter.once(t,e))),P(this,"panTo",((t,e)=>this._app.current.panTo(this._wrap(t),e))),P(this,"removeAnnotation",(t=>this._app.current.removeAnnotation(this._wrap(t)))),P(this,"removeDrawingTool",(t=>this._app.current.removeDrawingTool(t))),P(this,"saveSelected",(()=>this._app.current.saveSelected())),P(this,"selectAnnotation",(t=>{const e=this._app.current.selectAnnotation(this._wrap(t));return null==e?void 0:e.underlying})),P(this,"setAnnotations",(t=>{const n=(t||[]).map((r=>new St(r)));this._app.current.setAnnotations(n)})),P(this,"setAuthInfo",(t=>this._env.user=t)),P(this,"setDrawingEnabled",(t=>this._app.current.setDrawingEnabled(t))),P(this,"setDrawingTool",(t=>this._app.current.setDrawingTool(t))),P(this,"setServerTime",(t=>this._env.setServerTime(t))),P(this,"setVisible",(t=>this._app.current.setVisible(t))),P(this,"updateSelected",((t,e)=>{let n=null;"Annotation"===t.type?n=new St(t):"Selection"===t.type&&(n=new Wn(t.target,t.body)),n&&this._app.current.updateSelected(n,e)}));const n=e||{};this._app=k.createRef(),this._emitter=new Qn,this._env=EE(),this._element=t.element,"static"===window.getComputedStyle(this._element).getPropertyValue("position")&&(this._element.style.position="relative"),xE(n.locale,n.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),k.render(td(Ax,{ref:this._app,viewer:t,wrapperEl:this._element,config:n,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionEnded:this.handleSelectionEnded,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(t){this._app.current.disableEditor=t}get disableSelect(){return this._app.current.disableSelect}set disableSelect(t){this._app.current.disableSelect=t}get formatters(){return this._app.current.formatters||[]}set formatters(t){if(t){const e=Array.isArray(t)?t:[t];this._app.current.formatters=e}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(t){this._app.current.readOnly=t}get widgets(){return this._app.current.widgets}set widgets(t){this._app.current.widgets=t}}return(i,t)=>new Ox(i,t)}()},"./node_modules/@redux-saga/core/dist/io-c3792963.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ALL,B:()=>logError,C:()=>CALL,D:()=>wrapSagaDispatch,E:()=>identity,F:()=>FORK,G:()=>GET_CONTEXT,J:()=>JOIN,K:()=>take,L:()=>fork,P:()=>PUT,R:()=>RACE,S:()=>SELECT,T:()=>TAKE,Y:()=>put,_:()=>io_c3792963_all,a:()=>CPS,a3:()=>io_c3792963_select,b:()=>CANCEL,d:()=>ACTION_CHANNEL,e:()=>expanding,f:()=>CANCELLED,g:()=>FLUSH,h:()=>SET_CONTEXT,i:()=>internalErr,j:()=>getMetaInfo,k:()=>kTrue,l:()=>createAllStyleChildCallbacks,m:()=>createEmptyArray,o:()=>once,p:()=>assignWithSymbols,q:()=>makeIterator,r:()=>remove,s:()=>shouldComplete,t:()=>noop,u:()=>flatMap,v:()=>getLocation,y:()=>shouldCancel,z:()=>shouldTerminate});var redux_saga_symbols_esm=__webpack_require__("./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),redux_saga_is_esm=__webpack_require__("./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js");var kTrue=function konst(v){return function(){return v}}(!0),noop=function noop(){};var identity=function identity(v){return v};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var assignWithSymbols=function assignWithSymbols(target,source){(0,esm_extends.Z)(target,source),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(source).forEach((function(s){target[s]=source[s]}))},flatMap=function flatMap(mapper,arr){var _ref;return(_ref=[]).concat.apply(_ref,arr.map(mapper))};function remove(array,item){var index=array.indexOf(item);index>=0&&array.splice(index,1)}function once(fn){var called=!1;return function(){called||(called=!0,fn())}}var kThrow=function kThrow(err){throw err},kReturn=function kReturn(value){return{value,done:!0}};function makeIterator(next,thro,name){void 0===thro&&(thro=kThrow),void 0===name&&(name="iterator");var iterator={meta:{name},next,throw:thro,return:kReturn,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function logError(error,_ref2){var sagaStack=_ref2.sagaStack;console.error(error),console.error(sagaStack)}var internalErr=function internalErr(err){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+err+"\n")},createEmptyArray=function createEmptyArray(n){return Array.apply(null,new Array(n))},wrapSagaDispatch=function wrapSagaDispatch(dispatch){return function(action){return dispatch(Object.defineProperty(action,redux_saga_symbols_esm.Nm,{value:!0}))}},shouldTerminate=function shouldTerminate(res){return res===redux_saga_symbols_esm.EO},shouldCancel=function shouldCancel(res){return res===redux_saga_symbols_esm.Wd},shouldComplete=function shouldComplete(res){return shouldTerminate(res)||shouldCancel(res)};function createAllStyleChildCallbacks(shape,parentCallback){var keys=Object.keys(shape),totalCount=keys.length;var completed,completedCount=0,results=(0,redux_saga_is_esm.IX)(shape)?createEmptyArray(totalCount):{},childCallbacks={};return keys.forEach((function(key){var chCbAtKey=function chCbAtKey(res,isErr){completed||(isErr||shouldComplete(res)?(parentCallback.cancel(),parentCallback(res,isErr)):(results[key]=res,completedCount++,function checkEnd(){completedCount===totalCount&&(completed=!0,parentCallback(results))}()))};chCbAtKey.cancel=noop,childCallbacks[key]=chCbAtKey})),parentCallback.cancel=function(){completed||(completed=!0,keys.forEach((function(key){return childCallbacks[key].cancel()})))},childCallbacks}function getMetaInfo(fn){return{name:fn.name||"anonymous",location:getLocation(fn)}}function getLocation(instrumented){return instrumented[redux_saga_symbols_esm.b_]}function ringBuffer(limit,overflowAction){void 0===limit&&(limit=10);var arr=new Array(limit),length=0,pushIndex=0,popIndex=0,push=function push(it){arr[pushIndex]=it,pushIndex=(pushIndex+1)%limit,length++},take=function take(){if(0!=length){var it=arr[popIndex];return arr[popIndex]=null,length--,popIndex=(popIndex+1)%limit,it}},flush=function flush(){for(var items=[];length;)items.push(take());return items};return{isEmpty:function isEmpty(){return 0==length},put:function put(it){var doubledLimit;if(length<limit)push(it);else switch(overflowAction){case 1:throw new Error("Channel's Buffer overflow!");case 3:arr[pushIndex]=it,popIndex=pushIndex=(pushIndex+1)%limit;break;case 4:doubledLimit=2*limit,arr=flush(),length=arr.length,pushIndex=arr.length,popIndex=0,arr.length=doubledLimit,limit=doubledLimit,push(it)}},take,flush}}var expanding=function expanding(initialSize){return ringBuffer(initialSize,4)},TAKE="TAKE",PUT="PUT",ALL="ALL",RACE="RACE",CALL="CALL",CPS="CPS",FORK="FORK",JOIN="JOIN",CANCEL="CANCEL",SELECT="SELECT",ACTION_CHANNEL="ACTION_CHANNEL",CANCELLED="CANCELLED",FLUSH="FLUSH",GET_CONTEXT="GET_CONTEXT",SET_CONTEXT="SET_CONTEXT",makeEffect=function makeEffect(type,payload){var _ref;return(_ref={})[redux_saga_symbols_esm.IO]=!0,_ref.combinator=!1,_ref.type=type,_ref.payload=payload,_ref};function take(patternOrChannel,multicastPattern){return void 0===patternOrChannel&&(patternOrChannel="*"),(0,redux_saga_is_esm.uj)(patternOrChannel)?((0,redux_saga_is_esm.d5)(multicastPattern)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),makeEffect(TAKE,{pattern:patternOrChannel})):(0,redux_saga_is_esm.Om)(patternOrChannel)&&(0,redux_saga_is_esm.d5)(multicastPattern)&&(0,redux_saga_is_esm.uj)(multicastPattern)?makeEffect(TAKE,{channel:patternOrChannel,pattern:multicastPattern}):(0,redux_saga_is_esm.CE)(patternOrChannel)?((0,redux_saga_is_esm.d5)(multicastPattern)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),makeEffect(TAKE,{channel:patternOrChannel})):void 0}function put(channel$1,action){return(0,redux_saga_is_esm.sR)(action)&&(action=channel$1,channel$1=void 0),makeEffect(PUT,{channel:channel$1,action})}function io_c3792963_all(effects){var eff=makeEffect(ALL,effects);return eff.combinator=!0,eff}function getFnCallDescriptor(fnDescriptor,args){var fn,context=null;return(0,redux_saga_is_esm.Yl)(fnDescriptor)?fn=fnDescriptor:((0,redux_saga_is_esm.IX)(fnDescriptor)?(context=fnDescriptor[0],fn=fnDescriptor[1]):(context=fnDescriptor.context,fn=fnDescriptor.fn),context&&(0,redux_saga_is_esm.Z_)(fn)&&(0,redux_saga_is_esm.Yl)(context[fn])&&(fn=context[fn])),{context,fn,args}}function fork(fnDescriptor){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];return makeEffect(FORK,getFnCallDescriptor(fnDescriptor,args))}function io_c3792963_select(selector){void 0===selector&&(selector=identity);for(var _len5=arguments.length,args=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)args[_key5-1]=arguments[_key5];return makeEffect(SELECT,{selector,args})}},"./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CE:()=>channel,IX:()=>array,MC:()=>promise,NA:()=>symbol,Om:()=>multicast,Yl:()=>func,Z_:()=>string,d5:()=>notUndef,eR:()=>stringableFunc,hZ:()=>iterator,sR:()=>undef,uj:()=>pattern});var _redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js"),undef=function undef(v){return null==v},notUndef=function notUndef(v){return null!=v},func=function func(f){return"function"==typeof f},string=function string(s){return"string"==typeof s},array=Array.isArray,promise=function promise(p){return p&&func(p.then)},iterator=function iterator(it){return it&&func(it.next)&&func(it.throw)},pattern=function pattern(pat){return pat&&(string(pat)||symbol(pat)||func(pat)||array(pat)&&pat.every(pattern))},channel=function channel(ch){return ch&&func(ch.take)&&func(ch.close)},stringableFunc=function stringableFunc(f){return func(f)&&f.hasOwnProperty("toString")},symbol=function symbol(sym){return Boolean(sym)&&"function"==typeof Symbol&&sym.constructor===Symbol&&sym!==Symbol.prototype},multicast=function multicast(ch){return channel(ch)&&ch[_redux_saga_symbols__WEBPACK_IMPORTED_MODULE_0__.AS]}},"./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AS:()=>MULTICAST,Cs:()=>TASK,EO:()=>TERMINATE,IO:()=>IO,Nm:()=>SAGA_ACTION,Wd:()=>TASK_CANCEL,b_:()=>SAGA_LOCATION,n1:()=>CANCEL,sC:()=>SELF_CANCELLATION,sZ:()=>CHANNEL_END_TYPE,uq:()=>MATCH});var createSymbol=function createSymbol(name){return"@@redux-saga/"+name},CANCEL=createSymbol("CANCEL_PROMISE"),CHANNEL_END_TYPE=createSymbol("CHANNEL_END"),IO=createSymbol("IO"),MATCH=createSymbol("MATCH"),MULTICAST=createSymbol("MULTICAST"),SAGA_ACTION=createSymbol("SAGA_ACTION"),SELF_CANCELLATION=createSymbol("SELF_CANCELLATION"),TASK=createSymbol("TASK"),TASK_CANCEL=createSymbol("TASK_CANCEL"),TERMINATE=createSymbol("TERMINATE"),SAGA_LOCATION=createSymbol("LOCATION")},"./node_modules/@remix-run/router/dist/router.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var Action;__webpack_require__.d(__webpack_exports__,{J0:()=>invariant,RQ:()=>joinPaths,WK:()=>isRouteErrorResponse,Zn:()=>stripBasename,Zq:()=>getPathContributingMatches,aU:()=>Action,cP:()=>parsePath,fp:()=>matchRoutes,pC:()=>resolveTo,q_:()=>createHashHistory}),function(Action){Action.Pop="POP",Action.Push="PUSH",Action.Replace="REPLACE"}(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(options){return void 0===options&&(options={}),getUrlBasedHistory((function createHashLocation(window,globalHistory){let{pathname="/",search="",hash=""}=parsePath(window.location.hash.substr(1));return createLocation("",{pathname,search,hash},globalHistory.state&&globalHistory.state.usr||null,globalHistory.state&&globalHistory.state.key||"default")}),(function createHashHref(window,to){let base=window.document.querySelector("base"),href="";if(base&&base.getAttribute("href")){let url=window.location.href,hashIndex=url.indexOf("#");href=-1===hashIndex?url:url.slice(0,hashIndex)}return href+"#"+("string"==typeof to?to:createPath(to))}),(function validateHashLocation(location,to){warning("/"===location.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(to)+")")}),options)}function invariant(value,message){if(!1===value||null==value)throw new Error(message)}function warning(cond,message){if(!cond){"undefined"!=typeof console&&console.warn(message);try{throw new Error(message)}catch(e){}}}function getHistoryState(location,index){return{usr:location.state,key:location.key,idx:index}}function createLocation(current,to,state,key){return void 0===state&&(state=null),_extends({pathname:"string"==typeof current?current:current.pathname,search:"",hash:""},"string"==typeof to?parsePath(to):to,{state,key:to&&to.key||key||Math.random().toString(36).substr(2,8)})}function createPath(_ref){let{pathname="/",search="",hash=""}=_ref;return search&&"?"!==search&&(pathname+="?"===search.charAt(0)?search:"?"+search),hash&&"#"!==hash&&(pathname+="#"===hash.charAt(0)?hash:"#"+hash),pathname}function parsePath(path){let parsedPath={};if(path){let hashIndex=path.indexOf("#");hashIndex>=0&&(parsedPath.hash=path.substr(hashIndex),path=path.substr(0,hashIndex));let searchIndex=path.indexOf("?");searchIndex>=0&&(parsedPath.search=path.substr(searchIndex),path=path.substr(0,searchIndex)),path&&(parsedPath.pathname=path)}return parsedPath}function getUrlBasedHistory(getLocation,createHref,validateLocation,options){void 0===options&&(options={});let{window=document.defaultView,v5Compat=!1}=options,globalHistory=window.history,action=Action.Pop,listener=null,index=getIndex();function getIndex(){return(globalHistory.state||{idx:null}).idx}function handlePop(){action=Action.Pop;let nextIndex=getIndex(),delta=null==nextIndex?null:nextIndex-index;index=nextIndex,listener&&listener({action,location:history.location,delta})}function createURL(to){let base="null"!==window.location.origin?window.location.origin:window.location.href,href="string"==typeof to?to:createPath(to);return invariant(base,"No window.location.(origin|href) available to create URL for href: "+href),new URL(href,base)}null==index&&(index=0,globalHistory.replaceState(_extends({},globalHistory.state,{idx:index}),""));let history={get action(){return action},get location(){return getLocation(window,globalHistory)},listen(fn){if(listener)throw new Error("A history only accepts one active listener");return window.addEventListener(PopStateEventType,handlePop),listener=fn,()=>{window.removeEventListener(PopStateEventType,handlePop),listener=null}},createHref:to=>createHref(window,to),createURL,encodeLocation(to){let url=createURL(to);return{pathname:url.pathname,search:url.search,hash:url.hash}},push:function push(to,state){action=Action.Push;let location=createLocation(history.location,to,state);validateLocation&&validateLocation(location,to),index=getIndex()+1;let historyState=getHistoryState(location,index),url=history.createHref(location);try{globalHistory.pushState(historyState,"",url)}catch(error){window.location.assign(url)}v5Compat&&listener&&listener({action,location:history.location,delta:1})},replace:function replace(to,state){action=Action.Replace;let location=createLocation(history.location,to,state);validateLocation&&validateLocation(location,to),index=getIndex();let historyState=getHistoryState(location,index),url=history.createHref(location);globalHistory.replaceState(historyState,"",url),v5Compat&&listener&&listener({action,location:history.location,delta:0})},go:n=>globalHistory.go(n)};return history}var ResultType;!function(ResultType){ResultType.data="data",ResultType.deferred="deferred",ResultType.redirect="redirect",ResultType.error="error"}(ResultType||(ResultType={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function matchRoutes(routes,locationArg,basename){void 0===basename&&(basename="/");let pathname=stripBasename(("string"==typeof locationArg?parsePath(locationArg):locationArg).pathname||"/",basename);if(null==pathname)return null;let branches=flattenRoutes(routes);!function rankRouteBranches(branches){branches.sort(((a,b)=>a.score!==b.score?b.score-a.score:function compareIndexes(a,b){let siblings=a.length===b.length&&a.slice(0,-1).every(((n,i)=>n===b[i]));return siblings?a[a.length-1]-b[b.length-1]:0}(a.routesMeta.map((meta=>meta.childrenIndex)),b.routesMeta.map((meta=>meta.childrenIndex)))))}(branches);let matches=null;for(let i=0;null==matches&&i<branches.length;++i)matches=matchRouteBranch(branches[i],safelyDecodeURI(pathname));return matches}function flattenRoutes(routes,branches,parentsMeta,parentPath){void 0===branches&&(branches=[]),void 0===parentsMeta&&(parentsMeta=[]),void 0===parentPath&&(parentPath="");let flattenRoute=(route,index,relativePath)=>{let meta={relativePath:void 0===relativePath?route.path||"":relativePath,caseSensitive:!0===route.caseSensitive,childrenIndex:index,route};meta.relativePath.startsWith("/")&&(invariant(meta.relativePath.startsWith(parentPath),'Absolute route path "'+meta.relativePath+'" nested under path "'+parentPath+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),meta.relativePath=meta.relativePath.slice(parentPath.length));let path=joinPaths([parentPath,meta.relativePath]),routesMeta=parentsMeta.concat(meta);route.children&&route.children.length>0&&(invariant(!0!==route.index,'Index routes must not have child routes. Please remove all child routes from route path "'+path+'".'),flattenRoutes(route.children,branches,routesMeta,path)),(null!=route.path||route.index)&&branches.push({path,score:computeScore(path,route.index),routesMeta})};return routes.forEach(((route,index)=>{var _route$path;if(""!==route.path&&null!=(_route$path=route.path)&&_route$path.includes("?"))for(let exploded of explodeOptionalSegments(route.path))flattenRoute(route,index,exploded);else flattenRoute(route,index)})),branches}function explodeOptionalSegments(path){let segments=path.split("/");if(0===segments.length)return[];let[first,...rest]=segments,isOptional=first.endsWith("?"),required=first.replace(/\?$/,"");if(0===rest.length)return isOptional?[required,""]:[required];let restExploded=explodeOptionalSegments(rest.join("/")),result=[];return result.push(...restExploded.map((subpath=>""===subpath?required:[required,subpath].join("/")))),isOptional&&result.push(...restExploded),result.map((exploded=>path.startsWith("/")&&""===exploded?"/":exploded))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>"*"===s;function computeScore(path,index){let segments=path.split("/"),initialScore=segments.length;return segments.some(isSplat)&&(initialScore+=splatPenalty),index&&(initialScore+=indexRouteValue),segments.filter((s=>!isSplat(s))).reduce(((score,segment)=>score+(paramRe.test(segment)?dynamicSegmentValue:""===segment?emptySegmentValue:staticSegmentValue)),initialScore)}function matchRouteBranch(branch,pathname){let{routesMeta}=branch,matchedParams={},matchedPathname="/",matches=[];for(let i=0;i<routesMeta.length;++i){let meta=routesMeta[i],end=i===routesMeta.length-1,remainingPathname="/"===matchedPathname?pathname:pathname.slice(matchedPathname.length)||"/",match=matchPath({path:meta.relativePath,caseSensitive:meta.caseSensitive,end},remainingPathname);if(!match)return null;Object.assign(matchedParams,match.params);let route=meta.route;matches.push({params:matchedParams,pathname:joinPaths([matchedPathname,match.pathname]),pathnameBase:normalizePathname(joinPaths([matchedPathname,match.pathnameBase])),route}),"/"!==match.pathnameBase&&(matchedPathname=joinPaths([matchedPathname,match.pathnameBase]))}return matches}function matchPath(pattern,pathname){"string"==typeof pattern&&(pattern={path:pattern,caseSensitive:!1,end:!0});let[matcher,paramNames]=function compilePath(path,caseSensitive,end){void 0===caseSensitive&&(caseSensitive=!1);void 0===end&&(end=!0);warning("*"===path||!path.endsWith("*")||path.endsWith("/*"),'Route path "'+path+'" will be treated as if it were "'+path.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+path.replace(/\*$/,"/*")+'".');let paramNames=[],regexpSource="^"+path.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((_,paramName)=>(paramNames.push(paramName),"/([^\\/]+)")));path.endsWith("*")?(paramNames.push("*"),regexpSource+="*"===path||"/*"===path?"(.*)$":"(?:\\/(.+)|\\/*)$"):end?regexpSource+="\\/*$":""!==path&&"/"!==path&&(regexpSource+="(?:(?=\\/|$))");let matcher=new RegExp(regexpSource,caseSensitive?void 0:"i");return[matcher,paramNames]}(pattern.path,pattern.caseSensitive,pattern.end),match=pathname.match(matcher);if(!match)return null;let matchedPathname=match[0],pathnameBase=matchedPathname.replace(/(.)\/+$/,"$1"),captureGroups=match.slice(1);return{params:paramNames.reduce(((memo,paramName,index)=>{if("*"===paramName){let splatValue=captureGroups[index]||"";pathnameBase=matchedPathname.slice(0,matchedPathname.length-splatValue.length).replace(/(.)\/+$/,"$1")}return memo[paramName]=function safelyDecodeURIComponent(value,paramName){try{return decodeURIComponent(value)}catch(error){return warning(!1,'The value for the URL param "'+paramName+'" will not be decoded because the string "'+value+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+error+")."),value}}(captureGroups[index]||"",paramName),memo}),{}),pathname:matchedPathname,pathnameBase,pattern}}function safelyDecodeURI(value){try{return decodeURI(value)}catch(error){return warning(!1,'The URL path "'+value+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+error+")."),value}}function stripBasename(pathname,basename){if("/"===basename)return pathname;if(!pathname.toLowerCase().startsWith(basename.toLowerCase()))return null;let startIndex=basename.endsWith("/")?basename.length-1:basename.length,nextChar=pathname.charAt(startIndex);return nextChar&&"/"!==nextChar?null:pathname.slice(startIndex)||"/"}function getInvalidPathError(char,field,dest,path){return"Cannot include a '"+char+"' character in a manually specified `to."+field+"` field ["+JSON.stringify(path)+"].  Please separate it out to the `to."+dest+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(matches){return matches.filter(((match,index)=>0===index||match.route.path&&match.route.path.length>0))}function resolveTo(toArg,routePathnames,locationPathname,isPathRelative){let to;void 0===isPathRelative&&(isPathRelative=!1),"string"==typeof toArg?to=parsePath(toArg):(to=_extends({},toArg),invariant(!to.pathname||!to.pathname.includes("?"),getInvalidPathError("?","pathname","search",to)),invariant(!to.pathname||!to.pathname.includes("#"),getInvalidPathError("#","pathname","hash",to)),invariant(!to.search||!to.search.includes("#"),getInvalidPathError("#","search","hash",to)));let from,isEmptyPath=""===toArg||""===to.pathname,toPathname=isEmptyPath?"/":to.pathname;if(isPathRelative||null==toPathname)from=locationPathname;else{let routePathnameIndex=routePathnames.length-1;if(toPathname.startsWith("..")){let toSegments=toPathname.split("/");for(;".."===toSegments[0];)toSegments.shift(),routePathnameIndex-=1;to.pathname=toSegments.join("/")}from=routePathnameIndex>=0?routePathnames[routePathnameIndex]:"/"}let path=function resolvePath(to,fromPathname){void 0===fromPathname&&(fromPathname="/");let{pathname:toPathname,search="",hash=""}="string"==typeof to?parsePath(to):to,pathname=toPathname?toPathname.startsWith("/")?toPathname:function resolvePathname(relativePath,fromPathname){let segments=fromPathname.replace(/\/+$/,"").split("/");return relativePath.split("/").forEach((segment=>{".."===segment?segments.length>1&&segments.pop():"."!==segment&&segments.push(segment)})),segments.length>1?segments.join("/"):"/"}(toPathname,fromPathname):fromPathname;return{pathname,search:normalizeSearch(search),hash:normalizeHash(hash)}}(to,from),hasExplicitTrailingSlash=toPathname&&"/"!==toPathname&&toPathname.endsWith("/"),hasCurrentTrailingSlash=(isEmptyPath||"."===toPathname)&&locationPathname.endsWith("/");return path.pathname.endsWith("/")||!hasExplicitTrailingSlash&&!hasCurrentTrailingSlash||(path.pathname+="/"),path}const joinPaths=paths=>paths.join("/").replace(/\/\/+/g,"/"),normalizePathname=pathname=>pathname.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=search=>search&&"?"!==search?search.startsWith("?")?search:"?"+search:"",normalizeHash=hash=>hash&&"#"!==hash?hash.startsWith("#")?hash:"#"+hash:"";Error;function isRouteErrorResponse(error){return null!=error&&"number"==typeof error.status&&"string"==typeof error.statusText&&"boolean"==typeof error.internal&&"data"in error}const validMutationMethodsArr=["post","put","patch","delete"],validRequestMethodsArr=(new Set(validMutationMethodsArr),["get",...validMutationMethodsArr]);new Set(validRequestMethodsArr),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred")},"./node_modules/clsx/dist/clsx.m.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clsx(){for(var e,t,f=0,n="";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/@recogito/annotorious-openseadragon/dist/annotorious.min.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}\n',"",{version:3,sources:["webpack://./node_modules/@recogito/annotorious-openseadragon/dist/annotorious.min.css"],names:[],mappings:"AAAA,YAAY,KAAK,CAAC,MAAM,CAAC,iBAAiB,CAAC,qBAAqB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,gEAAgE,qBAAqB,CAAC,oBAAoB,gBAAgB,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,gCAAgC,CAAC,0BAA0B,CAAC,oBAAoB,WAAW,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,sQAAsQ,gBAAgB,CAAC,cAAc,CAAC,gCAAgC,CAAC,qDAAqD,WAAW,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,iEAAiE,cAAc,CAAC,qDAAqD,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,CAAC,mEAAmE,gBAAgB,CAAC,qCAAqC,YAAY,CAAC,qCAAqC,cAAc,CAAC,kBAAkB,CAAC,cAAc,CAAC,2CAA2C,YAAY,CAAC,8DAA8D,cAAc,CAAC,oCAAoC,cAAc,CAAC,qBAAqB,CAAC,0CAA0C,cAAc,CAAC,YAAY,WAAW,CAAC,8BAA8B,cAAc,CAAC,SAAS,CAAC,8BAA8B,WAAW,CAAC,SAAS,CAAC,oCAAoC,YAAY,CAAC,SAAS,wBAAwB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,UAAU,CAAC,cAAc,CAAC,oBAAoB,CAAC,cAAc,CAAC,QAAQ,CAAC,YAAY,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,cAAc,CAAC,qBAAqB,CAAC,yBAAyB,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,WAAW,qBAAqB,CAAC,cAAc,CAAC,mBAAmB,gBAAgB,CAAC,kBAAkB,8BAA8B,CAAC,kCAAkC,CAAC,eAAe,wBAAwB,CAAC,oBAAoB,CAAC,iBAAiB,wBAAwB,CAAC,aAAa,CAAC,4BAA4B,CAAC,gBAAgB,CAAC,kBAAkB,cAAc,CAAC,iBAAiB,CAAC,qCAAqC,cAAc,CAAC,wBAAwB,YAAY,CAAC,WAAW,CAAC,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,eAAe,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,cAAc,CAAC,aAAa,CAAC,qBAAqB,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,2BAA2B,YAAY,CAAC,qBAAqB,qBAAqB,CAAC,gBAAgB,CAAC,UAAU,CAAC,cAAc,CAAC,mBAAmB,gBAAgB,CAAC,aAAa,CAAC,YAAY,CAAC,cAAc,CAAC,cAAc,CAAC,2BAA2B,CAAC,4CAA4C,8BAA8B,CAAC,aAAa,CAAC,oBAAoB,cAAc,CAAC,cAAc,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,iFAAiF,YAAY,CAAC,UAAU,CAAC,qBAAqB,CAAC,YAAY,CAAC,WAAW,CAAC,4BAA4B,CAAC,WAAW,CAAC,0CAA0C,oBAAoB,CAAC,kEAAkE,aAAa,CAAC,yDAAyD,aAAa,CAAC,wDAAwD,aAAa,CAAC,6DAA6D,aAAa,CAAC,sCAAsC,wBAAwB,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,eAAe,CAAC,gBAAgB,CAAC,cAAc,CAAC,2DAA2D,aAAa,CAAC,gBAAgB,CAAC,oCAAoC,iBAAiB,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,wBAAwB,CAAC,cAAc,CAAC,yBAAyB,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,kDAAkD,oBAAoB,CAAC,+CAA+C,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,2CAA2C,CAAC,wCAAwC,CAAC,0BAA0B,CAAC,kDAAkD,cAAc,CAAC,cAAc,CAAC,wDAAwD,wBAAwB,CAAC,yCAAyC,iBAAiB,CAAC,SAAS,CAAC,6BAA6B,wBAAwB,CAAC,0BAA0B,YAAY,CAAC,qEAAqE,gCAAgC,WAAW,CAAC,gEAAgE,iBAAiB,CAAC,QAAQ,CAAC,CAAC,oBAAoB,wBAAwB,CAAC,+BAA+B,CAAC,eAAe,CAAC,YAAY,CAAC,uBAAuB,QAAQ,CAAC,SAAS,CAAC,oBAAoB,CAAC,SAAS,CAAC,mCAAmC,MAAM,CAAC,kBAAkB,CAAC,sCAAsC,oBAAoB,CAAC,oBAAoB,CAAC,SAAS,CAAC,qBAAqB,CAAC,eAAe,CAAC,cAAc,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,cAAc,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,yCAAyC,CAAC,sCAAsC,CAAC,4BAA4B,CAAC,iDAAiD,eAAe,CAAC,oBAAoB,CAAC,0DAA0D,oBAAoB,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC,wBAAwB,CAAC,mCAAmC,CAAC,sCAAsC,CAAC,iCAAiC,CAAC,oCAAoC,CAAC,+BAA+B,CAAC,kCAAkC,CAAC,2BAA2B,CAAC,8BAA8B,CAAC,sEAAsE,eAAe,CAAC,8DAA8D,uBAAuB,CAAC,+DAA+D,UAAU,CAAC,oBAAoB,CAAC,oHAAoH,UAAU,CAAC,8DAA8D,OAAO,CAAC,oBAAoB,CAAC,sCAAsC,MAAM,CAAC,iBAAiB,CAAC,yCAAyC,cAAc,CAAC,0BAA0B,UAAU,CAAC,aAAa,CAAC,cAAc,CAAC,YAAY,CAAC,WAAW,CAAC,gBAAgB,CAAC,4BAA4B,CAAC,aAAa,CAAC,qDAAqD,aAAa,CAAC,4CAA4C,aAAa,CAAC,2CAA2C,aAAa,CAAC,gDAAgD,aAAa,CAAC,YAAY,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,2BAA2B,CAAC,cAAc,CAAC,gBAAgB,CAAC,sCAAsC,CAAC,mCAAmC,CAAC,8BAA8B,CAAC,uBAAuB,iBAAiB,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,6BAA6B,UAAU,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,kCAAkC,CAAC,+BAA+B,CAAC,4BAA4B,CAAC,2BAA2B,CAAC,0BAA0B,CAAC,uBAAuB,CAAC,8BAA8B,qBAAqB,CAAC,yBAAyB,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,8CAA8C,CAAC,2CAA2C,CAAC,6BAA6B,CAAC,sDAAsD,kCAAkC,CAAC,mCAAmC,CAAC,gCAAgC,CAAC,iCAAiC,CAAC,8BAA8B,CAAC,+BAA+B,CAAC,0BAA0B,CAAC,2BAA2B,CAAC,0CAA0C,+BAA+B,CAAC,wBAAwB,iBAAiB,CAAC,gBAAgB,CAAC,aAAa,CAAC,iCAAiC,gBAAgB,CAAC,mDAAmD,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,4BAA4B,CAAC,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,kBAAkB,CAAC,SAAS,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,kCAAkC,CAAC,+BAA+B,CAAC,6BAA6B,CAAC,0BAA0B,CAAC,yDAAyD,UAAU,CAAC,wBAAwB,CAAC,0BAA0B,YAAY,WAAW,CAAC,CAAC,qCAAqC,aAAa,CAAC,4BAA4B,eAAe,CAAC,uCAAuC,SAAS,CAAC,UAAU,CAAC,wCAAwC,aAAa,CAAC,QAAQ,CAAC,YAAY,CAAC,8CAA8C,SAAS,CAAC,eAAe,CAAC,6DAA6D,YAAY,CAAC,2BAA2B,WAAW,CAAC,qBAAqB,WAAW,CAAC,oBAAoB,CAAC,cAAc,0BAA0B,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,iCAAiC,cAAc,CAAC,6CAA6C,WAAW,CAAC,6BAA6B,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,mBAAmB",sourcesContent:['.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.a9s-osd-crosshair-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}\n'],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/getUrl.js":module=>{"use strict";module.exports=function(url,options){return options||(options={}),url?(url=String(url.__esModule?url.default:url),/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),options.hash&&(url+=options.hash),/["'() \t\n]|(%20)/.test(url)||options.needQuotes?'"'.concat(url.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):url):url}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/domelementtype/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";var ElementType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Doctype=exports.CDATA=exports.Tag=exports.Style=exports.Script=exports.Comment=exports.Directive=exports.Text=exports.Root=exports.isTag=exports.ElementType=void 0,function(ElementType){ElementType.Root="root",ElementType.Text="text",ElementType.Directive="directive",ElementType.Comment="comment",ElementType.Script="script",ElementType.Style="style",ElementType.Tag="tag",ElementType.CDATA="cdata",ElementType.Doctype="doctype"}(ElementType=exports.ElementType||(exports.ElementType={})),exports.isTag=function isTag(elem){return elem.type===ElementType.Tag||elem.type===ElementType.Script||elem.type===ElementType.Style},exports.Root=ElementType.Root,exports.Text=ElementType.Text,exports.Directive=ElementType.Directive,exports.Comment=ElementType.Comment,exports.Script=ElementType.Script,exports.Style=ElementType.Style,exports.Tag=ElementType.Tag,exports.CDATA=ElementType.CDATA,exports.Doctype=ElementType.Doctype},"./node_modules/domhandler/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomHandler=void 0;var domelementtype_1=__webpack_require__("./node_modules/domelementtype/lib/index.js"),node_js_1=__webpack_require__("./node_modules/domhandler/lib/node.js");__exportStar(__webpack_require__("./node_modules/domhandler/lib/node.js"),exports);var defaultOpts={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},DomHandler=function(){function DomHandler(callback,options,elementCB){this.dom=[],this.root=new node_js_1.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof options&&(elementCB=options,options=defaultOpts),"object"==typeof callback&&(options=callback,callback=void 0),this.callback=null!=callback?callback:null,this.options=null!=options?options:defaultOpts,this.elementCB=null!=elementCB?elementCB:null}return DomHandler.prototype.onparserinit=function(parser){this.parser=parser},DomHandler.prototype.onreset=function(){this.dom=[],this.root=new node_js_1.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},DomHandler.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},DomHandler.prototype.onerror=function(error){this.handleCallback(error)},DomHandler.prototype.onclosetag=function(){this.lastNode=null;var elem=this.tagStack.pop();this.options.withEndIndices&&(elem.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(elem)},DomHandler.prototype.onopentag=function(name,attribs){var type=this.options.xmlMode?domelementtype_1.ElementType.Tag:void 0,element=new node_js_1.Element(name,attribs,void 0,type);this.addNode(element),this.tagStack.push(element)},DomHandler.prototype.ontext=function(data){var lastNode=this.lastNode;if(lastNode&&lastNode.type===domelementtype_1.ElementType.Text)lastNode.data+=data,this.options.withEndIndices&&(lastNode.endIndex=this.parser.endIndex);else{var node=new node_js_1.Text(data);this.addNode(node),this.lastNode=node}},DomHandler.prototype.oncomment=function(data){if(this.lastNode&&this.lastNode.type===domelementtype_1.ElementType.Comment)this.lastNode.data+=data;else{var node=new node_js_1.Comment(data);this.addNode(node),this.lastNode=node}},DomHandler.prototype.oncommentend=function(){this.lastNode=null},DomHandler.prototype.oncdatastart=function(){var text=new node_js_1.Text(""),node=new node_js_1.CDATA([text]);this.addNode(node),text.parent=node,this.lastNode=text},DomHandler.prototype.oncdataend=function(){this.lastNode=null},DomHandler.prototype.onprocessinginstruction=function(name,data){var node=new node_js_1.ProcessingInstruction(name,data);this.addNode(node)},DomHandler.prototype.handleCallback=function(error){if("function"==typeof this.callback)this.callback(error,this.dom);else if(error)throw error},DomHandler.prototype.addNode=function(node){var parent=this.tagStack[this.tagStack.length-1],previousSibling=parent.children[parent.children.length-1];this.options.withStartIndices&&(node.startIndex=this.parser.startIndex),this.options.withEndIndices&&(node.endIndex=this.parser.endIndex),parent.children.push(node),previousSibling&&(node.prev=previousSibling,previousSibling.next=node),node.parent=parent,this.lastNode=null},DomHandler}();exports.DomHandler=DomHandler,exports.default=DomHandler},"./node_modules/domhandler/lib/node.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneNode=exports.hasChildren=exports.isDocument=exports.isDirective=exports.isComment=exports.isText=exports.isCDATA=exports.isTag=exports.Element=exports.Document=exports.CDATA=exports.NodeWithChildren=exports.ProcessingInstruction=exports.Comment=exports.Text=exports.DataNode=exports.Node=void 0;var domelementtype_1=__webpack_require__("./node_modules/domelementtype/lib/index.js"),Node=function(){function Node(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(Node.prototype,"parentNode",{get:function(){return this.parent},set:function(parent){this.parent=parent},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"previousSibling",{get:function(){return this.prev},set:function(prev){this.prev=prev},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"nextSibling",{get:function(){return this.next},set:function(next){this.next=next},enumerable:!1,configurable:!0}),Node.prototype.cloneNode=function(recursive){return void 0===recursive&&(recursive=!1),cloneNode(this,recursive)},Node}();exports.Node=Node;var DataNode=function(_super){function DataNode(data){var _this=_super.call(this)||this;return _this.data=data,_this}return __extends(DataNode,_super),Object.defineProperty(DataNode.prototype,"nodeValue",{get:function(){return this.data},set:function(data){this.data=data},enumerable:!1,configurable:!0}),DataNode}(Node);exports.DataNode=DataNode;var Text=function(_super){function Text(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=domelementtype_1.ElementType.Text,_this}return __extends(Text,_super),Object.defineProperty(Text.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),Text}(DataNode);exports.Text=Text;var Comment=function(_super){function Comment(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=domelementtype_1.ElementType.Comment,_this}return __extends(Comment,_super),Object.defineProperty(Comment.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),Comment}(DataNode);exports.Comment=Comment;var ProcessingInstruction=function(_super){function ProcessingInstruction(name,data){var _this=_super.call(this,data)||this;return _this.name=name,_this.type=domelementtype_1.ElementType.Directive,_this}return __extends(ProcessingInstruction,_super),Object.defineProperty(ProcessingInstruction.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),ProcessingInstruction}(DataNode);exports.ProcessingInstruction=ProcessingInstruction;var NodeWithChildren=function(_super){function NodeWithChildren(children){var _this=_super.call(this)||this;return _this.children=children,_this}return __extends(NodeWithChildren,_super),Object.defineProperty(NodeWithChildren.prototype,"firstChild",{get:function(){var _a;return null!==(_a=this.children[0])&&void 0!==_a?_a:null},enumerable:!1,configurable:!0}),Object.defineProperty(NodeWithChildren.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(NodeWithChildren.prototype,"childNodes",{get:function(){return this.children},set:function(children){this.children=children},enumerable:!1,configurable:!0}),NodeWithChildren}(Node);exports.NodeWithChildren=NodeWithChildren;var CDATA=function(_super){function CDATA(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=domelementtype_1.ElementType.CDATA,_this}return __extends(CDATA,_super),Object.defineProperty(CDATA.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),CDATA}(NodeWithChildren);exports.CDATA=CDATA;var Document=function(_super){function Document(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=domelementtype_1.ElementType.Root,_this}return __extends(Document,_super),Object.defineProperty(Document.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),Document}(NodeWithChildren);exports.Document=Document;var Element=function(_super){function Element(name,attribs,children,type){void 0===children&&(children=[]),void 0===type&&(type="script"===name?domelementtype_1.ElementType.Script:"style"===name?domelementtype_1.ElementType.Style:domelementtype_1.ElementType.Tag);var _this=_super.call(this,children)||this;return _this.name=name,_this.attribs=attribs,_this.type=type,_this}return __extends(Element,_super),Object.defineProperty(Element.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(Element.prototype,"tagName",{get:function(){return this.name},set:function(name){this.name=name},enumerable:!1,configurable:!0}),Object.defineProperty(Element.prototype,"attributes",{get:function(){var _this=this;return Object.keys(this.attribs).map((function(name){var _a,_b;return{name,value:_this.attribs[name],namespace:null===(_a=_this["x-attribsNamespace"])||void 0===_a?void 0:_a[name],prefix:null===(_b=_this["x-attribsPrefix"])||void 0===_b?void 0:_b[name]}}))},enumerable:!1,configurable:!0}),Element}(NodeWithChildren);function isTag(node){return(0,domelementtype_1.isTag)(node)}function isCDATA(node){return node.type===domelementtype_1.ElementType.CDATA}function isText(node){return node.type===domelementtype_1.ElementType.Text}function isComment(node){return node.type===domelementtype_1.ElementType.Comment}function isDirective(node){return node.type===domelementtype_1.ElementType.Directive}function isDocument(node){return node.type===domelementtype_1.ElementType.Root}function cloneNode(node,recursive){var result;if(void 0===recursive&&(recursive=!1),isText(node))result=new Text(node.data);else if(isComment(node))result=new Comment(node.data);else if(isTag(node)){var children=recursive?cloneChildren(node.children):[],clone_1=new Element(node.name,__assign({},node.attribs),children);children.forEach((function(child){return child.parent=clone_1})),null!=node.namespace&&(clone_1.namespace=node.namespace),node["x-attribsNamespace"]&&(clone_1["x-attribsNamespace"]=__assign({},node["x-attribsNamespace"])),node["x-attribsPrefix"]&&(clone_1["x-attribsPrefix"]=__assign({},node["x-attribsPrefix"])),result=clone_1}else if(isCDATA(node)){children=recursive?cloneChildren(node.children):[];var clone_2=new CDATA(children);children.forEach((function(child){return child.parent=clone_2})),result=clone_2}else if(isDocument(node)){children=recursive?cloneChildren(node.children):[];var clone_3=new Document(children);children.forEach((function(child){return child.parent=clone_3})),node["x-mode"]&&(clone_3["x-mode"]=node["x-mode"]),result=clone_3}else{if(!isDirective(node))throw new Error("Not implemented yet: ".concat(node.type));var instruction=new ProcessingInstruction(node.name,node.data);null!=node["x-name"]&&(instruction["x-name"]=node["x-name"],instruction["x-publicId"]=node["x-publicId"],instruction["x-systemId"]=node["x-systemId"]),result=instruction}return result.startIndex=node.startIndex,result.endIndex=node.endIndex,null!=node.sourceCodeLocation&&(result.sourceCodeLocation=node.sourceCodeLocation),result}function cloneChildren(childs){for(var children=childs.map((function(child){return cloneNode(child,!0)})),i=1;i<children.length;i++)children[i].prev=children[i-1],children[i-1].next=children[i];return children}exports.Element=Element,exports.isTag=isTag,exports.isCDATA=isCDATA,exports.isText=isText,exports.isComment=isComment,exports.isDirective=isDirective,exports.isDocument=isDocument,exports.hasChildren=function hasChildren(node){return Object.prototype.hasOwnProperty.call(node,"children")},exports.cloneNode=cloneNode},"./node_modules/extend/index.js":module=>{"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function isArray(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function isPlainObject(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var key,hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function setProperty(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function getProperty(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),target!==(copy=getProperty(options,name))&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name,newValue:copy}));return target}},"./node_modules/history/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{lX:()=>createBrowserHistory});var Action,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js");!function(Action){Action.Pop="POP",Action.Push="PUSH",Action.Replace="REPLACE"}(Action||(Action={}));var readOnly=function(obj){return obj};var BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(options){void 0===options&&(options={});var _options$window=options.window,window=void 0===_options$window?document.defaultView:_options$window,globalHistory=window.history;function getIndexAndLocation(){var _window$location=window.location,pathname=_window$location.pathname,search=_window$location.search,hash=_window$location.hash,state=globalHistory.state||{};return[state.idx,readOnly({pathname,search,hash,state:state.usr||null,key:state.key||"default"})]}var blockedPopTx=null;window.addEventListener(PopStateEventType,(function handlePop(){if(blockedPopTx)blockers.call(blockedPopTx),blockedPopTx=null;else{var nextAction=Action.Pop,_getIndexAndLocation=getIndexAndLocation(),nextIndex=_getIndexAndLocation[0],nextLocation=_getIndexAndLocation[1];if(blockers.length){if(null!=nextIndex){var delta=index-nextIndex;delta&&(blockedPopTx={action:nextAction,location:nextLocation,retry:function retry(){go(-1*delta)}},go(delta))}}else applyTx(nextAction)}}));var action=Action.Pop,_getIndexAndLocation2=getIndexAndLocation(),index=_getIndexAndLocation2[0],location=_getIndexAndLocation2[1],listeners=createEvents(),blockers=createEvents();function createHref(to){return"string"==typeof to?to:createPath(to)}function getNextLocation(to,state){return void 0===state&&(state=null),readOnly((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.Z)({pathname:location.pathname,hash:"",search:""},"string"==typeof to?parsePath(to):to,{state,key:createKey()}))}function getHistoryStateAndUrl(nextLocation,index){return[{usr:nextLocation.state,key:nextLocation.key,idx:index},createHref(nextLocation)]}function allowTx(action,location,retry){return!blockers.length||(blockers.call({action,location,retry}),!1)}function applyTx(nextAction){action=nextAction;var _getIndexAndLocation3=getIndexAndLocation();index=_getIndexAndLocation3[0],location=_getIndexAndLocation3[1],listeners.call({action,location})}function go(delta){globalHistory.go(delta)}null==index&&(index=0,globalHistory.replaceState((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.Z)({},globalHistory.state,{idx:index}),""));var history={get action(){return action},get location(){return location},createHref,push:function push(to,state){var nextAction=Action.Push,nextLocation=getNextLocation(to,state);if(allowTx(nextAction,nextLocation,(function retry(){push(to,state)}))){var _getHistoryStateAndUr=getHistoryStateAndUrl(nextLocation,index+1),historyState=_getHistoryStateAndUr[0],url=_getHistoryStateAndUr[1];try{globalHistory.pushState(historyState,"",url)}catch(error){window.location.assign(url)}applyTx(nextAction)}},replace:function replace(to,state){var nextAction=Action.Replace,nextLocation=getNextLocation(to,state);if(allowTx(nextAction,nextLocation,(function retry(){replace(to,state)}))){var _getHistoryStateAndUr2=getHistoryStateAndUrl(nextLocation,index),historyState=_getHistoryStateAndUr2[0],url=_getHistoryStateAndUr2[1];globalHistory.replaceState(historyState,"",url),applyTx(nextAction)}},go,back:function back(){go(-1)},forward:function forward(){go(1)},listen:function listen(listener){return listeners.push(listener)},block:function block(blocker){var unblock=blockers.push(blocker);return 1===blockers.length&&window.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){unblock(),blockers.length||window.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return history}function promptBeforeUnload(event){event.preventDefault(),event.returnValue=""}function createEvents(){var handlers=[];return{get length(){return handlers.length},push:function push(fn){return handlers.push(fn),function(){handlers=handlers.filter((function(handler){return handler!==fn}))}},call:function call(arg){handlers.forEach((function(fn){return fn&&fn(arg)}))}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(_ref){var _ref$pathname=_ref.pathname,pathname=void 0===_ref$pathname?"/":_ref$pathname,_ref$search=_ref.search,search=void 0===_ref$search?"":_ref$search,_ref$hash=_ref.hash,hash=void 0===_ref$hash?"":_ref$hash;return search&&"?"!==search&&(pathname+="?"===search.charAt(0)?search:"?"+search),hash&&"#"!==hash&&(pathname+="#"===hash.charAt(0)?hash:"#"+hash),pathname}function parsePath(path){var parsedPath={};if(path){var hashIndex=path.indexOf("#");hashIndex>=0&&(parsedPath.hash=path.substr(hashIndex),path=path.substr(0,hashIndex));var searchIndex=path.indexOf("?");searchIndex>=0&&(parsedPath.search=path.substr(searchIndex),path=path.substr(0,searchIndex)),path&&(parsedPath.pathname=path)}return parsedPath}},"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var reactIs=__webpack_require__("./node_modules/hoist-non-react-statics/node_modules/react-is/index.js"),REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(component){return reactIs.isMemo(component)?MEMO_STATICS:TYPE_STATICS[component.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if("string"!=typeof sourceComponent){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);inheritedComponent&&inheritedComponent!==objectPrototype&&hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}var keys=getOwnPropertyNames(sourceComponent);getOwnPropertySymbols&&(keys=keys.concat(getOwnPropertySymbols(sourceComponent)));for(var targetStatics=getStatics(targetComponent),sourceStatics=getStatics(sourceComponent),i=0;i<keys.length;++i){var key=keys[i];if(!(KNOWN_STATICS[key]||blacklist&&blacklist[key]||sourceStatics&&sourceStatics[key]||targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}},"./node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=t,exports.Memo=r,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isAsyncMode=function(a){return A(a)||z(a)===l},exports.isConcurrentMode=A,exports.isContextConsumer=function(a){return z(a)===k},exports.isContextProvider=function(a){return z(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return z(a)===n},exports.isFragment=function(a){return z(a)===e},exports.isLazy=function(a){return z(a)===t},exports.isMemo=function(a){return z(a)===r},exports.isPortal=function(a){return z(a)===d},exports.isProfiler=function(a){return z(a)===g},exports.isStrictMode=function(a){return z(a)===f},exports.isSuspense=function(a){return z(a)===p},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)},exports.typeOf=z},"./node_modules/hoist-non-react-statics/node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/html-dom-parser/lib/client/constants.js":(__unused_webpack_module,exports)=>{exports.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},"./node_modules/html-dom-parser/lib/client/domparser.js":module=>{var FIRST_TAG_REGEX=/<([a-zA-Z]+[0-9]?)/,HEAD_TAG_REGEX=/<head[^]*>/i,BODY_TAG_REGEX=/<body[^]*>/i,parseFromDocument=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},parseFromString=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},DOMParser="object"==typeof window&&window.DOMParser;if("function"==typeof DOMParser){var domParser=new DOMParser;parseFromDocument=parseFromString=function(html,tagName){return tagName&&(html="<"+tagName+">"+html+"</"+tagName+">"),domParser.parseFromString(html,"text/html")}}if("object"==typeof document&&document.implementation){var doc=document.implementation.createHTMLDocument();parseFromDocument=function(html,tagName){return tagName?(doc.documentElement.querySelector(tagName).innerHTML=html,doc):(doc.documentElement.innerHTML=html,doc)}}var parseFromTemplate,template="object"==typeof document?document.createElement("template"):{};template.content&&(parseFromTemplate=function(html){return template.innerHTML=html,template.content.childNodes}),module.exports=function domparser(html){var firstTagName,doc,element,elements,match=html.match(FIRST_TAG_REGEX);switch(match&&match[1]&&(firstTagName=match[1].toLowerCase()),firstTagName){case"html":return doc=parseFromString(html),HEAD_TAG_REGEX.test(html)||(element=doc.querySelector("head"))&&element.parentNode.removeChild(element),BODY_TAG_REGEX.test(html)||(element=doc.querySelector("body"))&&element.parentNode.removeChild(element),doc.querySelectorAll("html");case"head":case"body":return elements=(doc=parseFromDocument(html)).querySelectorAll(firstTagName),BODY_TAG_REGEX.test(html)&&HEAD_TAG_REGEX.test(html)?elements[0].parentNode.childNodes:elements;default:return parseFromTemplate?parseFromTemplate(html):(element=parseFromDocument(html,"body").querySelector("body")).childNodes}}},"./node_modules/html-dom-parser/lib/client/html-to-dom.js":(module,__unused_webpack_exports,__webpack_require__)=>{var domparser=__webpack_require__("./node_modules/html-dom-parser/lib/client/domparser.js"),formatDOM=__webpack_require__("./node_modules/html-dom-parser/lib/client/utilities.js").formatDOM,DIRECTIVE_REGEX=/<(![a-zA-Z\s]+)>/;module.exports=function HTMLDOMParser(html){if("string"!=typeof html)throw new TypeError("First argument must be a string");if(""===html)return[];var directive,match=html.match(DIRECTIVE_REGEX);return match&&match[1]&&(directive=match[1]),formatDOM(domparser(html),null,directive)}},"./node_modules/html-dom-parser/lib/client/utilities.js":(__unused_webpack_module,exports,__webpack_require__)=>{for(var tagName,domhandler=__webpack_require__("./node_modules/domhandler/lib/index.js"),CASE_SENSITIVE_TAG_NAMES=__webpack_require__("./node_modules/html-dom-parser/lib/client/constants.js").CASE_SENSITIVE_TAG_NAMES,Comment=domhandler.Comment,Element=domhandler.Element,ProcessingInstruction=domhandler.ProcessingInstruction,Text=domhandler.Text,caseSensitiveTagNamesMap={},i=0,len=CASE_SENSITIVE_TAG_NAMES.length;i<len;i++)tagName=CASE_SENSITIVE_TAG_NAMES[i],caseSensitiveTagNamesMap[tagName.toLowerCase()]=tagName;function formatAttributes(attributes){for(var attribute,result={},i=0,len=attributes.length;i<len;i++)result[(attribute=attributes[i]).name]=attribute.value;return result}function formatTagName(tagName){var caseSensitiveTagName=function getCaseSensitiveTagName(tagName){return caseSensitiveTagNamesMap[tagName]}(tagName=tagName.toLowerCase());return caseSensitiveTagName||tagName}exports.formatAttributes=formatAttributes,exports.formatDOM=function formatDOM(nodes,parent,directive){parent=parent||null;for(var tagName,result=[],index=0,len=nodes.length;index<len;index++){var current,node=nodes[index];switch(node.nodeType){case 1:tagName=formatTagName(node.nodeName),(current=new Element(tagName,formatAttributes(node.attributes))).children=formatDOM("template"===tagName?node.content.childNodes:node.childNodes,current);break;case 3:current=new Text(node.nodeValue);break;case 8:current=new Comment(node.nodeValue);break;default:continue}var prev=result[index-1]||null;prev&&(prev.next=current),current.parent=parent,current.prev=prev,current.next=null,result.push(current)}return directive&&((current=new ProcessingInstruction(directive.substring(0,directive.indexOf(" ")).toLowerCase(),directive)).next=result[0]||null,current.parent=parent,result.unshift(current),result[1]&&(result[1].prev=result[0])),result}},"./node_modules/html-react-parser/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var domhandler=__webpack_require__("./node_modules/domhandler/lib/index.js"),htmlToDOM=__webpack_require__("./node_modules/html-dom-parser/lib/client/html-to-dom.js"),attributesToProps=__webpack_require__("./node_modules/html-react-parser/lib/attributes-to-props.js"),domToReact=__webpack_require__("./node_modules/html-react-parser/lib/dom-to-react.js");htmlToDOM="function"==typeof htmlToDOM.default?htmlToDOM.default:htmlToDOM;var domParserOptions={lowerCaseAttributeNames:!1};function HTMLReactParser(html,options){if("string"!=typeof html)throw new TypeError("First argument must be a string");return""===html?[]:domToReact(htmlToDOM(html,(options=options||{}).htmlparser2||domParserOptions),options)}HTMLReactParser.domToReact=domToReact,HTMLReactParser.htmlToDOM=htmlToDOM,HTMLReactParser.attributesToProps=attributesToProps,HTMLReactParser.Comment=domhandler.Comment,HTMLReactParser.Element=domhandler.Element,HTMLReactParser.ProcessingInstruction=domhandler.ProcessingInstruction,HTMLReactParser.Text=domhandler.Text,module.exports=HTMLReactParser,HTMLReactParser.default=HTMLReactParser},"./node_modules/html-react-parser/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/html-react-parser/index.js"),_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_index_js__WEBPACK_IMPORTED_MODULE_0__);_index_js__WEBPACK_IMPORTED_MODULE_0___default().domToReact,_index_js__WEBPACK_IMPORTED_MODULE_0___default().htmlToDOM,_index_js__WEBPACK_IMPORTED_MODULE_0___default().attributesToProps,_index_js__WEBPACK_IMPORTED_MODULE_0___default().Comment,_index_js__WEBPACK_IMPORTED_MODULE_0___default().Element,_index_js__WEBPACK_IMPORTED_MODULE_0___default().ProcessingInstruction,_index_js__WEBPACK_IMPORTED_MODULE_0___default().Text;const __WEBPACK_DEFAULT_EXPORT__=_index_js__WEBPACK_IMPORTED_MODULE_0___default()},"./node_modules/html-react-parser/lib/attributes-to-props.js":(module,__unused_webpack_exports,__webpack_require__)=>{var reactProperty=__webpack_require__("./node_modules/react-property/lib/index.js"),utilities=__webpack_require__("./node_modules/html-react-parser/lib/utilities.js"),UNCONTROLLED_COMPONENT_ATTRIBUTES=["checked","value"],UNCONTROLLED_COMPONENT_NAMES=["input","select","textarea"],VALUE_ONLY_INPUTS={reset:!0,submit:!0};function getPropName(attributeName){return reactProperty.possibleStandardNames[attributeName]}module.exports=function attributesToProps(attributes,nodeName){var attributeName,attributeNameLowerCased,attributeValue,propName,propertyInfo,props={},inputIsValueOnly=(attributes=attributes||{}).type&&VALUE_ONLY_INPUTS[attributes.type];for(attributeName in attributes)if(attributeValue=attributes[attributeName],reactProperty.isCustomAttribute(attributeName))props[attributeName]=attributeValue;else if(propName=getPropName(attributeNameLowerCased=attributeName.toLowerCase()))switch(propertyInfo=reactProperty.getPropertyInfo(propName),-1===UNCONTROLLED_COMPONENT_ATTRIBUTES.indexOf(propName)||-1===UNCONTROLLED_COMPONENT_NAMES.indexOf(nodeName)||inputIsValueOnly||(propName=getPropName("default"+attributeNameLowerCased)),props[propName]=attributeValue,propertyInfo&&propertyInfo.type){case reactProperty.BOOLEAN:props[propName]=!0;break;case reactProperty.OVERLOADED_BOOLEAN:""===attributeValue&&(props[propName]=!0)}else utilities.PRESERVE_CUSTOM_ATTRIBUTES&&(props[attributeName]=attributeValue);return utilities.setStyleProp(attributes.style,props),props}},"./node_modules/html-react-parser/lib/dom-to-react.js":(module,__unused_webpack_exports,__webpack_require__)=>{var React=__webpack_require__("./node_modules/react/index.js"),attributesToProps=__webpack_require__("./node_modules/html-react-parser/lib/attributes-to-props.js"),utilities=__webpack_require__("./node_modules/html-react-parser/lib/utilities.js"),setStyleProp=utilities.setStyleProp,canTextBeChildOfNode=utilities.canTextBeChildOfNode;function skipAttributesToProps(node){return utilities.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===node.type&&utilities.isCustomComponent(node.name,node.attribs)}module.exports=function domToReact(nodes,options){for(var node,isWhitespace,replaceElement,props,children,library=(options=options||{}).library||React,cloneElement=library.cloneElement,createElement=library.createElement,isValidElement=library.isValidElement,result=[],hasReplace="function"==typeof options.replace,transform=options.transform||utilities.returnFirstArg,trim=options.trim,i=0,len=nodes.length;i<len;i++)if(node=nodes[i],hasReplace&&isValidElement(replaceElement=options.replace(node)))len>1&&(replaceElement=cloneElement(replaceElement,{key:replaceElement.key||i})),result.push(transform(replaceElement,node,i));else if("text"!==node.type){switch(props=node.attribs,skipAttributesToProps(node)?setStyleProp(props.style,props):props&&(props=attributesToProps(props,node.name)),children=null,node.type){case"script":case"style":node.children[0]&&(props.dangerouslySetInnerHTML={__html:node.children[0].data});break;case"tag":"textarea"===node.name&&node.children[0]?props.defaultValue=node.children[0].data:node.children&&node.children.length&&(children=domToReact(node.children,options));break;default:continue}len>1&&(props.key=i),result.push(transform(createElement(node.name,props,children),node,i))}else{if((isWhitespace=!node.data.trim().length)&&node.parent&&!canTextBeChildOfNode(node.parent))continue;if(trim&&isWhitespace)continue;result.push(transform(node.data,node,i))}return 1===result.length?result[0]:result}},"./node_modules/html-react-parser/lib/utilities.js":(module,__unused_webpack_exports,__webpack_require__)=>{var React=__webpack_require__("./node_modules/react/index.js"),styleToJS=__webpack_require__("./node_modules/style-to-js/cjs/index.js").default;var RESERVED_SVG_MATHML_ELEMENTS=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);var STYLE_TO_JS_OPTIONS={reactCompat:!0};var PRESERVE_CUSTOM_ATTRIBUTES=React.version.split(".")[0]>=16,ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);module.exports={PRESERVE_CUSTOM_ATTRIBUTES,ELEMENTS_WITH_NO_TEXT_CHILDREN,invertObject:function invertObject(obj,override){if(!obj||"object"!=typeof obj)throw new TypeError("First argument must be an object");var isOverridePresent="function"==typeof override,overrides={},result={};for(var key in obj){var value=obj[key];isOverridePresent&&(overrides=override(key,value))&&2===overrides.length?result[overrides[0]]=overrides[1]:"string"==typeof value&&(result[value]=key)}return result},isCustomComponent:function isCustomComponent(tagName,props){return-1===tagName.indexOf("-")?props&&"string"==typeof props.is:!RESERVED_SVG_MATHML_ELEMENTS.has(tagName)},setStyleProp:function setStyleProp(style,props){if(null!=style)try{props.style=styleToJS(style,STYLE_TO_JS_OPTIONS)}catch(err){props.style={}}},canTextBeChildOfNode:function canTextBeChildOfNode(node){return!ELEMENTS_WITH_NO_TEXT_CHILDREN.has(node.name)},returnFirstArg:function returnFirstArg(arg){return arg}}},"./node_modules/inline-style-parser/index.js":module=>{var COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g;function trim(str){return str?str.replace(TRIM_REGEX,""):""}module.exports=function(style,options){if("string"!=typeof style)throw new TypeError("First argument must be a string");if(!style)return[];options=options||{};var lineno=1,column=1;function updatePosition(str){var lines=str.match(NEWLINE_REGEX);lines&&(lineno+=lines.length);var i=str.lastIndexOf("\n");column=~i?str.length-i:column+str.length}function position(){var start={line:lineno,column};return function(node){return node.position=new Position(start),whitespace(),node}}function Position(start){this.start=start,this.end={line:lineno,column},this.source=options.source}Position.prototype.content=style;var errorsList=[];function error(msg){var err=new Error(options.source+":"+lineno+":"+column+": "+msg);if(err.reason=msg,err.filename=options.source,err.line=lineno,err.column=column,err.source=style,!options.silent)throw err;errorsList.push(err)}function match(re){var m=re.exec(style);if(m){var str=m[0];return updatePosition(str),style=style.slice(str.length),m}}function whitespace(){match(WHITESPACE_REGEX)}function comments(rules){var c;for(rules=rules||[];c=comment();)!1!==c&&rules.push(c);return rules}function comment(){var pos=position();if("/"==style.charAt(0)&&"*"==style.charAt(1)){for(var i=2;""!=style.charAt(i)&&("*"!=style.charAt(i)||"/"!=style.charAt(i+1));)++i;if(i+=2,""===style.charAt(i-1))return error("End of comment missing");var str=style.slice(2,i-2);return column+=2,updatePosition(str),style=style.slice(i),column+=2,pos({type:"comment",comment:str})}}function declaration(){var pos=position(),prop=match(PROPERTY_REGEX);if(prop){if(comment(),!match(COLON_REGEX))return error("property missing ':'");var val=match(VALUE_REGEX),ret=pos({type:"declaration",property:trim(prop[0].replace(COMMENT_REGEX,"")),value:val?trim(val[0].replace(COMMENT_REGEX,"")):""});return match(SEMICOLON_REGEX),ret}}return whitespace(),function declarations(){var decl,decls=[];for(comments(decls);decl=declaration();)!1!==decl&&(decls.push(decl),comments(decls));return decls}()}},"./node_modules/is-buffer/index.js":module=>{module.exports=function isBuffer(obj){return null!=obj&&null!=obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}},"./node_modules/lodash.throttle/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectToString=Object.prototype.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var result=wait-(time-lastCallTime);return maxing?nativeMin(result,maxWait-(time-lastInvokeTime)):result}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function toNumber(value){if("number"==typeof value)return value;if(function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}},"./node_modules/openseadragon/build/openseadragon/openseadragon.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,$,fullScreenApi;function OpenSeadragon(options){return new OpenSeadragon.Viewer(options)}!function($){$.version={versionStr:"4.1.0",major:parseInt("4",10),minor:parseInt("1",10),revision:parseInt("0",10)};var canvasElement,class2type={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty;$.isFunction=function(obj){return"function"===$.type(obj)},$.isArray=Array.isArray||function(obj){return"array"===$.type(obj)},$.isWindow=function(obj){return obj&&"object"==typeof obj&&"setInterval"in obj},$.type=function(obj){return null==obj?String(obj):class2type[toString.call(obj)]||"object"},$.isPlainObject=function(obj){if(!obj||"object"!==OpenSeadragon.type(obj)||obj.nodeType||$.isWindow(obj))return!1;if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1;var lastKey;for(var key in obj)lastKey=key;return void 0===lastKey||hasOwn.call(obj,lastKey)},$.isEmptyObject=function(obj){for(var name in obj)return!1;return!0},$.freezeObject=function(obj){return Object.freeze?$.freezeObject=Object.freeze:$.freezeObject=function(obj){return obj},$.freezeObject(obj)},$.supportsCanvas=(canvasElement=document.createElement("canvas"),!(!$.isFunction(canvasElement.getContext)||!canvasElement.getContext("2d"))),$.isCanvasTainted=function(canvas){var isTainted=!1;try{canvas.getContext("2d").getImageData(0,0,1,1)}catch(e){isTainted=!0}return isTainted},$.supportsAddEventListener=!(!document.documentElement.addEventListener||!document.addEventListener),$.supportsRemoveEventListener=!(!document.documentElement.removeEventListener||!document.removeEventListener),$.supportsEventListenerOptions=function(){var supported=0;if($.supportsAddEventListener)try{var options={get capture(){return supported++,!1},get once(){return supported++,!1},get passive(){return supported++,!1}};window.addEventListener("test",null,options),window.removeEventListener("test",null,options)}catch(e){supported=0}return supported>=3}(),$.getCurrentPixelDensityRatio=function(){if($.supportsCanvas){var context=document.createElement("canvas").getContext("2d"),devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;return Math.max(devicePixelRatio,1)/backingStoreRatio}return 1},$.pixelDensityRatio=$.getCurrentPixelDensityRatio()}(OpenSeadragon),function($){$.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},length=arguments.length,deep=!1,i=1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||OpenSeadragon.isFunction(target)||(target={}),length===i&&(target=this,--i);i<length;i++)if(null!==(options=arguments[i])||void 0!==options)for(name in options){var descriptor=Object.getOwnPropertyDescriptor(options,name);void 0!==descriptor?descriptor.get||descriptor.set?Object.defineProperty(target,name,descriptor):target!==(copy=descriptor.value)&&(deep&&copy&&(OpenSeadragon.isPlainObject(copy)||(copyIsArray=OpenSeadragon.isArray(copy)))?(src=target[name],copyIsArray?(copyIsArray=!1,clone=src&&OpenSeadragon.isArray(src)?src:[]):clone=src&&OpenSeadragon.isPlainObject(src)?src:{},target[name]=OpenSeadragon.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy)):$.console.warn('Could not copy inherited property "'+name+'".')}return target};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var userAgent=navigator.userAgent;return"string"==typeof userAgent&&(-1!==userAgent.indexOf("iPhone")||-1!==userAgent.indexOf("iPad")||-1!==userAgent.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(object,method){return function(){var args=arguments;return void 0===args&&(args=[]),method.apply(object,args)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(element){return $._viewers.get(this.getElement(element))},getElement:function(element){return"string"==typeof element&&(element=document.getElementById(element)),element},getElementPosition:function(element){var isFixed,offsetParent,result=new $.Point;for(offsetParent=getOffsetParent(element=$.getElement(element),isFixed="fixed"===$.getElementStyle(element).position);offsetParent;)result.x+=element.offsetLeft,result.y+=element.offsetTop,isFixed&&(result=result.plus($.getPageScroll())),offsetParent=getOffsetParent(element=offsetParent,isFixed="fixed"===$.getElementStyle(element).position);return result},getElementOffset:function(element){var docElement,win,doc=(element=$.getElement(element))&&element.ownerDocument,boundingRect={top:0,left:0};return doc?(docElement=doc.documentElement,void 0!==element.getBoundingClientRect&&(boundingRect=element.getBoundingClientRect()),win=doc===doc.window?doc:9===doc.nodeType&&(doc.defaultView||doc.parentWindow),new $.Point(boundingRect.left+(win.pageXOffset||docElement.scrollLeft)-(docElement.clientLeft||0),boundingRect.top+(win.pageYOffset||docElement.scrollTop)-(docElement.clientTop||0))):new $.Point},getElementSize:function(element){return element=$.getElement(element),new $.Point(element.clientWidth,element.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(element){return(element=$.getElement(element)).currentStyle}:function(element){return element=$.getElement(element),window.getComputedStyle(element,"")},getCssPropertyWithVendorPrefix:function(property){var memo={};return $.getCssPropertyWithVendorPrefix=function(property){if(void 0!==memo[property])return memo[property];var style=document.createElement("div").style,result=null;if(void 0!==style[property])result=property;else for(var prefixes=["Webkit","Moz","MS","O","webkit","moz","ms","o"],suffix=$.capitalizeFirstLetter(property),i=0;i<prefixes.length;i++){var prop=prefixes[i]+suffix;if(void 0!==style[prop]){result=prop;break}}return memo[property]=result,result},$.getCssPropertyWithVendorPrefix(property)},capitalizeFirstLetter:function(string){return string.charAt(0).toUpperCase()+string.slice(1)},positiveModulo:function(number,modulo){var result=number%modulo;return result<0&&(result+=modulo),result},pointInElement:function(element,point){element=$.getElement(element);var offset=$.getElementOffset(element),size=$.getElementSize(element);return point.x>=offset.x&&point.x<offset.x+size.x&&point.y<offset.y+size.y&&point.y>=offset.y},getMousePosition:function(event){if("number"==typeof event.pageX)$.getMousePosition=function(event){var result=new $.Point;return result.x=event.pageX,result.y=event.pageY,result};else{if("number"!=typeof event.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(event){var result=new $.Point;return result.x=event.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,result.y=event.clientY+document.body.scrollTop+document.documentElement.scrollTop,result}}return $.getMousePosition(event)},getPageScroll:function(){var docElement=document.documentElement||{},body=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(body.scrollLeft||body.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!docElement.scrollLeft&&!docElement.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(scroll){if(void 0!==window.scrollTo)$.setPageScroll=function(scroll){window.scrollTo(scroll.x,scroll.y)};else{var originalScroll=$.getPageScroll();if(originalScroll.x===scroll.x&&originalScroll.y===scroll.y)return;document.body.scrollLeft=scroll.x,document.body.scrollTop=scroll.y;var currentScroll=$.getPageScroll();if(currentScroll.x!==originalScroll.x&&currentScroll.y!==originalScroll.y)return void($.setPageScroll=function(scroll){document.body.scrollLeft=scroll.x,document.body.scrollTop=scroll.y});if(document.documentElement.scrollLeft=scroll.x,document.documentElement.scrollTop=scroll.y,(currentScroll=$.getPageScroll()).x!==originalScroll.x&&currentScroll.y!==originalScroll.y)return void($.setPageScroll=function(scroll){document.documentElement.scrollLeft=scroll.x,document.documentElement.scrollTop=scroll.y});$.setPageScroll=function(scroll){}}$.setPageScroll(scroll)},getWindowSize:function(){var docElement=document.documentElement||{},body=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(docElement.clientWidth||docElement.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!body.clientWidth&&!body.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(element){element=$.getElement(element);var wrappers=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(wrappers[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(wrappers[1].style,{display:"table-row"}),$.extend(wrappers[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),wrappers[0].appendChild(wrappers[1]),wrappers[1].appendChild(wrappers[2]),wrappers[2].appendChild(element),wrappers[0]},makeNeutralElement:function(tagName){var element=document.createElement(tagName),style=element.style;return style.background="transparent none",style.border="none",style.margin="0px",style.padding="0px",style.position="static",element},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(src){var img=$.makeNeutralElement("img");return img.src=src,img},setElementOpacity:function(element,opacity,usesAlpha){var ieFilter;element=$.getElement(element),usesAlpha&&!$.Browser.alpha&&(opacity=Math.round(opacity)),$.Browser.opacity?element.style.opacity=opacity<1?opacity:"":opacity<1?(ieFilter="alpha(opacity="+Math.round(100*opacity)+")",element.style.filter=ieFilter):element.style.filter=""},setElementTouchActionNone:function(element){void 0!==(element=$.getElement(element)).style.touchAction?element.style.touchAction="none":void 0!==element.style.msTouchAction&&(element.style.msTouchAction="none")},setElementPointerEvents:function(element,value){void 0!==(element=$.getElement(element)).style&&void 0!==element.style.pointerEvents&&(element.style.pointerEvents=value)},setElementPointerEventsNone:function(element){$.setElementPointerEvents(element,"none")},addClass:function(element,className){(element=$.getElement(element)).className?-1===(" "+element.className+" ").indexOf(" "+className+" ")&&(element.className+=" "+className):element.className=className},indexOf:function(array,searchElement,fromIndex){return Array.prototype.indexOf?this.indexOf=function(array,searchElement,fromIndex){return array.indexOf(searchElement,fromIndex)}:this.indexOf=function(array,searchElement,fromIndex){var i,length,pivot=fromIndex||0;if(!array)throw new TypeError;if(0===(length=array.length)||pivot>=length)return-1;for(pivot<0&&(pivot=length-Math.abs(pivot)),i=pivot;i<length;i++)if(array[i]===searchElement)return i;return-1},this.indexOf(array,searchElement,fromIndex)},removeClass:function(element,className){var oldClasses,i,newClasses=[];for(oldClasses=(element=$.getElement(element)).className.split(/\s+/),i=0;i<oldClasses.length;i++)oldClasses[i]&&oldClasses[i]!==className&&newClasses.push(oldClasses[i]);element.className=newClasses.join(" ")},normalizeEventListenerOptions:function(options){return void 0!==options?"boolean"==typeof options?$.supportsEventListenerOptions?{capture:options}:options:$.supportsEventListenerOptions?options:void 0!==options.capture&&options.capture:!!$.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if($.supportsAddEventListener)return function(element,eventName,handler,options){options=$.normalizeEventListenerOptions(options),(element=$.getElement(element)).addEventListener(eventName,handler,options)};if(document.documentElement.attachEvent&&document.attachEvent)return function(element,eventName,handler){(element=$.getElement(element)).attachEvent("on"+eventName,handler)};throw new Error("No known event model.")}(),removeEvent:function(){if($.supportsRemoveEventListener)return function(element,eventName,handler,options){options=$.normalizeEventListenerOptions(options),(element=$.getElement(element)).removeEventListener(eventName,handler,options)};if(document.documentElement.detachEvent&&document.detachEvent)return function(element,eventName,handler){(element=$.getElement(element)).detachEvent("on"+eventName,handler)};throw new Error("No known event model.")}(),cancelEvent:function(event){event.preventDefault()},eventIsCanceled:function(event){return event.defaultPrevented},stopEvent:function(event){event.stopPropagation()},createCallback:function(object,method){var i,initialArgs=[];for(i=2;i<arguments.length;i++)initialArgs.push(arguments[i]);return function(){var i,args=initialArgs.concat([]);for(i=0;i<arguments.length;i++)args.push(arguments[i]);return method.apply(object,args)}},getUrlParameter:function(key){var value=URLPARAMS[key];return value||null},getUrlProtocol:function(url){var match=url.match(/^([a-z]+:)\/\//i);return null===match?window.location.protocol:match[1].toLowerCase()},createAjaxRequest:function(local){var supportActiveX;try{supportActiveX=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){supportActiveX=!1}if(supportActiveX)window.XMLHttpRequest?$.createAjaxRequest=function(local){return local?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(local)},makeAjaxRequest:function(url,onSuccess,onError){var withCredentials,headers,responseType,postData;$.isPlainObject(url)&&(onSuccess=url.success,onError=url.error,withCredentials=url.withCredentials,headers=url.headers,responseType=url.responseType||null,postData=url.postData||null,url=url.url);var protocol=$.getUrlProtocol(url),request=$.createAjaxRequest("file:"===protocol);if(!$.isFunction(onSuccess))throw new Error("makeAjaxRequest requires a success callback");request.onreadystatechange=function(){4===request.readyState&&(request.onreadystatechange=function(){},request.status>=200&&request.status<300||0===request.status&&"http:"!==protocol&&"https:"!==protocol?onSuccess(request):$.isFunction(onError)?onError(request):$.console.error("AJAX request returned %d: %s",request.status,url))};var method=postData?"POST":"GET";try{if(request.open(method,url,!0),responseType&&(request.responseType=responseType),headers)for(var headerName in headers)Object.prototype.hasOwnProperty.call(headers,headerName)&&headers[headerName]&&request.setRequestHeader(headerName,headers[headerName]);withCredentials&&(request.withCredentials=!0),request.send(postData)}catch(e){$.console.error("%s while making AJAX request: %s",e.name,e.message),request.onreadystatechange=function(){},$.isFunction(onError)&&onError(request,e)}return request},jsonp:function(options){var script,url=options.url,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,jsonpCallback=options.callbackName||"openseadragon"+$.now(),previous=window[jsonpCallback],replace="$1"+jsonpCallback+"$2",callbackParam=options.param||"callback",callback=options.callback;url=url.replace(/(=)\?(&|$)|\?\?/i,replace),url+=(/\?/.test(url)?"&":"?")+callbackParam+"="+jsonpCallback,window[jsonpCallback]=function(response){if(previous)window[jsonpCallback]=previous;else try{delete window[jsonpCallback]}catch(e){}callback&&$.isFunction(callback)&&callback(response)},script=document.createElement("script"),void 0===options.async&&!1===options.async||(script.async="async"),options.scriptCharset&&(script.charset=options.scriptCharset),script.src=url,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script),script=void 0)},head.insertBefore(script,head.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(string){if(window.DOMParser)$.parseXml=function(string){return(new DOMParser).parseFromString(string,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(string){var xmlDoc=null;return(xmlDoc=new ActiveXObject("Microsoft.XMLDOM")).async=!1,xmlDoc.loadXML(string),xmlDoc}}return $.parseXml(string)},parseJSON:function(string){return $.parseJSON=window.JSON.parse,$.parseJSON(string)},imageFormatSupported:function(extension){return!!FILEFORMATS[(extension=extension||"").toLowerCase()]},setImageFormatsSupported:function(formats){$.extend(FILEFORMATS,formats)}});var nullfunction=function(msg){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};function getOffsetParent(element,isFixed){return isFixed&&element!==document.body?document.body:element.offsetParent}!function(){var ver=navigator.appVersion,ua=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(ua.substring(ua.indexOf("MSIE")+5,ua.indexOf(";",ua.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(ua.indexOf("Edge")>=0?($.Browser.vendor=$.BROWSERS.EDGE,$.Browser.version=parseFloat(ua.substring(ua.indexOf("Edge")+5))):ua.indexOf("Edg")>=0?($.Browser.vendor=$.BROWSERS.CHROMEEDGE,$.Browser.version=parseFloat(ua.substring(ua.indexOf("Edg")+4))):ua.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(ua.substring(ua.indexOf("Firefox")+8))):ua.indexOf("Safari")>=0?($.Browser.vendor=ua.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(ua.substring(ua.substring(0,ua.indexOf("Safari")).lastIndexOf("/")+1,ua.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(ua)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(ver)}var part,sep,i,parts=window.location.search.substring(1).split("&");for(i=0;i<parts.length;i++)if((sep=(part=parts[i]).indexOf("="))>0){var key=part.substring(0,sep),value=part.substring(sep+1);try{URLPARAMS[key]=decodeURIComponent(value)}catch(e){$.console.error("Ignoring malformed URL parameter: %s=%s",key,value)}}$.Browser.alpha=!($.Browser.vendor===$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!0,$.Browser.vendor===$.BROWSERS.IE&&$.Browser.version<11&&$.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")}(),function(w){var requestAnimationFrame=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,cancelAnimationFrame=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(requestAnimationFrame&&cancelAnimationFrame)$.requestAnimationFrame=function(){return requestAnimationFrame.apply(w,arguments)},$.cancelAnimationFrame=function(){return cancelAnimationFrame.apply(w,arguments)};else{var iIntervalId,aAnimQueue=[],processing=[],iRequestId=0;$.requestAnimationFrame=function(callback){return aAnimQueue.push([++iRequestId,callback]),iIntervalId||(iIntervalId=setInterval((function(){if(aAnimQueue.length){var time=$.now(),temp=processing;for(processing=aAnimQueue,aAnimQueue=temp;processing.length;)processing.shift()[1](time)}else clearInterval(iIntervalId),iIntervalId=void 0}),20)),iRequestId},$.cancelAnimationFrame=function(requestId){var i,j;for(i=0,j=aAnimQueue.length;i<j;i+=1)if(aAnimQueue[i][0]===requestId)return void aAnimQueue.splice(i,1);for(i=0,j=processing.length;i<j;i+=1)if(processing[i][0]===requestId)return void processing.splice(i,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(element){return element.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(element){return element.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(element){return element.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(element){return element.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(element){return element.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function($){$.EventSource=function(){this.events={}},$.EventSource.prototype={addOnceHandler:function(eventName,handler,userData,times,priority){var self=this;times=times||1;var count=0,onceHandler=function(event){return++count===times&&self.removeHandler(eventName,onceHandler),handler(event)};this.addHandler(eventName,onceHandler,userData,priority)},addHandler:function(eventName,handler,userData,priority){var events=this.events[eventName];if(events||(this.events[eventName]=events=[]),handler&&$.isFunction(handler)){var index=events.length,event={handler,userData:userData||null,priority:priority||0};for(events[index]=event;index>0&&events[index-1].priority<events[index].priority;)events[index]=events[index-1],events[index-1]=event,index--}},removeHandler:function(eventName,handler){var i,events=this.events[eventName],handlers=[];if(events&&$.isArray(events)){for(i=0;i<events.length;i++)events[i].handler!==handler&&handlers.push(events[i]);this.events[eventName]=handlers}},numberOfHandlers:function(eventName){var events=this.events[eventName];return events?events.length:0},removeAllHandlers:function(eventName){if(eventName)this.events[eventName]=[];else for(var eventType in this.events)this.events[eventType]=[]},getHandler:function(eventName){var events=this.events[eventName];return events&&events.length?(events=1===events.length?[events[0]]:Array.apply(null,events),function(source,args){var i,length=events.length;for(i=0;i<length;i++)events[i]&&(args.eventSource=source,args.userData=events[i].userData,events[i].handler(args))}):null},raiseEvent:function(eventName,eventArgs){var handler=this.getHandler(eventName);if(handler)return handler(this,eventArgs||{})}}}(OpenSeadragon),function($){var MOUSETRACKERS=[],THIS={};$.MouseTracker=function(options){MOUSETRACKERS.push(this);var args=arguments;$.isPlainObject(options)||(options={element:args[0],clickTimeThreshold:args[1],clickDistThreshold:args[2]}),this.hash=Math.random(),this.element=$.getElement(options.element),this.clickTimeThreshold=options.clickTimeThreshold||$.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=options.clickDistThreshold||$.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=options.dblClickTimeThreshold||$.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=options.dblClickDistThreshold||$.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=options.userData||null,this.stopDelay=options.stopDelay||50,this.preProcessEventHandler=options.preProcessEventHandler||null,this.contextMenuHandler=options.contextMenuHandler||null,this.enterHandler=options.enterHandler||null,this.leaveHandler=options.leaveHandler||null,this.exitHandler=options.exitHandler||null,this.overHandler=options.overHandler||null,this.outHandler=options.outHandler||null,this.pressHandler=options.pressHandler||null,this.nonPrimaryPressHandler=options.nonPrimaryPressHandler||null,this.releaseHandler=options.releaseHandler||null,this.nonPrimaryReleaseHandler=options.nonPrimaryReleaseHandler||null,this.moveHandler=options.moveHandler||null,this.scrollHandler=options.scrollHandler||null,this.clickHandler=options.clickHandler||null,this.dblClickHandler=options.dblClickHandler||null,this.dragHandler=options.dragHandler||null,this.dragEndHandler=options.dragEndHandler||null,this.pinchHandler=options.pinchHandler||null,this.stopHandler=options.stopHandler||null,this.keyDownHandler=options.keyDownHandler||null,this.keyUpHandler=options.keyUpHandler||null,this.keyHandler=options.keyHandler||null,this.focusHandler=options.focusHandler||null,this.blurHandler=options.blurHandler||null;var _this=this;THIS[this.hash]={click:function(event){!function onClick(tracker,event){var eventInfo={originalEvent:event,eventType:"click",pointerType:"mouse",isEmulated:!1};preProcessEvent(tracker,eventInfo),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},dblclick:function(event){!function onDblClick(tracker,event){var eventInfo={originalEvent:event,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};preProcessEvent(tracker,eventInfo),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},keydown:function(event){!function onKeyDown(tracker,event){var eventArgs=null,eventInfo={originalEvent:event,eventType:"keydown",pointerType:"",isEmulated:!1};preProcessEvent(tracker,eventInfo),!tracker.keyDownHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventArgs={eventSource:tracker,keyCode:event.keyCode?event.keyCode:event.charCode,ctrl:event.ctrlKey,shift:event.shiftKey,alt:event.altKey,meta:event.metaKey,originalEvent:event,preventDefault:eventInfo.preventDefault||eventInfo.defaultPrevented,userData:tracker.userData},tracker.keyDownHandler(eventArgs));(eventArgs&&eventArgs.preventDefault||eventInfo.preventDefault&&!eventInfo.defaultPrevented)&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},keyup:function(event){!function onKeyUp(tracker,event){var eventArgs=null,eventInfo={originalEvent:event,eventType:"keyup",pointerType:"",isEmulated:!1};preProcessEvent(tracker,eventInfo),!tracker.keyUpHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventArgs={eventSource:tracker,keyCode:event.keyCode?event.keyCode:event.charCode,ctrl:event.ctrlKey,shift:event.shiftKey,alt:event.altKey,meta:event.metaKey,originalEvent:event,preventDefault:eventInfo.preventDefault||eventInfo.defaultPrevented,userData:tracker.userData},tracker.keyUpHandler(eventArgs));(eventArgs&&eventArgs.preventDefault||eventInfo.preventDefault&&!eventInfo.defaultPrevented)&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},keypress:function(event){!function onKeyPress(tracker,event){var eventArgs=null,eventInfo={originalEvent:event,eventType:"keypress",pointerType:"",isEmulated:!1};preProcessEvent(tracker,eventInfo),!tracker.keyHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventArgs={eventSource:tracker,keyCode:event.keyCode?event.keyCode:event.charCode,ctrl:event.ctrlKey,shift:event.shiftKey,alt:event.altKey,meta:event.metaKey,originalEvent:event,preventDefault:eventInfo.preventDefault||eventInfo.defaultPrevented,userData:tracker.userData},tracker.keyHandler(eventArgs));(eventArgs&&eventArgs.preventDefault||eventInfo.preventDefault&&!eventInfo.defaultPrevented)&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},focus:function(event){!function onFocus(tracker,event){var eventInfo={originalEvent:event,eventType:"focus",pointerType:"",isEmulated:!1};preProcessEvent(tracker,eventInfo),tracker.focusHandler&&!eventInfo.preventGesture&&tracker.focusHandler({eventSource:tracker,originalEvent:event,userData:tracker.userData})}(_this,event)},blur:function(event){!function onBlur(tracker,event){var eventInfo={originalEvent:event,eventType:"blur",pointerType:"",isEmulated:!1};preProcessEvent(tracker,eventInfo),tracker.blurHandler&&!eventInfo.preventGesture&&tracker.blurHandler({eventSource:tracker,originalEvent:event,userData:tracker.userData})}(_this,event)},contextmenu:function(event){!function onContextMenu(tracker,event){var eventArgs=null,eventInfo={originalEvent:event,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};preProcessEvent(tracker,eventInfo),!tracker.contextMenuHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventArgs={eventSource:tracker,position:getPointRelativeToAbsolute(getMouseAbsolute(event),tracker.element),originalEvent:eventInfo.originalEvent,preventDefault:eventInfo.preventDefault||eventInfo.defaultPrevented,userData:tracker.userData},tracker.contextMenuHandler(eventArgs));(eventArgs&&eventArgs.preventDefault||eventInfo.preventDefault&&!eventInfo.defaultPrevented)&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},wheel:function(event){!function onWheel(tracker,event){handleWheelEvent(tracker,event,event)}(_this,event)},mousewheel:function(event){onMouseWheel(_this,event)},DOMMouseScroll:function(event){onMouseWheel(_this,event)},MozMousePixelScroll:function(event){onMouseWheel(_this,event)},losecapture:function(event){!function onLoseCapture(tracker,event){var gPoint={id:$.MouseTracker.mousePointerId,type:"mouse"},eventInfo={originalEvent:event,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};preProcessEvent(tracker,eventInfo),event.target===tracker.element&&updatePointerCaptured(tracker,gPoint,!1);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},mouseenter:function(event){onPointerEnter(_this,event)},mouseleave:function(event){onPointerLeave(_this,event)},mouseover:function(event){onPointerOver(_this,event)},mouseout:function(event){onPointerOut(_this,event)},mousedown:function(event){onPointerDown(_this,event)},mouseup:function(event){onPointerUp(_this,event)},mousemove:function(event){onPointerMove(_this,event)},touchstart:function(event){!function onTouchStart(tracker,event){var time,i,gPoint,touchCount=event.changedTouches.length,pointsList=tracker.getActivePointersListByType("touch");time=$.now(),pointsList.getLength()>event.touches.length-touchCount&&$.console.warn("Tracked touch contact count doesn't match event.touches.length");var eventInfo={originalEvent:event,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(preProcessEvent(tracker,eventInfo),i=0;i<touchCount;i++)updatePointerEnter(tracker,eventInfo,gPoint={id:event.changedTouches[i].identifier,type:"touch",isPrimary:0===pointsList.getLength(),currentPos:getMouseAbsolute(event.changedTouches[i]),currentTime:time}),updatePointerDown(tracker,eventInfo,gPoint,0),updatePointerCaptured(tracker,gPoint,!0);eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},touchend:function(event){!function onTouchEnd(tracker,event){var time,i,gPoint,touchCount=event.changedTouches.length;time=$.now();var eventInfo={originalEvent:event,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(preProcessEvent(tracker,eventInfo),i=0;i<touchCount;i++)updatePointerUp(tracker,eventInfo,gPoint={id:event.changedTouches[i].identifier,type:"touch",currentPos:getMouseAbsolute(event.changedTouches[i]),currentTime:time},0),updatePointerCaptured(tracker,gPoint,!1),updatePointerLeave(tracker,eventInfo,gPoint);eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},touchmove:function(event){!function onTouchMove(tracker,event){var time,i,touchCount=event.changedTouches.length;time=$.now();var eventInfo={originalEvent:event,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(preProcessEvent(tracker,eventInfo),i=0;i<touchCount;i++)updatePointerMove(tracker,eventInfo,{id:event.changedTouches[i].identifier,type:"touch",currentPos:getMouseAbsolute(event.changedTouches[i]),currentTime:time});eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},touchcancel:function(event){!function onTouchCancel(tracker,event){var i,touchCount=event.changedTouches.length,eventInfo={originalEvent:event,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(preProcessEvent(tracker,eventInfo),i=0;i<touchCount;i++)updatePointerCancel(tracker,eventInfo,{id:event.changedTouches[i].identifier,type:"touch"});eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},gesturestart:function(event){!function onGestureStart(tracker,event){$.eventIsCanceled(event)||event.preventDefault();return!1}(0,event)},gesturechange:function(event){!function onGestureChange(tracker,event){$.eventIsCanceled(event)||event.preventDefault();return!1}(0,event)},gotpointercapture:function(event){!function onGotPointerCapture(tracker,event){var eventInfo={originalEvent:event,eventType:"gotpointercapture",pointerType:getPointerType(event),isEmulated:!1};preProcessEvent(tracker,eventInfo),event.target===tracker.element&&updatePointerCaptured(tracker,{id:event.pointerId,type:getPointerType(event)},!0);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},lostpointercapture:function(event){!function onLostPointerCapture(tracker,event){var eventInfo={originalEvent:event,eventType:"lostpointercapture",pointerType:getPointerType(event),isEmulated:!1};preProcessEvent(tracker,eventInfo),event.target===tracker.element&&updatePointerCaptured(tracker,{id:event.pointerId,type:getPointerType(event)},!1);eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},pointerenter:function(event){onPointerEnter(_this,event)},pointerleave:function(event){onPointerLeave(_this,event)},pointerover:function(event){onPointerOver(_this,event)},pointerout:function(event){onPointerOut(_this,event)},pointerdown:function(event){onPointerDown(_this,event)},pointerup:function(event){onPointerUp(_this,event)},pointermove:function(event){onPointerMove(_this,event)},pointercancel:function(event){!function onPointerCancel(tracker,event){var gPoint={id:event.pointerId,type:getPointerType(event)},eventInfo={originalEvent:event,eventType:"pointercancel",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerCancel(tracker,eventInfo,gPoint),eventInfo.stopPropagation&&$.stopEvent(event)}(_this,event)},pointerupcaptured:function(event){!function onPointerUpCaptured(tracker,event){var pointsList=tracker.getActivePointersListByType(getPointerType(event));pointsList.getById(event.pointerId)&&handlePointerUp(tracker,event);$.stopEvent(event)}(_this,event)},pointermovecaptured:function(event){!function onPointerMoveCaptured(tracker,event){var pointsList=tracker.getActivePointersListByType(getPointerType(event));pointsList.getById(event.pointerId)&&handlePointerMove(tracker,event);$.stopEvent(event)}(_this,event)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,$.MouseTracker.havePointerEvents&&$.setElementPointerEvents(this.element,"auto"),this.exitHandler&&$.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),options.startDisabled||this.setTracking(!0)},$.MouseTracker.prototype={destroy:function(){var i;for(stopTracking(this),this.element=null,i=0;i<MOUSETRACKERS.length;i++)if(MOUSETRACKERS[i]===this){MOUSETRACKERS.splice(i,1);break}THIS[this.hash]=null,delete THIS[this.hash]},isTracking:function(){return THIS[this.hash].tracking},setTracking:function(track){return track?function startTracking(tracker){var event,i,delegate=THIS[tracker.hash];if(!delegate.tracking){for(i=0;i<$.MouseTracker.subscribeEvents.length;i++)event=$.MouseTracker.subscribeEvents[i],$.addEvent(tracker.element,event,delegate[event],event===$.MouseTracker.wheelEventName&&{passive:!1,capture:!1});clearTrackedPointers(tracker),delegate.tracking=!0}}(this):stopTracking(this),this},getActivePointersListByType:function(type){var i,list,delegate=THIS[this.hash],len=delegate.activePointersLists.length;for(i=0;i<len;i++)if(delegate.activePointersLists[i].type===type)return delegate.activePointersLists[i];return list=new $.MouseTracker.GesturePointList(type),delegate.activePointersLists.push(list),list},getActivePointerCount:function(){var i,delegate=THIS[this.hash],len=delegate.activePointersLists.length,count=0;for(i=0;i<len;i++)count+=delegate.activePointersLists[i].getLength();return count},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var trackerPoints,intervalId,lastTime,_generateGuid,_doTracking,divElement,isInIframe=function(){try{return window.self!==window.top}catch(e){return!0}}();function canAccessEvents(target){try{return target.addEventListener&&target.removeEventListener}catch(e){return!1}}function clearTrackedPointers(tracker){var i,j,pointsList,gPoints,gPointsToRemove,delegate=THIS[tracker.hash],pointerListCount=delegate.activePointersLists.length;for(i=0;i<pointerListCount;i++)if((pointsList=delegate.activePointersLists[i]).getLength()>0){for(gPointsToRemove=[],gPoints=pointsList.asArray(),j=0;j<gPoints.length;j++)gPointsToRemove.push(gPoints[j]);for(j=0;j<gPointsToRemove.length;j++)stopTrackingPointer(tracker,pointsList,gPointsToRemove[j])}for(i=0;i<pointerListCount;i++)delegate.activePointersLists.pop();delegate.sentDragEvent=!1}function stopTracking(tracker){var event,i,delegate=THIS[tracker.hash];if(delegate.tracking){for(i=0;i<$.MouseTracker.subscribeEvents.length;i++)event=$.MouseTracker.subscribeEvents[i],$.removeEvent(tracker.element,event,delegate[event],!1);clearTrackedPointers(tracker),delegate.tracking=!1}}function getCaptureEventParams(tracker,pointerType){var delegate=THIS[tracker.hash];if("pointerevent"===pointerType)return{upName:"pointerup",upHandler:delegate.pointerupcaptured,moveName:"pointermove",moveHandler:delegate.pointermovecaptured};if("mouse"===pointerType)return{upName:"pointerup",upHandler:delegate.pointerupcaptured,moveName:"pointermove",moveHandler:delegate.pointermovecaptured};if("touch"===pointerType)return{upName:"touchend",upHandler:delegate.touchendcaptured,moveName:"touchmove",moveHandler:delegate.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function releasePointer(tracker,gPoint){var eventParams,cachedGPoint;if($.MouseTracker.havePointerCapture)if($.MouseTracker.havePointerEvents){if(!(cachedGPoint=tracker.getActivePointersListByType(gPoint.type).getById(gPoint.id))||!cachedGPoint.captured)return;try{tracker.element.releasePointerCapture(gPoint.id)}catch(e){}}else tracker.element.releaseCapture();else eventParams=getCaptureEventParams(tracker,$.MouseTracker.havePointerEvents?"pointerevent":gPoint.type),isInIframe&&canAccessEvents(window.top)&&$.removeEvent(window.top,eventParams.upName,eventParams.upHandler,!0),$.removeEvent($.MouseTracker.captureElement,eventParams.moveName,eventParams.moveHandler,!0),$.removeEvent($.MouseTracker.captureElement,eventParams.upName,eventParams.upHandler,!0);updatePointerCaptured(tracker,gPoint,!1)}function getPointerId(event){return $.MouseTracker.havePointerEvents?event.pointerId:$.MouseTracker.mousePointerId}function getPointerType(event){return $.MouseTracker.havePointerEvents?event.pointerType||($.Browser.vendor===$.BROWSERS.IE?"mouse":""):"mouse"}function getIsPrimary(event){return!$.MouseTracker.havePointerEvents||event.isPrimary}function getMouseAbsolute(event){return $.getMousePosition(event)}function getMouseRelative(event,element){return getPointRelativeToAbsolute(getMouseAbsolute(event),element)}function getPointRelativeToAbsolute(point,element){var offset=$.getElementOffset(element);return point.minus(offset)}function getCenterPoint(point1,point2){return new $.Point((point1.x+point2.x)/2,(point1.y+point2.y)/2)}function onMouseWheel(tracker,event){var simulatedEvent={target:event.target||event.srcElement,type:"wheel",shiftKey:event.shiftKey||!1,clientX:event.clientX,clientY:event.clientY,pageX:event.pageX?event.pageX:event.clientX,pageY:event.pageY?event.pageY:event.clientY,deltaMode:"MozMousePixelScroll"===event.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===$.MouseTracker.wheelEventName?simulatedEvent.deltaY=-event.wheelDelta/$.DEFAULT_SETTINGS.pixelsPerWheelLine:simulatedEvent.deltaY=event.detail,handleWheelEvent(tracker,simulatedEvent,event)}function handleWheelEvent(tracker,event,originalEvent){var nDelta,eventInfo,eventArgs=null;nDelta=event.deltaY<0?1:-1,preProcessEvent(tracker,eventInfo={originalEvent:event,eventType:"wheel",pointerType:"mouse",isEmulated:event!==originalEvent}),!tracker.scrollHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventArgs={eventSource:tracker,pointerType:"mouse",position:getMouseRelative(event,tracker.element),scroll:nDelta,shift:event.shiftKey,isTouchEvent:!1,originalEvent,preventDefault:eventInfo.preventDefault||eventInfo.defaultPrevented,userData:tracker.userData},tracker.scrollHandler(eventArgs)),eventInfo.stopPropagation&&$.stopEvent(originalEvent),(eventArgs&&eventArgs.preventDefault||eventInfo.preventDefault&&!eventInfo.defaultPrevented)&&$.cancelEvent(originalEvent)}function onPointerEnter(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},eventInfo={originalEvent:event,eventType:"pointerenter",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerEnter(tracker,eventInfo,gPoint)}function onPointerLeave(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},eventInfo={originalEvent:event,eventType:"pointerleave",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerLeave(tracker,eventInfo,gPoint)}function onPointerOver(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},eventInfo={originalEvent:event,eventType:"pointerover",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),function updatePointerOver(tracker,eventInfo,gPoint){var pointsList,updateGPoint;pointsList=tracker.getActivePointersListByType(gPoint.type),updateGPoint=pointsList.getById(gPoint.id),updateGPoint?gPoint=updateGPoint:(gPoint.captured=!1,gPoint.insideElementPressed=!1);tracker.overHandler&&tracker.overHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),buttons:pointsList.buttons,pointers:tracker.getActivePointerCount(),insideElementPressed:gPoint.insideElementPressed,buttonDownAny:0!==pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})}(tracker,eventInfo,gPoint),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event),eventInfo.stopPropagation&&$.stopEvent(event)}function onPointerOut(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},eventInfo={originalEvent:event,eventType:"pointerout",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),function updatePointerOut(tracker,eventInfo,gPoint){var pointsList,updateGPoint;pointsList=tracker.getActivePointersListByType(gPoint.type),updateGPoint=pointsList.getById(gPoint.id),updateGPoint?gPoint=updateGPoint:(gPoint.captured=!1,gPoint.insideElementPressed=!1);tracker.outHandler&&tracker.outHandler({eventSource:tracker,pointerType:gPoint.type,position:gPoint.currentPos&&getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),buttons:pointsList.buttons,pointers:tracker.getActivePointerCount(),insideElementPressed:gPoint.insideElementPressed,buttonDownAny:0!==pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})}(tracker,eventInfo,gPoint),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event),eventInfo.stopPropagation&&$.stopEvent(event)}function onPointerDown(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},implicitlyCaptured=$.MouseTracker.havePointerEvents&&"touch"===gPoint.type&&$.Browser.vendor!==$.BROWSERS.IE,eventInfo={originalEvent:event,eventType:"pointerdown",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerDown(tracker,eventInfo,gPoint,event.button),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event),eventInfo.stopPropagation&&$.stopEvent(event),eventInfo.shouldCapture&&(implicitlyCaptured?updatePointerCaptured(tracker,gPoint,!0):function capturePointer(tracker,gPoint){var eventParams;if($.MouseTracker.havePointerCapture)if($.MouseTracker.havePointerEvents)try{tracker.element.setPointerCapture(gPoint.id)}catch(e){return void $.console.warn("setPointerCapture() called on invalid pointer ID")}else tracker.element.setCapture(!0);else eventParams=getCaptureEventParams(tracker,$.MouseTracker.havePointerEvents?"pointerevent":gPoint.type),isInIframe&&canAccessEvents(window.top)&&$.addEvent(window.top,eventParams.upName,eventParams.upHandler,!0),$.addEvent($.MouseTracker.captureElement,eventParams.upName,eventParams.upHandler,!0),$.addEvent($.MouseTracker.captureElement,eventParams.moveName,eventParams.moveHandler,!0);updatePointerCaptured(tracker,gPoint,!0)}(tracker,gPoint))}function onPointerUp(tracker,event){handlePointerUp(tracker,event)}function handlePointerUp(tracker,event){var gPoint,eventInfo={originalEvent:event,eventType:"pointerup",pointerType:(gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()}).type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerUp(tracker,eventInfo,gPoint,event.button),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event),eventInfo.stopPropagation&&$.stopEvent(event),eventInfo.shouldReleaseCapture&&(event.target===tracker.element?releasePointer(tracker,gPoint):updatePointerCaptured(tracker,gPoint,!1))}function onPointerMove(tracker,event){handlePointerMove(tracker,event)}function handlePointerMove(tracker,event){var gPoint={id:getPointerId(event),type:getPointerType(event),isPrimary:getIsPrimary(event),currentPos:getMouseAbsolute(event),currentTime:$.now()},eventInfo={originalEvent:event,eventType:"pointermove",pointerType:gPoint.type,isEmulated:!1};preProcessEvent(tracker,eventInfo),updatePointerMove(tracker,eventInfo,gPoint),eventInfo.preventDefault&&!eventInfo.defaultPrevented&&$.cancelEvent(event),eventInfo.stopPropagation&&$.stopEvent(event)}function startTrackingPointer(pointsList,gPoint){return gPoint.speed=0,gPoint.direction=0,gPoint.contactPos=gPoint.currentPos,gPoint.contactTime=gPoint.currentTime,gPoint.lastPos=gPoint.currentPos,gPoint.lastTime=gPoint.currentTime,pointsList.add(gPoint)}function stopTrackingPointer(tracker,pointsList,gPoint){var listLength,trackedGPoint=pointsList.getById(gPoint.id);return trackedGPoint?(trackedGPoint.captured&&($.console.warn("stopTrackingPointer() called on captured pointer"),releasePointer(tracker,trackedGPoint)),pointsList.removeContact(),listLength=pointsList.removeById(gPoint.id)):listLength=pointsList.getLength(),listLength}function preProcessEvent(tracker,eventInfo){eventInfo.eventSource=tracker,eventInfo.eventPhase=eventInfo.originalEvent&&void 0!==eventInfo.originalEvent.eventPhase?eventInfo.originalEvent.eventPhase:0,eventInfo.defaultPrevented=$.eventIsCanceled(eventInfo.originalEvent),eventInfo.shouldCapture=!1,eventInfo.shouldReleaseCapture=!1,eventInfo.userData=tracker.userData,function getEventProcessDefaults(tracker,eventInfo){switch(eventInfo.eventType){case"pointermove":case"pointerdown":case"pointerup":eventInfo.isStoppable=!0,eventInfo.isCancelable=!0,eventInfo.preventDefault=!1,eventInfo.preventGesture=!tracker.hasGestureHandlers,eventInfo.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":eventInfo.isStoppable=!0,eventInfo.isCancelable=!0,eventInfo.preventDefault=!1,eventInfo.preventGesture=!1,eventInfo.stopPropagation=!1;break;case"wheel":eventInfo.isStoppable=!0,eventInfo.isCancelable=!0,eventInfo.preventDefault=!1,eventInfo.preventGesture=!tracker.hasScrollHandler,eventInfo.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":eventInfo.isStoppable=!0,eventInfo.isCancelable=!1,eventInfo.preventDefault=!1,eventInfo.preventGesture=!1,eventInfo.stopPropagation=!1;break;case"click":eventInfo.isStoppable=!0,eventInfo.isCancelable=!0,eventInfo.preventDefault=!!tracker.clickHandler,eventInfo.preventGesture=!1,eventInfo.stopPropagation=!1;break;case"dblclick":eventInfo.isStoppable=!0,eventInfo.isCancelable=!0,eventInfo.preventDefault=!!tracker.dblClickHandler,eventInfo.preventGesture=!1,eventInfo.stopPropagation=!1;break;default:eventInfo.isStoppable=!1,eventInfo.isCancelable=!1,eventInfo.preventDefault=!1,eventInfo.preventGesture=!1,eventInfo.stopPropagation=!1}}(tracker,eventInfo),tracker.preProcessEventHandler&&tracker.preProcessEventHandler(eventInfo)}function updatePointerCaptured(tracker,gPoint,isCaptured){var pointsList=tracker.getActivePointersListByType(gPoint.type),updateGPoint=pointsList.getById(gPoint.id);updateGPoint?isCaptured&&!updateGPoint.captured?(updateGPoint.captured=!0,pointsList.captureCount++):!isCaptured&&updateGPoint.captured&&(updateGPoint.captured=!1,pointsList.captureCount--,pointsList.captureCount<0&&(pointsList.captureCount=0,$.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):$.console.warn("updatePointerCaptured() called on untracked pointer")}function updatePointerEnter(tracker,eventInfo,gPoint){var updateGPoint,pointsList=tracker.getActivePointersListByType(gPoint.type);(updateGPoint=pointsList.getById(gPoint.id))?(updateGPoint.insideElement=!0,updateGPoint.lastPos=updateGPoint.currentPos,updateGPoint.lastTime=updateGPoint.currentTime,updateGPoint.currentPos=gPoint.currentPos,updateGPoint.currentTime=gPoint.currentTime,gPoint=updateGPoint):(gPoint.captured=!1,gPoint.insideElementPressed=!1,gPoint.insideElement=!0,startTrackingPointer(pointsList,gPoint)),tracker.enterHandler&&tracker.enterHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),buttons:pointsList.buttons,pointers:tracker.getActivePointerCount(),insideElementPressed:gPoint.insideElementPressed,buttonDownAny:0!==pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})}function updatePointerLeave(tracker,eventInfo,gPoint){var updateGPoint,dispatchEventObj,pointsList=tracker.getActivePointersListByType(gPoint.type);(updateGPoint=pointsList.getById(gPoint.id))?(updateGPoint.captured?(updateGPoint.insideElement=!1,updateGPoint.lastPos=updateGPoint.currentPos,updateGPoint.lastTime=updateGPoint.currentTime,updateGPoint.currentPos=gPoint.currentPos,updateGPoint.currentTime=gPoint.currentTime):stopTrackingPointer(tracker,pointsList,updateGPoint),gPoint=updateGPoint):(gPoint.captured=!1,gPoint.insideElementPressed=!1),(tracker.leaveHandler||tracker.exitHandler)&&(dispatchEventObj={eventSource:tracker,pointerType:gPoint.type,position:gPoint.currentPos&&getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),buttons:pointsList.buttons,pointers:tracker.getActivePointerCount(),insideElementPressed:gPoint.insideElementPressed,buttonDownAny:0!==pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData},tracker.leaveHandler&&tracker.leaveHandler(dispatchEventObj),tracker.exitHandler&&tracker.exitHandler(dispatchEventObj))}function updatePointerDown(tracker,eventInfo,gPoint,buttonChanged){var updateGPoint,delegate=THIS[tracker.hash],pointsList=tracker.getActivePointersListByType(gPoint.type);if(void 0!==eventInfo.originalEvent.buttons?pointsList.buttons=eventInfo.originalEvent.buttons:0===buttonChanged?pointsList.buttons|=1:1===buttonChanged?pointsList.buttons|=4:2===buttonChanged?pointsList.buttons|=2:3===buttonChanged?pointsList.buttons|=8:4===buttonChanged?pointsList.buttons|=16:5===buttonChanged&&(pointsList.buttons|=32),0!==buttonChanged)return eventInfo.shouldCapture=!1,eventInfo.shouldReleaseCapture=!1,void(!tracker.nonPrimaryPressHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventInfo.preventDefault=!0,tracker.nonPrimaryPressHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),button:buttonChanged,buttons:pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})));(updateGPoint=pointsList.getById(gPoint.id))?(updateGPoint.insideElementPressed=!0,updateGPoint.insideElement=!0,updateGPoint.originalTarget=eventInfo.originalEvent.target,updateGPoint.contactPos=gPoint.currentPos,updateGPoint.contactTime=gPoint.currentTime,updateGPoint.lastPos=updateGPoint.currentPos,updateGPoint.lastTime=updateGPoint.currentTime,updateGPoint.currentPos=gPoint.currentPos,updateGPoint.currentTime=gPoint.currentTime,gPoint=updateGPoint):(gPoint.captured=!1,gPoint.insideElementPressed=!0,gPoint.insideElement=!0,gPoint.originalTarget=eventInfo.originalEvent.target,startTrackingPointer(pointsList,gPoint)),pointsList.addContact(),eventInfo.preventGesture||eventInfo.defaultPrevented?(eventInfo.shouldCapture=!1,eventInfo.shouldReleaseCapture=!1):(eventInfo.shouldCapture=!0,eventInfo.shouldReleaseCapture=!1,eventInfo.preventDefault=!0,(tracker.dragHandler||tracker.dragEndHandler||tracker.pinchHandler)&&$.MouseTracker.gesturePointVelocityTracker.addPoint(tracker,gPoint),1===pointsList.contacts?tracker.pressHandler&&!eventInfo.preventGesture&&tracker.pressHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.contactPos,tracker.element),buttons:pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}):2===pointsList.contacts&&tracker.pinchHandler&&"touch"===gPoint.type&&(delegate.pinchGPoints=pointsList.asArray(),delegate.lastPinchDist=delegate.currentPinchDist=delegate.pinchGPoints[0].currentPos.distanceTo(delegate.pinchGPoints[1].currentPos),delegate.lastPinchCenter=delegate.currentPinchCenter=getCenterPoint(delegate.pinchGPoints[0].currentPos,delegate.pinchGPoints[1].currentPos)))}function updatePointerUp(tracker,eventInfo,gPoint,buttonChanged){var releasePoint,releaseTime,updateGPoint,quick,delegate=THIS[tracker.hash],pointsList=tracker.getActivePointersListByType(gPoint.type),wasCaptured=!1;if(void 0!==eventInfo.originalEvent.buttons?pointsList.buttons=eventInfo.originalEvent.buttons:0===buttonChanged?pointsList.buttons^=-2:1===buttonChanged?pointsList.buttons^=-5:2===buttonChanged?pointsList.buttons^=-3:3===buttonChanged?pointsList.buttons^=-9:4===buttonChanged?pointsList.buttons^=-17:5===buttonChanged&&(pointsList.buttons^=-33),eventInfo.shouldCapture=!1,0!==buttonChanged)return eventInfo.shouldReleaseCapture=!1,void(!tracker.nonPrimaryReleaseHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(eventInfo.preventDefault=!0,tracker.nonPrimaryReleaseHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),button:buttonChanged,buttons:pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})));(updateGPoint=pointsList.getById(gPoint.id))?(pointsList.removeContact(),updateGPoint.captured&&(wasCaptured=!0),updateGPoint.lastPos=updateGPoint.currentPos,updateGPoint.lastTime=updateGPoint.currentTime,updateGPoint.currentPos=gPoint.currentPos,updateGPoint.currentTime=gPoint.currentTime,updateGPoint.insideElement||stopTrackingPointer(tracker,pointsList,updateGPoint),releasePoint=updateGPoint.currentPos,releaseTime=updateGPoint.currentTime):(gPoint.captured=!1,gPoint.insideElementPressed=!1,gPoint.insideElement=!0,startTrackingPointer(pointsList,gPoint),updateGPoint=gPoint),eventInfo.preventGesture||eventInfo.defaultPrevented||(wasCaptured?(eventInfo.shouldReleaseCapture=!0,eventInfo.preventDefault=!0,(tracker.dragHandler||tracker.dragEndHandler||tracker.pinchHandler)&&$.MouseTracker.gesturePointVelocityTracker.removePoint(tracker,updateGPoint),0===pointsList.contacts?(tracker.releaseHandler&&releasePoint&&tracker.releaseHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(releasePoint,tracker.element),buttons:pointsList.buttons,insideElementPressed:updateGPoint.insideElementPressed,insideElementReleased:updateGPoint.insideElement,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),tracker.dragEndHandler&&delegate.sentDragEvent&&tracker.dragEndHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(updateGPoint.currentPos,tracker.element),speed:updateGPoint.speed,direction:updateGPoint.direction,shift:eventInfo.originalEvent.shiftKey,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),delegate.sentDragEvent=!1,(tracker.clickHandler||tracker.dblClickHandler)&&updateGPoint.insideElement&&(quick=releaseTime-updateGPoint.contactTime<=tracker.clickTimeThreshold&&updateGPoint.contactPos.distanceTo(releasePoint)<=tracker.clickDistThreshold,tracker.clickHandler&&tracker.clickHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(updateGPoint.currentPos,tracker.element),quick,shift:eventInfo.originalEvent.shiftKey,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,originalTarget:updateGPoint.originalTarget,userData:tracker.userData}),tracker.dblClickHandler&&quick&&(pointsList.clicks++,1===pointsList.clicks?(delegate.lastClickPos=releasePoint,delegate.dblClickTimeOut=setTimeout((function(){pointsList.clicks=0}),tracker.dblClickTimeThreshold)):2===pointsList.clicks&&(clearTimeout(delegate.dblClickTimeOut),pointsList.clicks=0,delegate.lastClickPos.distanceTo(releasePoint)<=tracker.dblClickDistThreshold&&tracker.dblClickHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(updateGPoint.currentPos,tracker.element),shift:eventInfo.originalEvent.shiftKey,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),delegate.lastClickPos=null)))):2===pointsList.contacts&&tracker.pinchHandler&&"touch"===updateGPoint.type&&(delegate.pinchGPoints=pointsList.asArray(),delegate.lastPinchDist=delegate.currentPinchDist=delegate.pinchGPoints[0].currentPos.distanceTo(delegate.pinchGPoints[1].currentPos),delegate.lastPinchCenter=delegate.currentPinchCenter=getCenterPoint(delegate.pinchGPoints[0].currentPos,delegate.pinchGPoints[1].currentPos))):(eventInfo.shouldReleaseCapture=!1,tracker.releaseHandler&&releasePoint&&(tracker.releaseHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(releasePoint,tracker.element),buttons:pointsList.buttons,insideElementPressed:updateGPoint.insideElementPressed,insideElementReleased:updateGPoint.insideElement,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),eventInfo.preventDefault=!0)))}function updatePointerMove(tracker,eventInfo,gPoint){var updateGPoint,gPointArray,delta,delegate=THIS[tracker.hash],pointsList=tracker.getActivePointersListByType(gPoint.type);void 0!==eventInfo.originalEvent.buttons&&(pointsList.buttons=eventInfo.originalEvent.buttons),(updateGPoint=pointsList.getById(gPoint.id))&&(updateGPoint.lastPos=updateGPoint.currentPos,updateGPoint.lastTime=updateGPoint.currentTime,updateGPoint.currentPos=gPoint.currentPos,updateGPoint.currentTime=gPoint.currentTime,eventInfo.shouldCapture=!1,eventInfo.shouldReleaseCapture=!1,tracker.stopHandler&&"mouse"===gPoint.type&&(clearTimeout(tracker.stopTimeOut),tracker.stopTimeOut=setTimeout((function(){!function handlePointerStop(tracker,originalMoveEvent,pointerType){tracker.stopHandler&&tracker.stopHandler({eventSource:tracker,pointerType,position:getMouseRelative(originalMoveEvent,tracker.element),buttons:tracker.getActivePointersListByType(pointerType).buttons,isTouchEvent:"touch"===pointerType,originalEvent:originalMoveEvent,userData:tracker.userData})}(tracker,eventInfo.originalEvent,gPoint.type)}),tracker.stopDelay)),0===pointsList.contacts?tracker.moveHandler&&tracker.moveHandler({eventSource:tracker,pointerType:gPoint.type,position:getPointRelativeToAbsolute(gPoint.currentPos,tracker.element),buttons:pointsList.buttons,isTouchEvent:"touch"===gPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}):1===pointsList.contacts?(tracker.moveHandler&&(updateGPoint=pointsList.asArray()[0],tracker.moveHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(updateGPoint.currentPos,tracker.element),buttons:pointsList.buttons,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})),!tracker.dragHandler||eventInfo.preventGesture||eventInfo.defaultPrevented||(delta=(updateGPoint=pointsList.asArray()[0]).currentPos.minus(updateGPoint.lastPos),tracker.dragHandler({eventSource:tracker,pointerType:updateGPoint.type,position:getPointRelativeToAbsolute(updateGPoint.currentPos,tracker.element),buttons:pointsList.buttons,delta,speed:updateGPoint.speed,direction:updateGPoint.direction,shift:eventInfo.originalEvent.shiftKey,isTouchEvent:"touch"===updateGPoint.type,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),eventInfo.preventDefault=!0,delegate.sentDragEvent=!0)):2===pointsList.contacts&&(tracker.moveHandler&&(gPointArray=pointsList.asArray(),tracker.moveHandler({eventSource:tracker,pointerType:gPointArray[0].type,position:getPointRelativeToAbsolute(getCenterPoint(gPointArray[0].currentPos,gPointArray[1].currentPos),tracker.element),buttons:pointsList.buttons,isTouchEvent:"touch"===gPointArray[0].type,originalEvent:eventInfo.originalEvent,userData:tracker.userData})),!tracker.pinchHandler||"touch"!==gPoint.type||eventInfo.preventGesture||eventInfo.defaultPrevented||(delta=delegate.pinchGPoints[0].currentPos.distanceTo(delegate.pinchGPoints[1].currentPos))!==delegate.currentPinchDist&&(delegate.lastPinchDist=delegate.currentPinchDist,delegate.currentPinchDist=delta,delegate.lastPinchCenter=delegate.currentPinchCenter,delegate.currentPinchCenter=getCenterPoint(delegate.pinchGPoints[0].currentPos,delegate.pinchGPoints[1].currentPos),tracker.pinchHandler({eventSource:tracker,pointerType:"touch",gesturePoints:delegate.pinchGPoints,lastCenter:getPointRelativeToAbsolute(delegate.lastPinchCenter,tracker.element),center:getPointRelativeToAbsolute(delegate.currentPinchCenter,tracker.element),lastDistance:delegate.lastPinchDist,distance:delegate.currentPinchDist,shift:eventInfo.originalEvent.shiftKey,originalEvent:eventInfo.originalEvent,userData:tracker.userData}),eventInfo.preventDefault=!0)))}function updatePointerCancel(tracker,eventInfo,gPoint){var updateGPoint,pointsList=tracker.getActivePointersListByType(gPoint.type);(updateGPoint=pointsList.getById(gPoint.id))&&stopTrackingPointer(tracker,pointsList,updateGPoint)}$.MouseTracker.gesturePointVelocityTracker=(trackerPoints=[],intervalId=0,lastTime=0,_generateGuid=function(tracker,gPoint){return tracker.hash.toString()+gPoint.type+gPoint.id.toString()},_doTracking=function(){var i,trackPoint,gPoint,elapsedTime,distance,speed,len=trackerPoints.length,now=$.now();for(elapsedTime=now-lastTime,lastTime=now,i=0;i<len;i++)(gPoint=(trackPoint=trackerPoints[i]).gPoint).direction=Math.atan2(gPoint.currentPos.y-trackPoint.lastPos.y,gPoint.currentPos.x-trackPoint.lastPos.x),distance=trackPoint.lastPos.distanceTo(gPoint.currentPos),trackPoint.lastPos=gPoint.currentPos,speed=1e3*distance/(elapsedTime+1),gPoint.speed=.75*speed+.25*gPoint.speed},{addPoint:function(tracker,gPoint){var guid=_generateGuid(tracker,gPoint);trackerPoints.push({guid,gPoint,lastPos:gPoint.currentPos}),1===trackerPoints.length&&(lastTime=$.now(),intervalId=window.setInterval(_doTracking,50))},removePoint:function(tracker,gPoint){var i,guid=_generateGuid(tracker,gPoint),len=trackerPoints.length;for(i=0;i<len;i++)if(trackerPoints[i].guid===guid){trackerPoints.splice(i,1),0==--len&&window.clearInterval(intervalId);break}}}),$.MouseTracker.captureElement=document,$.MouseTracker.wheelEventName=$.Browser.vendor===$.BROWSERS.IE&&$.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",$.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",$.MouseTracker.wheelEventName],"DOMMouseScroll"===$.MouseTracker.wheelEventName&&$.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?($.MouseTracker.havePointerEvents=!0,$.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),$.MouseTracker.havePointerCapture=(divElement=document.createElement("div"),$.isFunction(divElement.setPointerCapture)&&$.isFunction(divElement.releasePointerCapture)),$.MouseTracker.havePointerCapture&&$.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):($.MouseTracker.havePointerEvents=!1,$.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),$.MouseTracker.mousePointerId="legacy-mouse",$.MouseTracker.havePointerCapture=function(){var divElement=document.createElement("div");return $.isFunction(divElement.setCapture)&&$.isFunction(divElement.releaseCapture)}(),$.MouseTracker.havePointerCapture&&$.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&$.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&$.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),$.MouseTracker.GesturePointList=function(type){this._gPoints=[],this.type=type,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},$.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(gp){return this._gPoints.push(gp)},removeById:function(id){var i,len=this._gPoints.length;for(i=0;i<len;i++)if(this._gPoints[i].id===id){this._gPoints.splice(i,1);break}return this._gPoints.length},getByIndex:function(index){return index<this._gPoints.length?this._gPoints[index]:null},getById:function(id){var i,len=this._gPoints.length;for(i=0;i<len;i++)if(this._gPoints[i].id===id)return this._gPoints[i];return null},getPrimary:function(id){var i,len=this._gPoints.length;for(i=0;i<len;i++)if(this._gPoints[i].isPrimary)return this._gPoints[i];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&($.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(OpenSeadragon),function($){$.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},$.Control=function(element,options,container){var parent=element.parentNode;"number"==typeof options&&($.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),options={anchor:options}),options.attachToViewer=void 0===options.attachToViewer||options.attachToViewer,this.autoFade=void 0===options.autoFade||options.autoFade,this.element=element,this.anchor=options.anchor,this.container=container,this.anchor===$.ControlAnchor.ABSOLUTE?(this.wrapper=$.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof options.top?options.top+"px":options.top,this.wrapper.style.left="number"==typeof options.left?options.left+"px":options.left,this.wrapper.style.height="number"==typeof options.height?options.height+"px":options.height,this.wrapper.style.width="number"==typeof options.width?options.width+"px":options.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=$.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===$.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),options.attachToViewer?this.anchor===$.ControlAnchor.TOP_RIGHT||this.anchor===$.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):parent.appendChild(this.wrapper)},$.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==$.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(visible){this.wrapper.style.display=visible?this.anchor===$.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(opacity){this.element[$.SIGNAL]&&$.Browser.vendor===$.BROWSERS.IE?$.setElementOpacity(this.element,opacity,!0):$.setElementOpacity(this.wrapper,opacity,!0)}}}(OpenSeadragon),function($){function getControlIndex(dock,element){var i,controls=dock.controls;for(i=controls.length-1;i>=0;i--)if(controls[i].element===element)return i;return-1}$.ControlDock=function(options){var layout,i,layouts=["topleft","topright","bottomright","bottomleft"];for($.extend(!0,this,{id:"controldock-"+$.now()+"-"+Math.floor(1e6*Math.random()),container:$.makeNeutralElement("div"),controls:[]},options),this.container.onsubmit=function(){return!1},this.element&&(this.element=$.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<layouts.length;i++)layout=layouts[i],this.controls[layout]=$.makeNeutralElement("div"),this.controls[layout].style.position="absolute",layout.match("left")&&(this.controls[layout].style.left="0px"),layout.match("right")&&(this.controls[layout].style.right="0px"),layout.match("top")&&(this.controls[layout].style.top="0px"),layout.match("bottom")&&(this.controls[layout].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},$.ControlDock.prototype={addControl:function(element,controlOptions){var div=null;if(!(getControlIndex(this,element=$.getElement(element))>=0)){switch(controlOptions.anchor){case $.ControlAnchor.TOP_RIGHT:div=this.controls.topright,element.style.position="relative",element.style.paddingRight="0px",element.style.paddingTop="0px";break;case $.ControlAnchor.BOTTOM_RIGHT:div=this.controls.bottomright,element.style.position="relative",element.style.paddingRight="0px",element.style.paddingBottom="0px";break;case $.ControlAnchor.BOTTOM_LEFT:div=this.controls.bottomleft,element.style.position="relative",element.style.paddingLeft="0px",element.style.paddingBottom="0px";break;case $.ControlAnchor.TOP_LEFT:div=this.controls.topleft,element.style.position="relative",element.style.paddingLeft="0px",element.style.paddingTop="0px";break;case $.ControlAnchor.ABSOLUTE:default:case $.ControlAnchor.NONE:div=this.container,element.style.margin="0px",element.style.padding="0px"}this.controls.push(new $.Control(element,controlOptions,div)),element.style.display="inline-block"}},removeControl:function(element){var i=getControlIndex(this,element=$.getElement(element));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var i;for(i=this.controls.length-1;i>=0;i--)if(this.controls[i].isVisible())return!0;return!1},setControlsEnabled:function(enabled){var i;for(i=this.controls.length-1;i>=0;i--)this.controls[i].setVisible(enabled);return this}}}(OpenSeadragon),function($){$.Placement=$.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function($){var THIS={},nextHash=1;function _getSafeElemSize(oElement){return oElement=$.getElement(oElement),new $.Point(0===oElement.clientWidth?1:oElement.clientWidth,0===oElement.clientHeight?1:oElement.clientHeight)}function getOverlayObject(viewer,overlay){if(overlay instanceof $.Overlay)return overlay;var element=null;if(overlay.element)element=$.getElement(overlay.element);else{var id=overlay.id?overlay.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(element=$.getElement(overlay.id))||((element=document.createElement("a")).href="#/overlay/"+id),element.id=id,$.addClass(element,overlay.className?overlay.className:"openseadragon-overlay")}var location=overlay.location,width=overlay.width,height=overlay.height;if(!location){var x=overlay.x,y=overlay.y;if(void 0!==overlay.px){var rect=viewer.viewport.imageToViewportRectangle(new $.Rect(overlay.px,overlay.py,width||0,height||0));x=rect.x,y=rect.y,width=void 0!==width?rect.width:void 0,height=void 0!==height?rect.height:void 0}location=new $.Point(x,y)}var placement=overlay.placement;return placement&&"string"===$.type(placement)&&(placement=$.Placement[overlay.placement.toUpperCase()]),new $.Overlay({element,location,placement,onDraw:overlay.onDraw,checkResize:overlay.checkResize,width,height,rotationMode:overlay.rotationMode})}function getOverlayIndex(overlays,element){var i;for(i=overlays.length-1;i>=0;i--)if(overlays[i].element===element)return i;return-1}function scheduleUpdate(viewer,updateFunc){return $.requestAnimationFrame((function(){updateFunc(viewer)}))}function scheduleControlsFade(viewer){$.requestAnimationFrame((function(){!function updateControlsFade(viewer){var opacity,i;if(viewer.controlsShouldFade){for(opacity=1-($.now()-viewer.controlsFadeBeginTime)/viewer.controlsFadeLength,opacity=Math.min(1,opacity),opacity=Math.max(0,opacity),i=viewer.controls.length-1;i>=0;i--)viewer.controls[i].autoFade&&viewer.controls[i].setOpacity(opacity);opacity>0&&scheduleControlsFade(viewer)}}(viewer)}))}function beginControlsAutoHide(viewer){viewer.autoHideControls&&(viewer.controlsShouldFade=!0,viewer.controlsFadeBeginTime=$.now()+viewer.controlsFadeDelay,window.setTimeout((function(){scheduleControlsFade(viewer)}),viewer.controlsFadeDelay))}function abortControlsAutoHide(viewer){var i;for(viewer.controlsShouldFade=!1,i=viewer.controls.length-1;i>=0;i--)viewer.controls[i].setOpacity(1)}function onFocus(){abortControlsAutoHide(this)}function onBlur(){beginControlsAutoHide(this)}function onCanvasContextMenu(event){var eventArgs={tracker:event.eventSource,position:event.position,originalEvent:event.originalEvent,preventDefault:event.preventDefault};this.raiseEvent("canvas-contextmenu",eventArgs),event.preventDefault=eventArgs.preventDefault}function onCanvasKeyDown(event){var canvasKeyDownEventArgs={originalEvent:event.originalEvent,preventDefaultAction:!1,preventVerticalPan:event.preventVerticalPan||!this.panVertical,preventHorizontalPan:event.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",canvasKeyDownEventArgs),canvasKeyDownEventArgs.preventDefaultAction||event.ctrl||event.alt||event.meta)event.preventDefault=!1;else switch(event.keyCode){case 38:canvasKeyDownEventArgs.preventVerticalPan||(event.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 40:canvasKeyDownEventArgs.preventVerticalPan||(event.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 37:canvasKeyDownEventArgs.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 39:canvasKeyDownEventArgs.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),event.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),event.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),event.preventDefault=!0;break;case 87:canvasKeyDownEventArgs.preventVerticalPan||(event.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(0,-40))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 83:canvasKeyDownEventArgs.preventVerticalPan||(event.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(0,40))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 65:canvasKeyDownEventArgs.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(-40,0))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 68:canvasKeyDownEventArgs.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new $.Point(40,0))),this.viewport.applyConstraints()),event.preventDefault=!0;break;case 82:event.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),event.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),event.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:event.preventDefault=!1}}function onCanvasKeyPress(event){var canvasKeyPressEventArgs={originalEvent:event.originalEvent};this.raiseEvent("canvas-key-press",canvasKeyPressEventArgs)}function onCanvasClick(event){var gestureSettings;document.activeElement===this.canvas||this.canvas.focus(),this.viewport.flipped&&(event.position.x=this.viewport.getContainerSize().x-event.position.x);var canvasClickEventArgs={tracker:event.eventSource,position:event.position,quick:event.quick,shift:event.shift,originalEvent:event.originalEvent,originalTarget:event.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",canvasClickEventArgs),!canvasClickEventArgs.preventDefaultAction&&this.viewport&&event.quick&&(!0===(gestureSettings=this.gestureSettingsByDeviceType(event.pointerType)).clickToZoom&&(this.viewport.zoomBy(event.shift?1/this.zoomPerClick:this.zoomPerClick,gestureSettings.zoomToRefPoint?this.viewport.pointFromPixel(event.position,!0):null),this.viewport.applyConstraints()),gestureSettings.dblClickDragToZoom&&(!0===THIS[this.hash].draggingToZoom?(THIS[this.hash].lastClickTime=null,THIS[this.hash].draggingToZoom=!1):THIS[this.hash].lastClickTime=$.now()))}function onCanvasDblClick(event){var gestureSettings,canvasDblClickEventArgs={tracker:event.eventSource,position:event.position,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",canvasDblClickEventArgs),!canvasDblClickEventArgs.preventDefaultAction&&this.viewport&&(gestureSettings=this.gestureSettingsByDeviceType(event.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(event.shift?1/this.zoomPerClick:this.zoomPerClick,gestureSettings.zoomToRefPoint?this.viewport.pointFromPixel(event.position,!0):null),this.viewport.applyConstraints())}function onCanvasDrag(event){var gestureSettings,canvasDragEventArgs={tracker:event.eventSource,pointerType:event.pointerType,position:event.position,delta:event.delta,speed:event.speed,direction:event.direction,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",canvasDragEventArgs),gestureSettings=this.gestureSettingsByDeviceType(event.pointerType),!canvasDragEventArgs.preventDefaultAction&&this.viewport)if(gestureSettings.dblClickDragToZoom&&THIS[this.hash].draggingToZoom){var factor=Math.pow(this.zoomPerDblClickDrag,event.delta.y/50);this.viewport.zoomBy(factor)}else if(gestureSettings.dragToPan&&!THIS[this.hash].draggingToZoom){if(this.panHorizontal||(event.delta.x=0),this.panVertical||(event.delta.y=0),this.viewport.flipped&&(event.delta.x=-event.delta.x),this.constrainDuringPan){var delta=this.viewport.deltaPointsFromPixels(event.delta.negate());this.viewport.centerSpringX.target.value+=delta.x,this.viewport.centerSpringY.target.value+=delta.y;var constrainedBounds=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=delta.x,this.viewport.centerSpringY.target.value-=delta.y,constrainedBounds.xConstrained&&(event.delta.x=0),constrainedBounds.yConstrained&&(event.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(event.delta.negate()),gestureSettings.flickEnabled&&!this.constrainDuringPan)}}function onCanvasDragEnd(event){var gestureSettings,canvasDragEndEventArgs={tracker:event.eventSource,pointerType:event.pointerType,position:event.position,speed:event.speed,direction:event.direction,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",canvasDragEndEventArgs),gestureSettings=this.gestureSettingsByDeviceType(event.pointerType),!canvasDragEndEventArgs.preventDefaultAction&&this.viewport){if(!THIS[this.hash].draggingToZoom&&gestureSettings.flickEnabled&&event.speed>=gestureSettings.flickMinSpeed){var amplitudeX=0;this.panHorizontal&&(amplitudeX=gestureSettings.flickMomentum*event.speed*Math.cos(event.direction));var amplitudeY=0;this.panVertical&&(amplitudeY=gestureSettings.flickMomentum*event.speed*Math.sin(event.direction));var center=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),target=this.viewport.pointFromPixel(new $.Point(center.x-amplitudeX,center.y-amplitudeY));this.viewport.panTo(target,!1)}this.viewport.applyConstraints()}gestureSettings.dblClickDragToZoom&&!0===THIS[this.hash].draggingToZoom&&(THIS[this.hash].draggingToZoom=!1)}function onCanvasEnter(event){this.raiseEvent("canvas-enter",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,buttons:event.buttons,pointers:event.pointers,insideElementPressed:event.insideElementPressed,buttonDownAny:event.buttonDownAny,originalEvent:event.originalEvent})}function onCanvasLeave(event){this.raiseEvent("canvas-exit",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,buttons:event.buttons,pointers:event.pointers,insideElementPressed:event.insideElementPressed,buttonDownAny:event.buttonDownAny,originalEvent:event.originalEvent})}function onCanvasPress(event){if(this.raiseEvent("canvas-press",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,insideElementPressed:event.insideElementPressed,insideElementReleased:event.insideElementReleased,originalEvent:event.originalEvent}),this.gestureSettingsByDeviceType(event.pointerType).dblClickDragToZoom){var lastClickTime=THIS[this.hash].lastClickTime,currClickTime=$.now();if(null===lastClickTime)return;currClickTime-lastClickTime<this.dblClickTimeThreshold&&(THIS[this.hash].draggingToZoom=!0),THIS[this.hash].lastClickTime=null}}function onCanvasRelease(event){this.raiseEvent("canvas-release",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,insideElementPressed:event.insideElementPressed,insideElementReleased:event.insideElementReleased,originalEvent:event.originalEvent})}function onCanvasNonPrimaryPress(event){this.raiseEvent("canvas-nonprimary-press",{tracker:event.eventSource,position:event.position,pointerType:event.pointerType,button:event.button,buttons:event.buttons,originalEvent:event.originalEvent})}function onCanvasNonPrimaryRelease(event){this.raiseEvent("canvas-nonprimary-release",{tracker:event.eventSource,position:event.position,pointerType:event.pointerType,button:event.button,buttons:event.buttons,originalEvent:event.originalEvent})}function onCanvasPinch(event){var gestureSettings,centerPt,panByPt,canvasPinchEventArgs={tracker:event.eventSource,pointerType:event.pointerType,gesturePoints:event.gesturePoints,lastCenter:event.lastCenter,center:event.center,lastDistance:event.lastDistance,distance:event.distance,shift:event.shift,originalEvent:event.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",canvasPinchEventArgs),this.viewport&&(!(gestureSettings=this.gestureSettingsByDeviceType(event.pointerType)).pinchToZoom||canvasPinchEventArgs.preventDefaultPanAction&&canvasPinchEventArgs.preventDefaultZoomAction||(centerPt=this.viewport.pointFromPixel(event.center,!0),gestureSettings.zoomToRefPoint&&!canvasPinchEventArgs.preventDefaultPanAction&&(panByPt=this.viewport.pointFromPixel(event.lastCenter,!0).minus(centerPt),this.panHorizontal||(panByPt.x=0),this.panVertical||(panByPt.y=0),this.viewport.panBy(panByPt,!0)),canvasPinchEventArgs.preventDefaultZoomAction||this.viewport.zoomBy(event.distance/event.lastDistance,centerPt,!0),this.viewport.applyConstraints()),gestureSettings.pinchRotate&&!canvasPinchEventArgs.preventDefaultRotateAction)){var angle1=Math.atan2(event.gesturePoints[0].currentPos.y-event.gesturePoints[1].currentPos.y,event.gesturePoints[0].currentPos.x-event.gesturePoints[1].currentPos.x),angle2=Math.atan2(event.gesturePoints[0].lastPos.y-event.gesturePoints[1].lastPos.y,event.gesturePoints[0].lastPos.x-event.gesturePoints[1].lastPos.x);centerPt=this.viewport.pointFromPixel(event.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(angle1-angle2)*(180/Math.PI),centerPt,!0)}}function onCanvasFocus(event){this.raiseEvent("canvas-focus",{tracker:event.eventSource,originalEvent:event.originalEvent})}function onCanvasBlur(event){this.raiseEvent("canvas-blur",{tracker:event.eventSource,originalEvent:event.originalEvent})}function onCanvasScroll(event){var canvasScrollEventArgs,gestureSettings,factor,thisScrollTime;(thisScrollTime=$.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=thisScrollTime,canvasScrollEventArgs={tracker:event.eventSource,position:event.position,scroll:event.scroll,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",canvasScrollEventArgs),!canvasScrollEventArgs.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(event.position.x=this.viewport.getContainerSize().x-event.position.x),(gestureSettings=this.gestureSettingsByDeviceType(event.pointerType)).scrollToZoom&&(factor=Math.pow(this.zoomPerScroll,event.scroll),this.viewport.zoomBy(factor,gestureSettings.zoomToRefPoint?this.viewport.pointFromPixel(event.position,!0):null),this.viewport.applyConstraints())),event.preventDefault=canvasScrollEventArgs.preventDefault):event.preventDefault=!0}function onContainerEnter(event){THIS[this.hash].mouseInside=!0,abortControlsAutoHide(this),this.raiseEvent("container-enter",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,buttons:event.buttons,pointers:event.pointers,insideElementPressed:event.insideElementPressed,buttonDownAny:event.buttonDownAny,originalEvent:event.originalEvent})}function onContainerLeave(event){event.pointers<1&&(THIS[this.hash].mouseInside=!1,THIS[this.hash].animating||beginControlsAutoHide(this)),this.raiseEvent("container-exit",{tracker:event.eventSource,pointerType:event.pointerType,position:event.position,buttons:event.buttons,pointers:event.pointers,insideElementPressed:event.insideElementPressed,buttonDownAny:event.buttonDownAny,originalEvent:event.originalEvent})}function updateMulti(viewer){!function updateOnce(viewer){if(viewer._opening||!THIS[viewer.hash])return;if(viewer.autoResize||THIS[viewer.hash].forceResize){var containerSize;if(viewer._autoResizePolling){containerSize=_getSafeElemSize(viewer.container);var prevContainerSize=THIS[viewer.hash].prevContainerSize;containerSize.equals(prevContainerSize)||(THIS[viewer.hash].needsResize=!0)}THIS[viewer.hash].needsResize&&function doViewerResize(viewer,containerSize){var resizeRatio,viewport=viewer.viewport,zoom=viewport.getZoom(),center=viewport.getCenter();if(viewport.resize(containerSize,viewer.preserveImageSizeOnResize),viewport.panTo(center,!0),viewer.preserveImageSizeOnResize)resizeRatio=THIS[viewer.hash].prevContainerSize.x/containerSize.x;else{var origin=new $.Point(0,0),prevDiag=new $.Point(THIS[viewer.hash].prevContainerSize.x,THIS[viewer.hash].prevContainerSize.y).distanceTo(origin);resizeRatio=new $.Point(containerSize.x,containerSize.y).distanceTo(origin)/prevDiag*THIS[viewer.hash].prevContainerSize.x/containerSize.x}viewport.zoomTo(zoom*resizeRatio,null,!0),THIS[viewer.hash].prevContainerSize=containerSize,THIS[viewer.hash].forceRedraw=!0,THIS[viewer.hash].needsResize=!1,THIS[viewer.hash].forceResize=!1}(viewer,containerSize||_getSafeElemSize(viewer.container))}var viewportChange=viewer.viewport.update(),animated=viewer.world.update()||viewportChange;viewportChange&&viewer.raiseEvent("viewport-change");viewer.referenceStrip&&(animated=viewer.referenceStrip.update(viewer.viewport)||animated);var currentAnimating=THIS[viewer.hash].animating;!currentAnimating&&animated&&(viewer.raiseEvent("animation-start"),abortControlsAutoHide(viewer));var isAnimationFinished=currentAnimating&&!animated;isAnimationFinished&&(THIS[viewer.hash].animating=!1);(animated||isAnimationFinished||THIS[viewer.hash].forceRedraw||viewer.world.needsDraw())&&(!function drawWorld(viewer){viewer.imageLoader.clear(),viewer.drawer.clear(),viewer.world.draw(),viewer.raiseEvent("update-viewport",{})}(viewer),viewer._drawOverlays(),viewer.navigator&&viewer.navigator.update(viewer.viewport),THIS[viewer.hash].forceRedraw=!1,animated&&viewer.raiseEvent("animation"));isAnimationFinished&&(viewer.raiseEvent("animation-finish"),THIS[viewer.hash].mouseInside||beginControlsAutoHide(viewer));THIS[viewer.hash].animating=animated}(viewer),viewer.isOpen()?viewer._updateRequestId=scheduleUpdate(viewer,updateMulti):viewer._updateRequestId=!1}function resolveUrl(prefix,url){return prefix?prefix+url:url}function beginZoomingIn(){THIS[this.hash].lastZoomTime=$.now(),THIS[this.hash].zoomFactor=this.zoomPerSecond,THIS[this.hash].zooming=!0,scheduleZoom(this)}function beginZoomingOut(){THIS[this.hash].lastZoomTime=$.now(),THIS[this.hash].zoomFactor=1/this.zoomPerSecond,THIS[this.hash].zooming=!0,scheduleZoom(this)}function endZooming(){THIS[this.hash].zooming=!1}function scheduleZoom(viewer){$.requestAnimationFrame($.delegate(viewer,doZoom))}function doZoom(){var currentTime,deltaTime,adjustedFactor;THIS[this.hash].zooming&&this.viewport&&(deltaTime=(currentTime=$.now())-THIS[this.hash].lastZoomTime,adjustedFactor=Math.pow(THIS[this.hash].zoomFactor,deltaTime/1e3),this.viewport.zoomBy(adjustedFactor),this.viewport.applyConstraints(),THIS[this.hash].lastZoomTime=currentTime,scheduleZoom(this))}function doSingleZoomIn(){this.viewport&&(THIS[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function doSingleZoomOut(){this.viewport&&(THIS[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function lightUp(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function onHome(){this.viewport&&this.viewport.goHome()}function onFullScreen(){this.isFullPage()&&!$.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function onRotateLeft(){if(this.viewport){var currRotation=this.viewport.getRotation();this.viewport.flipped?currRotation+=this.rotationIncrement:currRotation-=this.rotationIncrement,this.viewport.setRotation(currRotation)}}function onRotateRight(){if(this.viewport){var currRotation=this.viewport.getRotation();this.viewport.flipped?currRotation-=this.rotationIncrement:currRotation+=this.rotationIncrement,this.viewport.setRotation(currRotation)}}function onFlip(){this.viewport.toggleFlip()}$.Viewer=function(options){var i,style,args=arguments,_this=this;if($.isPlainObject(options)||(options={id:args[0],xmlPath:args.length>1?args[1]:void 0,prefixUrl:args.length>2?args[2]:void 0,controls:args.length>3?args[3]:void 0,overlays:args.length>4?args[4]:void 0}),options.config&&($.extend(!0,options,options.config),delete options.config),$.extend(!0,this,{id:options.id,hash:options.hash||nextHash++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},$.DEFAULT_SETTINGS,options),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==THIS[this.hash]&&$.console.warn("Hash "+this.hash+" has already been used."),THIS[this.hash]={fsBoundsDelta:new $.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=$.now(),$.EventSource.call(this),this.addHandler("open-failed",(function(event){var msg=$.getString("Errors.OpenFailed",event.eventSource,event.message);_this._showMessage(msg)})),$.ControlDock.call(this,options),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=$.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(style=this.canvas.style).width="100%",style.height="100%",style.overflow="hidden",style.position="absolute",style.top="0px",style.left="0px",$.setElementTouchActionNone(this.canvas),""!==options.tabIndex&&(this.canvas.tabIndex=void 0===options.tabIndex?0:options.tabIndex),this.container.className="openseadragon-container",function(style){style.width="100%",style.height="100%",style.position="relative",style.overflow="hidden",style.left="0px",style.top="0px",style.textAlign="left"}(this.container.style),$.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new $.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:$.delegate(this,onCanvasContextMenu),keyDownHandler:$.delegate(this,onCanvasKeyDown),keyHandler:$.delegate(this,onCanvasKeyPress),clickHandler:$.delegate(this,onCanvasClick),dblClickHandler:$.delegate(this,onCanvasDblClick),dragHandler:$.delegate(this,onCanvasDrag),dragEndHandler:$.delegate(this,onCanvasDragEnd),enterHandler:$.delegate(this,onCanvasEnter),leaveHandler:$.delegate(this,onCanvasLeave),pressHandler:$.delegate(this,onCanvasPress),releaseHandler:$.delegate(this,onCanvasRelease),nonPrimaryPressHandler:$.delegate(this,onCanvasNonPrimaryPress),nonPrimaryReleaseHandler:$.delegate(this,onCanvasNonPrimaryRelease),scrollHandler:$.delegate(this,onCanvasScroll),pinchHandler:$.delegate(this,onCanvasPinch),focusHandler:$.delegate(this,onCanvasFocus),blurHandler:$.delegate(this,onCanvasBlur)}),this.outerTracker=new $.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:$.delegate(this,onContainerEnter),leaveHandler:$.delegate(this,onContainerLeave)}),this.toolbar&&(this.toolbar=new $.ControlDock({element:this.toolbar})),this.bindStandardControls(),THIS[this.hash].prevContainerSize=_getSafeElemSize(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver((function(){THIS[_this.hash].needsResize=!0})),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new $.World({viewer:this}),this.world.addHandler("add-item",(function(event){_this.source=_this.world.getItemAt(0).source,THIS[_this.hash].forceRedraw=!0,_this._updateRequestId||(_this._updateRequestId=scheduleUpdate(_this,updateMulti))})),this.world.addHandler("remove-item",(function(event){_this.world.getItemCount()?_this.source=_this.world.getItemAt(0).source:_this.source=null,THIS[_this.hash].forceRedraw=!0})),this.world.addHandler("metrics-change",(function(event){_this.viewport&&_this.viewport._setContentBounds(_this.world.getHomeBounds(),_this.world.getContentFactor())})),this.world.addHandler("item-index-change",(function(event){_this.source=_this.world.getItemAt(0).source})),this.viewport=new $.Viewport({containerSize:THIS[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new $.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:options.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new $.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new $.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=$.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(i=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(i,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(i=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(i,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new $.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),i=0;i<this.customControls.length;i++)this.addControl(this.customControls[i].id,{anchor:this.customControls[i].anchor});$.requestAnimationFrame((function(){beginControlsAutoHide(_this)})),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),$._viewers.set(this.element,this)},$.extend($.Viewer.prototype,$.EventSource.prototype,$.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(dzi){return $.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(dzi)},openTileSource:function(tileSource){return $.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(tileSource)},get buttons(){return $.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(tileSources,initialPage){var _this=this;if(this.close(),!tileSources)return this;if(this.sequenceMode&&$.isArray(tileSources))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===initialPage||isNaN(initialPage)||(this.initialPage=initialPage),this.tileSources=tileSources,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if($.isArray(tileSources)||(tileSources=[tileSources]),!tileSources.length)return this;this._opening=!0;for(var failEvent,expected=tileSources.length,successes=0,failures=0,checkCompletion=function(){if(successes+failures===expected)if(successes){!_this._firstOpen&&_this.preserveViewport||(_this.viewport.goHome(!0),_this.viewport.update()),_this._firstOpen=!1;var source=tileSources[0];if(source.tileSource&&(source=source.tileSource),_this.overlays&&!_this.preserveOverlays)for(var i=0;i<_this.overlays.length;i++)_this.currentOverlays[i]=getOverlayObject(_this,_this.overlays[i]);_this._drawOverlays(),_this._opening=!1,_this.raiseEvent("open",{source})}else _this._opening=!1,_this.raiseEvent("open-failed",failEvent)},doOne=function(options){$.isPlainObject(options)&&options.tileSource||(options={tileSource:options}),void 0!==options.index&&($.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete options.index),void 0===options.collectionImmediately&&(options.collectionImmediately=!0);var originalSuccess=options.success;options.success=function(event){if(successes++,options.tileSource.overlays)for(var i=0;i<options.tileSource.overlays.length;i++)_this.addOverlay(options.tileSource.overlays[i]);originalSuccess&&originalSuccess(event),checkCompletion()};var originalError=options.error;options.error=function(event){failures++,failEvent||(failEvent=event),originalError&&originalError(event),checkCompletion()},_this.addTiledImage(options)},i=0;i<tileSources.length;i++)doOne(tileSources[i]);return this},close:function(){return THIS[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),THIS[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(THIS[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&($.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),THIS[this.navigator.hash]=null,delete THIS[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),THIS[this.hash]=null,delete THIS[this.hash],this.canvas=null,this.container=null,$._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(enabled){return this.innerTracker.setTracking(enabled),this.outerTracker.setTracking(enabled),this.raiseEvent("mouse-enabled",{enabled}),this},areControlsEnabled:function(){var i,enabled=this.controls.length;for(i=0;i<this.controls.length;i++)enabled=enabled&&this.controls[i].isVisible();return enabled},setControlsEnabled:function(enabled){return enabled?abortControlsAutoHide(this):beginControlsAutoHide(this),this.raiseEvent("controls-enabled",{enabled}),this},setDebugMode:function(debugMode){for(var i=0;i<this.world.getItemCount();i++)this.world.getItemAt(i).debugMode=debugMode;this.debugMode=debugMode,this.forceRedraw()},setAjaxHeaders:function(ajaxHeaders,propagate){if(null===ajaxHeaders&&(ajaxHeaders={}),$.isPlainObject(ajaxHeaders)){if(void 0===propagate&&(propagate=!0),this.ajaxHeaders=ajaxHeaders,propagate){for(var i=0;i<this.world.getItemCount();i++)this.world.getItemAt(i)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var key in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[key].setAjaxHeaders(this.ajaxHeaders,!0)}}else console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},addButton:function(button){this.buttonGroup.addButton(button)},isFullPage:function(){return THIS[this.hash].fullPage},setFullPage:function(fullPage){var nodes,i,body=document.body,bodyStyle=body.style,docStyle=document.documentElement.style,_this=this;if(fullPage===this.isFullPage())return this;var fullPageEventArgs={fullPage,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",fullPageEventArgs),fullPageEventArgs.preventDefaultAction)return this;if(fullPage){for(this.elementSize=$.getElementSize(this.element),this.pageScroll=$.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=bodyStyle.margin,this.docMargin=docStyle.margin,bodyStyle.margin="0",docStyle.margin="0",this.bodyPadding=bodyStyle.padding,this.docPadding=docStyle.padding,bodyStyle.padding="0",docStyle.padding="0",this.bodyWidth=bodyStyle.width,this.docWidth=docStyle.width,bodyStyle.width="100%",docStyle.width="100%",this.bodyHeight=bodyStyle.height,this.docHeight=docStyle.height,bodyStyle.height="100%",docStyle.height="100%",this.bodyDisplay=bodyStyle.display,bodyStyle.display="block",this.previousBody=[],THIS[this.hash].prevElementParent=this.element.parentNode,THIS[this.hash].prevNextSibling=this.element.nextSibling,THIS[this.hash].prevElementWidth=this.element.style.width,THIS[this.hash].prevElementHeight=this.element.style.height,nodes=body.childNodes.length,i=0;i<nodes;i++)this.previousBody.push(body.childNodes[0]),body.removeChild(body.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,body.appendChild(this.toolbar.element),$.addClass(this.toolbar.element,"fullpage")),$.addClass(this.element,"fullpage"),body.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=$.getElementSize(this.element).y-$.getElementSize(this.toolbar.element).y+"px"),THIS[this.hash].fullPage=!0,$.delegate(this,onContainerEnter)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,bodyStyle.margin=this.bodyMargin,docStyle.margin=this.docMargin,bodyStyle.padding=this.bodyPadding,docStyle.padding=this.docPadding,bodyStyle.width=this.bodyWidth,docStyle.width=this.docWidth,bodyStyle.height=this.bodyHeight,docStyle.height=this.docHeight,bodyStyle.display=this.bodyDisplay,body.removeChild(this.element),nodes=this.previousBody.length,i=0;i<nodes;i++)body.appendChild(this.previousBody.shift());$.removeClass(this.element,"fullpage"),THIS[this.hash].prevElementParent.insertBefore(this.element,THIS[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(body.removeChild(this.toolbar.element),$.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=THIS[this.hash].prevElementWidth,this.element.style.height=THIS[this.hash].prevElementHeight;var restoreScrollCounter=0,restoreScroll=function(){$.setPageScroll(_this.pageScroll);var pageScroll=$.getPageScroll();++restoreScrollCounter<10&&(pageScroll.x!==_this.pageScroll.x||pageScroll.y!==_this.pageScroll.y)&&$.requestAnimationFrame(restoreScroll)};$.requestAnimationFrame(restoreScroll),THIS[this.hash].fullPage=!1,$.delegate(this,onContainerLeave)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage}),this},setFullScreen:function(fullScreen){var _this=this;if(!$.supportsFullScreen)return this.setFullPage(fullScreen);if($.isFullScreen()===fullScreen)return this;var fullScreeEventArgs={fullScreen,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",fullScreeEventArgs),fullScreeEventArgs.preventDefaultAction)return this;if(fullScreen){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var onFullScreenChange=function(){var isFullScreen=$.isFullScreen();isFullScreen||($.removeEvent(document,$.fullScreenEventName,onFullScreenChange),$.removeEvent(document,$.fullScreenErrorEventName,onFullScreenChange),_this.setFullPage(!1),_this.isFullPage()&&(_this.element.style.width=_this.fullPageStyleWidth,_this.element.style.height=_this.fullPageStyleHeight)),_this.navigator&&_this.viewport&&setTimeout((function(){_this.navigator.update(_this.viewport)})),_this.raiseEvent("full-screen",{fullScreen:isFullScreen})};$.addEvent(document,$.fullScreenEventName,onFullScreenChange),$.addEvent(document,$.fullScreenErrorEventName,onFullScreenChange),$.requestFullScreen(document.body)}else $.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return $.isFullScreen()&&this.isFullPage()},setVisible:function(visible){return this.container.style.visibility=visible?"":"hidden",this.raiseEvent("visible",{visible}),this},addTiledImage:function(options){$.console.assert(options,"[Viewer.addTiledImage] options is required"),$.console.assert(options.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),$.console.assert(!options.replace||options.index>-1&&options.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var _this=this;options.replace&&(options.replaceItem=_this.world.getItemAt(options.index)),this._hideMessage(),void 0===options.placeholderFillStyle&&(options.placeholderFillStyle=this.placeholderFillStyle),void 0===options.opacity&&(options.opacity=this.opacity),void 0===options.preload&&(options.preload=this.preload),void 0===options.compositeOperation&&(options.compositeOperation=this.compositeOperation),void 0===options.crossOriginPolicy&&(options.crossOriginPolicy=void 0!==options.tileSource.crossOriginPolicy?options.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===options.ajaxWithCredentials&&(options.ajaxWithCredentials=this.ajaxWithCredentials),void 0===options.loadTilesWithAjax&&(options.loadTilesWithAjax=this.loadTilesWithAjax),$.isPlainObject(options.ajaxHeaders)||(options.ajaxHeaders={});var myQueueItem={options};function raiseAddItemFailed(event){for(var i=0;i<_this._loadQueue.length;i++)if(_this._loadQueue[i]===myQueueItem){_this._loadQueue.splice(i,1);break}0===_this._loadQueue.length&&refreshWorld(myQueueItem),_this.raiseEvent("add-item-failed",event),options.error&&options.error(event)}function refreshWorld(theItem){_this.collectionMode&&(_this.world.arrange({immediately:theItem.options.collectionImmediately,rows:_this.collectionRows,columns:_this.collectionColumns,layout:_this.collectionLayout,tileSize:_this.collectionTileSize,tileMargin:_this.collectionTileMargin}),_this.world.setAutoRefigureSizes(!0))}function processReadyItems(){for(var queueItem,tiledImage,optionsClone;_this._loadQueue.length&&(queueItem=_this._loadQueue[0]).tileSource;){if(_this._loadQueue.splice(0,1),queueItem.options.replace){var newIndex=_this.world.getIndexOfItem(queueItem.options.replaceItem);-1!==newIndex&&(queueItem.options.index=newIndex),_this.world.removeItem(queueItem.options.replaceItem)}tiledImage=new $.TiledImage({viewer:_this,source:queueItem.tileSource,viewport:_this.viewport,drawer:_this.drawer,tileCache:_this.tileCache,imageLoader:_this.imageLoader,x:queueItem.options.x,y:queueItem.options.y,width:queueItem.options.width,height:queueItem.options.height,fitBounds:queueItem.options.fitBounds,fitBoundsPlacement:queueItem.options.fitBoundsPlacement,clip:queueItem.options.clip,placeholderFillStyle:queueItem.options.placeholderFillStyle,opacity:queueItem.options.opacity,preload:queueItem.options.preload,degrees:queueItem.options.degrees,flipped:queueItem.options.flipped,compositeOperation:queueItem.options.compositeOperation,springStiffness:_this.springStiffness,animationTime:_this.animationTime,minZoomImageRatio:_this.minZoomImageRatio,wrapHorizontal:_this.wrapHorizontal,wrapVertical:_this.wrapVertical,immediateRender:_this.immediateRender,blendTime:_this.blendTime,alwaysBlend:_this.alwaysBlend,minPixelRatio:_this.minPixelRatio,smoothTileEdgesMinZoom:_this.smoothTileEdgesMinZoom,iOSDevice:_this.iOSDevice,crossOriginPolicy:queueItem.options.crossOriginPolicy,ajaxWithCredentials:queueItem.options.ajaxWithCredentials,loadTilesWithAjax:queueItem.options.loadTilesWithAjax,ajaxHeaders:queueItem.options.ajaxHeaders,debugMode:_this.debugMode,subPixelRoundingForTransparency:_this.subPixelRoundingForTransparency}),_this.collectionMode&&_this.world.setAutoRefigureSizes(!1),_this.navigator&&(optionsClone=$.extend({},queueItem.options,{replace:!1,originalTiledImage:tiledImage,tileSource:queueItem.tileSource}),_this.navigator.addTiledImage(optionsClone)),_this.world.addItem(tiledImage,{index:queueItem.options.index}),0===_this._loadQueue.length&&refreshWorld(queueItem),1!==_this.world.getItemCount()||_this.preserveViewport||_this.viewport.goHome(!0),queueItem.options.success&&queueItem.options.success({item:tiledImage})}}$.isArray(options.tileSource)?setTimeout((function(){raiseAddItemFailed({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:options.tileSource,options})})):(this._loadQueue.push(myQueueItem),function getTileSourceImplementation(viewer,tileSource,imgOptions,successCallback,failCallback){var _this=viewer;if("string"===$.type(tileSource))if(tileSource.match(/^\s*<.*>\s*$/))tileSource=$.parseXml(tileSource);else if(tileSource.match(/^\s*[{[].*[}\]]\s*$/))try{var tileSourceJ=$.parseJSON(tileSource);tileSource=tileSourceJ}catch(e){}function waitUntilReady(tileSource,originalTileSource){tileSource.ready?successCallback(tileSource):(tileSource.addHandler("ready",(function(){successCallback(tileSource)})),tileSource.addHandler("open-failed",(function(event){failCallback({message:event.message,source:originalTileSource})})))}setTimeout((function(){if("string"===$.type(tileSource))(tileSource=new $.TileSource({url:tileSource,crossOriginPolicy:void 0!==imgOptions.crossOriginPolicy?imgOptions.crossOriginPolicy:viewer.crossOriginPolicy,ajaxWithCredentials:viewer.ajaxWithCredentials,ajaxHeaders:imgOptions.ajaxHeaders?imgOptions.ajaxHeaders:viewer.ajaxHeaders,splitHashDataForPost:viewer.splitHashDataForPost,useCanvas:viewer.useCanvas,success:function(event){successCallback(event.tileSource)}})).addHandler("open-failed",(function(event){failCallback(event)}));else if($.isPlainObject(tileSource)||tileSource.nodeType)if(void 0!==tileSource.crossOriginPolicy||void 0===imgOptions.crossOriginPolicy&&void 0===viewer.crossOriginPolicy||(tileSource.crossOriginPolicy=void 0!==imgOptions.crossOriginPolicy?imgOptions.crossOriginPolicy:viewer.crossOriginPolicy),void 0===tileSource.ajaxWithCredentials&&(tileSource.ajaxWithCredentials=viewer.ajaxWithCredentials),void 0===tileSource.useCanvas&&(tileSource.useCanvas=viewer.useCanvas),$.isFunction(tileSource.getTileUrl)){var customTileSource=new $.TileSource(tileSource);customTileSource.getTileUrl=tileSource.getTileUrl,successCallback(customTileSource)}else{var $TileSource=$.TileSource.determineType(_this,tileSource);if(!$TileSource)return void failCallback({message:"Unable to load TileSource",source:tileSource});var options=$TileSource.prototype.configure.apply(_this,[tileSource]);waitUntilReady(new $TileSource(options),tileSource)}else waitUntilReady(tileSource,tileSource)}))}(this,options.tileSource,options,(function(tileSource){myQueueItem.tileSource=tileSource,processReadyItems()}),(function(event){event.options=options,raiseAddItemFailed(event),processReadyItems()})))},addSimpleImage:function(options){$.console.assert(options,"[Viewer.addSimpleImage] options is required"),$.console.assert(options.url,"[Viewer.addSimpleImage] options.url is required");var opts=$.extend({},options,{tileSource:{type:"image",url:options.url}});delete opts.url,this.addTiledImage(opts)},addLayer:function(options){var _this=this;$.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var optionsClone=$.extend({},options,{success:function(event){_this.raiseEvent("add-layer",{options,drawer:event.item})},error:function(event){_this.raiseEvent("add-layer-failed",event)}});return this.addTiledImage(optionsClone),this},getLayerAtLevel:function(level){return $.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(level)},getLevelOfLayer:function(drawer){return $.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(drawer)},getLayersCount:function(){return $.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(drawer,level){return $.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(drawer,level)},removeLayer:function(drawer){return $.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(drawer)},forceRedraw:function(){return THIS[this.hash].forceRedraw=!0,this},forceResize:function(){THIS[this.hash].needsResize=!0,THIS[this.hash].forceResize=!0},bindSequenceControls:function(){var onFocusHandler=$.delegate(this,onFocus),onBlurHandler=$.delegate(this,onBlur),onNextHandler=$.delegate(this,this.goToNextPage),onPreviousHandler=$.delegate(this,this.goToPreviousPage),navImages=this.navImages,useGroup=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(useGroup=!1),this.previousButton=new $.Button({element:this.previousButton?$.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.PreviousPage"),srcRest:resolveUrl(this.prefixUrl,navImages.previous.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.previous.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.previous.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.previous.DOWN),onRelease:onPreviousHandler,onFocus:onFocusHandler,onBlur:onBlurHandler}),this.nextButton=new $.Button({element:this.nextButton?$.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.NextPage"),srcRest:resolveUrl(this.prefixUrl,navImages.next.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.next.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.next.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.next.DOWN),onRelease:onNextHandler,onFocus:onFocusHandler,onBlur:onBlurHandler}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),useGroup&&(this.paging=new $.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:$.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||$.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var beginZoomingInHandler=$.delegate(this,beginZoomingIn),endZoomingHandler=$.delegate(this,endZooming),doSingleZoomInHandler=$.delegate(this,doSingleZoomIn),beginZoomingOutHandler=$.delegate(this,beginZoomingOut),doSingleZoomOutHandler=$.delegate(this,doSingleZoomOut),onHomeHandler=$.delegate(this,onHome),onFullScreenHandler=$.delegate(this,onFullScreen),onRotateLeftHandler=$.delegate(this,onRotateLeft),onRotateRightHandler=$.delegate(this,onRotateRight),onFlipHandler=$.delegate(this,onFlip),onFocusHandler=$.delegate(this,onFocus),onBlurHandler=$.delegate(this,onBlur),navImages=this.navImages,buttons=[],useGroup=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(useGroup=!1),this.showZoomControl&&(buttons.push(this.zoomInButton=new $.Button({element:this.zoomInButton?$.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.ZoomIn"),srcRest:resolveUrl(this.prefixUrl,navImages.zoomIn.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.zoomIn.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.zoomIn.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.zoomIn.DOWN),onPress:beginZoomingInHandler,onRelease:endZoomingHandler,onClick:doSingleZoomInHandler,onEnter:beginZoomingInHandler,onExit:endZoomingHandler,onFocus:onFocusHandler,onBlur:onBlurHandler})),buttons.push(this.zoomOutButton=new $.Button({element:this.zoomOutButton?$.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.ZoomOut"),srcRest:resolveUrl(this.prefixUrl,navImages.zoomOut.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.zoomOut.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.zoomOut.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.zoomOut.DOWN),onPress:beginZoomingOutHandler,onRelease:endZoomingHandler,onClick:doSingleZoomOutHandler,onEnter:beginZoomingOutHandler,onExit:endZoomingHandler,onFocus:onFocusHandler,onBlur:onBlurHandler}))),this.showHomeControl&&buttons.push(this.homeButton=new $.Button({element:this.homeButton?$.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.Home"),srcRest:resolveUrl(this.prefixUrl,navImages.home.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.home.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.home.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.home.DOWN),onRelease:onHomeHandler,onFocus:onFocusHandler,onBlur:onBlurHandler})),this.showFullPageControl&&buttons.push(this.fullPageButton=new $.Button({element:this.fullPageButton?$.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.FullPage"),srcRest:resolveUrl(this.prefixUrl,navImages.fullpage.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.fullpage.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.fullpage.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.fullpage.DOWN),onRelease:onFullScreenHandler,onFocus:onFocusHandler,onBlur:onBlurHandler})),this.showRotationControl&&(buttons.push(this.rotateLeftButton=new $.Button({element:this.rotateLeftButton?$.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.RotateLeft"),srcRest:resolveUrl(this.prefixUrl,navImages.rotateleft.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.rotateleft.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.rotateleft.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.rotateleft.DOWN),onRelease:onRotateLeftHandler,onFocus:onFocusHandler,onBlur:onBlurHandler})),buttons.push(this.rotateRightButton=new $.Button({element:this.rotateRightButton?$.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.RotateRight"),srcRest:resolveUrl(this.prefixUrl,navImages.rotateright.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.rotateright.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.rotateright.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.rotateright.DOWN),onRelease:onRotateRightHandler,onFocus:onFocusHandler,onBlur:onBlurHandler}))),this.showFlipControl&&buttons.push(this.flipButton=new $.Button({element:this.flipButton?$.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:$.getString("Tooltips.Flip"),srcRest:resolveUrl(this.prefixUrl,navImages.flip.REST),srcGroup:resolveUrl(this.prefixUrl,navImages.flip.GROUP),srcHover:resolveUrl(this.prefixUrl,navImages.flip.HOVER),srcDown:resolveUrl(this.prefixUrl,navImages.flip.DOWN),onRelease:onFlipHandler,onFocus:onFocusHandler,onBlur:onBlurHandler})),useGroup?(this.buttonGroup=new $.ButtonGroup({buttons,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",$.delegate(this,lightUp)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||$.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||$.ControlAnchor.TOP_LEFT})):this.customButtons=buttons),this},currentPage:function(){return this._sequenceIndex},goToPage:function(page){return this.tileSources&&page>=0&&page<this.tileSources.length&&(this._sequenceIndex=page,this._updateSequenceButtons(page),this.open(this.tileSources[page]),this.referenceStrip&&this.referenceStrip.setFocus(page),this.raiseEvent("page",{page})),this},addOverlay:function(element,location,placement,onDraw){var options;if(options=$.isPlainObject(element)?element:{element,location,placement,onDraw},element=$.getElement(options.element),getOverlayIndex(this.currentOverlays,element)>=0)return this;var overlay=getOverlayObject(this,options);return this.currentOverlays.push(overlay),overlay.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element,location:options.location,placement:options.placement}),this},updateOverlay:function(element,location,placement){var i;return element=$.getElement(element),(i=getOverlayIndex(this.currentOverlays,element))>=0&&(this.currentOverlays[i].update(location,placement),THIS[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element,location,placement})),this},removeOverlay:function(element){var i;return element=$.getElement(element),(i=getOverlayIndex(this.currentOverlays,element))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),THIS[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return THIS[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(element){var i;return element=$.getElement(element),(i=getOverlayIndex(this.currentOverlays,element))>=0?this.currentOverlays[i]:null},_updateSequenceButtons:function(page){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==page?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(page>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(message){this._hideMessage();var div=$.makeNeutralElement("div");div.appendChild(document.createTextNode(message)),this.messageDiv=$.makeCenteredNode(div),$.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var div=this.messageDiv;div&&(div.parentNode.removeChild(div),delete this.messageDiv)},gestureSettingsByDeviceType:function(type){switch(type){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var i,length=this.currentOverlays.length;for(i=0;i<length;i++)this.currentOverlays[i].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new $.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else $.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),$.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){$.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var previusPixelDensityRatio=$.pixelDensityRatio,currentPixelDensityRatio=$.getCurrentPixelDensityRatio();previusPixelDensityRatio!==currentPixelDensityRatio&&($.pixelDensityRatio=currentPixelDensityRatio,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var previous=this._sequenceIndex-1;this.navPrevNextWrap&&previous<0&&(previous+=this.tileSources.length),this.goToPage(previous)},goToNextPage:function(){var next=this._sequenceIndex+1;this.navPrevNextWrap&&next>=this.tileSources.length&&(next=0),this.goToPage(next)},isAnimating:function(){return THIS[this.hash].animating}})}(OpenSeadragon),function($){function onCanvasClick(event){var canvasClickEventArgs={tracker:event.eventSource,position:event.position,quick:event.quick,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",canvasClickEventArgs),!canvasClickEventArgs.preventDefaultAction&&event.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(event.position.x=this.viewport.getContainerSize().x-event.position.x);var target=this.viewport.pointFromPixel(event.position);this.panVertical?this.panHorizontal||(target.x=this.viewer.viewport.getCenter(!0).x):target.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(target),this.viewer.viewport.applyConstraints()}}function onCanvasDrag(event){var canvasDragEventArgs={tracker:event.eventSource,position:event.position,delta:event.delta,speed:event.speed,direction:event.direction,shift:event.shift,originalEvent:event.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",canvasDragEventArgs),!canvasDragEventArgs.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(event.delta.x=0),this.panVertical||(event.delta.y=0),this.viewer.viewport.flipped&&(event.delta.x=-event.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(event.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function onCanvasRelease(event){event.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function onCanvasScroll(event){var eventArgs={tracker:event.eventSource,position:event.position,scroll:event.scroll,shift:event.shift,originalEvent:event.originalEvent,preventDefault:event.preventDefault};this.viewer.raiseEvent("navigator-scroll",eventArgs),event.preventDefault=eventArgs.preventDefault}function _setTransformRotate(element,degrees){setElementTransform(element,"rotate("+degrees+"deg)")}function setElementTransform(element,rule){element.style.webkitTransform=rule,element.style.mozTransform=rule,element.style.msTransform=rule,element.style.oTransform=rule,element.style.transform=rule}$.Navigator=function(options){var viewerSize,navigatorSize,style,borderWidth,viewer=options.viewer,_this=this;function rotate(degrees,immediately){_setTransformRotate(_this.displayRegionContainer,degrees),_setTransformRotate(_this.displayRegion,-degrees),_this.viewport.setRotation(degrees,immediately)}(options.element||options.id?(options.element?(options.id&&$.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),options.element.id?options.id=options.element.id:options.id="navigator-"+$.now(),this.element=options.element):this.element=document.getElementById(options.id),options.controlOptions={anchor:$.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(options.id="navigator-"+$.now(),this.element=$.makeNeutralElement("div"),options.controlOptions={anchor:$.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:options.autoFade},options.position&&("BOTTOM_RIGHT"===options.position?options.controlOptions.anchor=$.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===options.position?options.controlOptions.anchor=$.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===options.position?options.controlOptions.anchor=$.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===options.position?options.controlOptions.anchor=$.ControlAnchor.TOP_LEFT:"ABSOLUTE"===options.position&&(options.controlOptions.anchor=$.ControlAnchor.ABSOLUTE,options.controlOptions.top=options.top,options.controlOptions.left=options.left,options.controlOptions.height=options.height,options.controlOptions.width=options.width))),this.element.id=options.id,this.element.className+=" navigator",(options=$.extend(!0,{sizeRatio:$.DEFAULT_SETTINGS.navigatorSizeRatio},options,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:options.animationTime,autoResize:!1,minZoomImageRatio:1,background:options.background,opacity:options.opacity,borderColor:options.borderColor,displayRegionColor:options.displayRegionColor})).minPixelRatio=this.minPixelRatio=viewer.minPixelRatio,$.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new $.Point(1,1),this.totalBorderWidths=new $.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),options.controlOptions.anchor!==$.ControlAnchor.NONE&&(style=this.element.style,borderWidth=this.borderWidth,style.margin="0px",style.border=borderWidth+"px solid "+options.borderColor,style.padding="0px",style.background=options.background,style.opacity=options.opacity,style.overflow="hidden"),this.displayRegion=$.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(style,borderWidth){style.position="relative",style.top="0px",style.left="0px",style.fontSize="0px",style.overflow="hidden",style.border=borderWidth+"px solid "+options.displayRegionColor,style.margin="0px",style.padding="0px",style.background="transparent",style.float="left",style.cssFloat="left",style.styleFloat="left",style.zIndex=999999999,style.cursor="default",style.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),$.setElementPointerEventsNone(this.displayRegion),$.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=$.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",$.setElementPointerEventsNone(this.displayRegionContainer),$.setElementTouchActionNone(this.displayRegionContainer),viewer.addControl(this.element,options.controlOptions),this._resizeWithViewer=options.controlOptions.anchor!==$.ControlAnchor.ABSOLUTE&&options.controlOptions.anchor!==$.ControlAnchor.NONE,options.width&&options.height?(this.setWidth(options.width),this.setHeight(options.height)):this._resizeWithViewer&&(viewerSize=$.getElementSize(viewer.element),this.element.style.height=Math.round(viewerSize.y*options.sizeRatio)+"px",this.element.style.width=Math.round(viewerSize.x*options.sizeRatio)+"px",this.oldViewerSize=viewerSize,navigatorSize=$.getElementSize(this.element),this.elementArea=navigatorSize.x*navigatorSize.y),this.oldContainerSize=new $.Point(0,0),$.Viewer.apply(this,[options]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),options.navigatorRotate)&&(rotate(options.viewer.viewport?options.viewer.viewport.getRotation():options.viewer.degrees||0,!0),options.viewer.addHandler("rotate",(function(args){rotate(args.degrees,args.immediately)})));this.innerTracker.destroy(),this.innerTracker=new $.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:$.delegate(this,onCanvasDrag),clickHandler:$.delegate(this,onCanvasClick),releaseHandler:$.delegate(this,onCanvasRelease),scrollHandler:$.delegate(this,onCanvasScroll),preProcessEventHandler:function(eventInfo){"wheel"===eventInfo.eventType&&(eventInfo.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",$.setElementPointerEventsNone(this.canvas),$.setElementPointerEventsNone(this.container),this.addHandler("reset-size",(function(){_this.viewport&&_this.viewport.goHome(!0)})),viewer.world.addHandler("item-index-change",(function(event){window.setTimeout((function(){var item=_this.world.getItemAt(event.previousIndex);_this.world.setItemIndex(item,event.newIndex)}),1)})),viewer.world.addHandler("remove-item",(function(event){var theirItem=event.item,myItem=_this._getMatchingItem(theirItem);myItem&&_this.world.removeItem(myItem)})),this.update(viewer.viewport)},$.extend($.Navigator.prototype,$.EventSource.prototype,$.Viewer.prototype,{updateSize:function(){if(this.viewport){var containerSize=new $.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);containerSize.equals(this.oldContainerSize)||(this.viewport.resize(containerSize,!0),this.viewport.goHome(!0),this.oldContainerSize=containerSize,this.drawer.clear(),this.world.draw())}},setWidth:function(width){this.width=width,this.element.style.width="number"==typeof width?width+"px":width,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(height){this.height=height,this.element.style.height="number"==typeof height?height+"px":height,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(state){return this.viewport.setFlip(state),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(rule){setElementTransform(this.displayRegion,rule),setElementTransform(this.canvas,rule),setElementTransform(this.element,rule)},update:function(viewport){var viewerSize,newWidth,newHeight,bounds,topleft,bottomright;if(viewerSize=$.getElementSize(this.viewer.element),this._resizeWithViewer&&viewerSize.x&&viewerSize.y&&!viewerSize.equals(this.oldViewerSize)&&(this.oldViewerSize=viewerSize,this.maintainSizeRatio||!this.elementArea?(newWidth=viewerSize.x*this.sizeRatio,newHeight=viewerSize.y*this.sizeRatio):(newWidth=Math.sqrt(this.elementArea*(viewerSize.x/viewerSize.y)),newHeight=this.elementArea/newWidth),this.element.style.width=Math.round(newWidth)+"px",this.element.style.height=Math.round(newHeight)+"px",this.elementArea||(this.elementArea=newWidth*newHeight),this.updateSize()),viewport&&this.viewport){if(bounds=viewport.getBoundsNoRotate(!0),topleft=this.viewport.pixelFromPointNoRotate(bounds.getTopLeft(),!1),bottomright=this.viewport.pixelFromPointNoRotate(bounds.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var degrees=viewport.getRotation(!0);_setTransformRotate(this.displayRegion,-degrees)}var style=this.displayRegion.style;style.display=this.world.getItemCount()?"block":"none",style.top=topleft.y.toFixed(2)+"px",style.left=topleft.x.toFixed(2)+"px";var width=bottomright.x-topleft.x,height=bottomright.y-topleft.y;style.width=Math.round(Math.max(width,0))+"px",style.height=Math.round(Math.max(height,0))+"px"}},addTiledImage:function(options){var _this=this,original=options.originalTiledImage;delete options.original;var optionsClone=$.extend({},options,{success:function(event){var myItem=event.item;function matchBounds(){_this._matchBounds(myItem,original)}myItem._originalForNavigator=original,_this._matchBounds(myItem,original,!0),_this._matchOpacity(myItem,original),_this._matchCompositeOperation(myItem,original),original.addHandler("bounds-change",matchBounds),original.addHandler("clip-change",matchBounds),original.addHandler("opacity-change",(function matchOpacity(){_this._matchOpacity(myItem,original)})),original.addHandler("composite-operation-change",(function matchCompositeOperation(){_this._matchCompositeOperation(myItem,original)}))}});return $.Viewer.prototype.addTiledImage.apply(this,[optionsClone])},destroy:function(){return $.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(theirItem){for(var item,count=this.world.getItemCount(),i=0;i<count;i++)if((item=this.world.getItemAt(i))._originalForNavigator===theirItem)return item;return null},_matchBounds:function(myItem,theirItem,immediately){var bounds=theirItem.getBoundsNoRotate();myItem.setPosition(bounds.getTopLeft(),immediately),myItem.setWidth(bounds.width,immediately),myItem.setRotation(theirItem.getRotation(),immediately),myItem.setClip(theirItem.getClip()),myItem.setFlip(theirItem.getFlip())},_matchOpacity:function(myItem,theirItem){myItem.setOpacity(theirItem.opacity)},_matchCompositeOperation:function(myItem,theirItem){myItem.setCompositeOperation(theirItem.compositeOperation)}})}(OpenSeadragon),function($){var I18N={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};$.extend($,{getString:function(prop){var i,props=prop.split("."),string=null,args=arguments,container=I18N;for(i=0;i<props.length-1;i++)container=container[props[i]]||{};return"string"!=typeof(string=container[props[i]])&&($.console.error("Untranslated source string:",prop),string=""),string.replace(/\{\d+\}/g,(function(capture){var i=parseInt(capture.match(/\d+/),10)+1;return i<args.length?args[i]:""}))},setString:function(prop,value){var i,props=prop.split("."),container=I18N;for(i=0;i<props.length-1;i++)container[props[i]]||(container[props[i]]={}),container=container[props[i]];container[props[i]]=value}})}(OpenSeadragon),function($){$.Point=function(x,y){this.x="number"==typeof x?x:0,this.y="number"==typeof y?y:0},$.Point.prototype={clone:function(){return new $.Point(this.x,this.y)},plus:function(point){return new $.Point(this.x+point.x,this.y+point.y)},minus:function(point){return new $.Point(this.x-point.x,this.y-point.y)},times:function(factor){return new $.Point(this.x*factor,this.y*factor)},divide:function(factor){return new $.Point(this.x/factor,this.y/factor)},negate:function(){return new $.Point(-this.x,-this.y)},distanceTo:function(point){return Math.sqrt(Math.pow(this.x-point.x,2)+Math.pow(this.y-point.y,2))},squaredDistanceTo:function(point){return Math.pow(this.x-point.x,2)+Math.pow(this.y-point.y,2)},apply:function(func){return new $.Point(func(this.x),func(this.y))},equals:function(point){return point instanceof $.Point&&this.x===point.x&&this.y===point.y},rotate:function(degrees,pivot){var cos,sin;if(pivot=pivot||new $.Point(0,0),degrees%90==0){switch($.positiveModulo(degrees,360)){case 0:cos=1,sin=0;break;case 90:cos=0,sin=1;break;case 180:cos=-1,sin=0;break;case 270:cos=0,sin=-1}}else{var angle=degrees*Math.PI/180;cos=Math.cos(angle),sin=Math.sin(angle)}var x=cos*(this.x-pivot.x)-sin*(this.y-pivot.y)+pivot.x,y=sin*(this.x-pivot.x)+cos*(this.y-pivot.y)+pivot.y;return new $.Point(x,y)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function($){$.TileSource=function(width,height,tileSize,tileOverlap,minLevel,maxLevel){var options,i,_this=this,args=arguments;if(options=$.isPlainObject(width)?width:{width:args[0],height:args[1],tileSize:args[2],tileOverlap:args[3],minLevel:args[4],maxLevel:args[5]},$.EventSource.call(this),$.extend(!0,this,options),!this.success)for(i=0;i<arguments.length;i++)if($.isFunction(arguments[i])){this.success=arguments[i];break}this.success&&this.addHandler("ready",(function(event){_this.success(event)})),"string"===$.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new $.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=options.width&&options.height?options.width/options.height:1,this.dimensions=new $.Point(options.width,options.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=options.tileOverlap?options.tileOverlap:0,this.minLevel=options.minLevel?options.minLevel:0,this.maxLevel=void 0!==options.maxLevel&&null!==options.maxLevel?options.maxLevel:options.width&&options.height?Math.ceil(Math.log(Math.max(options.width,options.height))/Math.log(2)):0,this.success&&$.isFunction(this.success)&&this.success(this))},$.TileSource.prototype={getTileSize:function(level){return $.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(level){return this._tileWidth?this._tileWidth:this.getTileSize(level)},getTileHeight:function(level){return this._tileHeight?this._tileHeight:this.getTileSize(level)},setMaxLevel:function(level){this.maxLevel=level,this._memoizeLevelScale()},getLevelScale:function(level){return this._memoizeLevelScale(),this.getLevelScale(level)},_memoizeLevelScale:function(){var i,levelScaleCache={};for(i=0;i<=this.maxLevel;i++)levelScaleCache[i]=1/Math.pow(2,this.maxLevel-i);this.getLevelScale=function(_level){return levelScaleCache[_level]}},getNumTiles:function(level){var scale=this.getLevelScale(level),x=Math.ceil(scale*this.dimensions.x/this.getTileWidth(level)),y=Math.ceil(scale*this.dimensions.y/this.getTileHeight(level));return new $.Point(x,y)},getPixelRatio:function(level){var imageSizeScaled=this.dimensions.times(this.getLevelScale(level)),rx=1/imageSizeScaled.x*$.pixelDensityRatio,ry=1/imageSizeScaled.y*$.pixelDensityRatio;return new $.Point(rx,ry)},getClosestLevel:function(){var i,tiles;for(i=this.minLevel+1;i<=this.maxLevel&&!((tiles=this.getNumTiles(i)).x>1||tiles.y>1);i++);return i-1},getTileAtPoint:function(level,point){var validPoint=point.x>=0&&point.x<=1&&point.y>=0&&point.y<=1/this.aspectRatio;$.console.assert(validPoint,"[TileSource.getTileAtPoint] must be called with a valid point.");var widthScaled=this.dimensions.x*this.getLevelScale(level),pixelX=point.x*widthScaled,pixelY=point.y*widthScaled,x=Math.floor(pixelX/this.getTileWidth(level)),y=Math.floor(pixelY/this.getTileHeight(level));point.x>=1&&(x=this.getNumTiles(level).x-1);return point.y>=1/this.aspectRatio-1e-15&&(y=this.getNumTiles(level).y-1),new $.Point(x,y)},getTileBounds:function(level,x,y,isSource){var dimensionsScaled=this.dimensions.times(this.getLevelScale(level)),tileWidth=this.getTileWidth(level),tileHeight=this.getTileHeight(level),px=0===x?0:tileWidth*x-this.tileOverlap,py=0===y?0:tileHeight*y-this.tileOverlap,sx=tileWidth+(0===x?1:2)*this.tileOverlap,sy=tileHeight+(0===y?1:2)*this.tileOverlap,scale=1/dimensionsScaled.x;return sx=Math.min(sx,dimensionsScaled.x-px),sy=Math.min(sy,dimensionsScaled.y-py),isSource?new $.Rect(0,0,sx,sy):new $.Rect(px*scale,py*scale,sx*scale,sy*scale)},getImageInfo:function(url){var callbackName,callback,readySource,options,urlParts,filename,lastDot,_this=this;url&&(lastDot=(filename=(urlParts=url.split("/"))[urlParts.length-1]).lastIndexOf("."))>-1&&(urlParts[urlParts.length-1]=filename.slice(0,lastDot));var postData=null;if(this.splitHashDataForPost){var hashIdx=url.indexOf("#");-1!==hashIdx&&(postData=url.substring(hashIdx+1),url=url.substr(0,hashIdx))}callback=function(data){"string"==typeof data&&(data=$.parseXml(data));var $TileSource=$.TileSource.determineType(_this,data,url);$TileSource?(void 0===(options=$TileSource.prototype.configure.apply(_this,[data,url,postData])).ajaxWithCredentials&&(options.ajaxWithCredentials=_this.ajaxWithCredentials),readySource=new $TileSource(options),_this.ready=!0,_this.raiseEvent("ready",{tileSource:readySource})):_this.raiseEvent("open-failed",{message:"Unable to load TileSource",source:url})},url.match(/\.js$/)?(callbackName=url.split("/").pop().replace(".js",""),$.jsonp({url,async:!1,callbackName,callback})):$.makeAjaxRequest({url,postData,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(xhr){var data=function processResponse(xhr){var statusText,data,responseText=xhr.responseText,status=xhr.status;if(!xhr)throw new Error($.getString("Errors.Security"));if(200!==xhr.status&&0!==xhr.status)throw statusText=404===(status=xhr.status)?"Not Found":xhr.statusText,new Error($.getString("Errors.Status",status,statusText));if(responseText.match(/^\s*<.*/))try{data=xhr.responseXML&&xhr.responseXML.documentElement?xhr.responseXML:$.parseXml(responseText)}catch(e){data=xhr.responseText}else if(responseText.match(/\s*[{[].*/))try{data=$.parseJSON(responseText)}catch(e){data=responseText}else data=responseText;return data}(xhr);callback(data)},error:function(xhr,exc){var msg;try{msg="HTTP "+xhr.status+" attempting to load TileSource: "+url}catch(e){msg=(void 0!==exc&&exc.toString?exc.toString():"Unknown error")+" attempting to load TileSource: "+url}$.console.error(msg),_this.raiseEvent("open-failed",{message:msg,source:url,postData})}})},supports:function(data,url){return!1},configure:function(data,url,postData){throw new Error("Method not implemented.")},getTileUrl:function(level,x,y){throw new Error("Method not implemented.")},getTilePostData:function(level,x,y){return null},getTileAjaxHeaders:function(level,x,y){return{}},getTileHashKey:function(level,x,y,url,ajaxHeaders,postData){function withHeaders(hash){return ajaxHeaders?hash+"+"+JSON.stringify(ajaxHeaders):hash}return withHeaders("string"!=typeof url?level+"/"+x+"_"+y:url)},tileExists:function(level,x,y){var numTiles=this.getNumTiles(level);return level>=this.minLevel&&level<=this.maxLevel&&x>=0&&y>=0&&x<numTiles.x&&y<numTiles.y},hasTransparency:function(context2D,url,ajaxHeaders,post){return!!context2D||url.match(".png")},downloadTileStart:function(context){var dataStore=context.userData,image=new Image;dataStore.image=image,dataStore.request=null;var finish=function(error){image?(image.onload=image.onerror=image.onabort=null,context.finish(error?null:image,dataStore.request,error)):context.finish(null,dataStore.request,"Image load failed: undefined Image instance.")};image.onload=function(){finish()},image.onabort=image.onerror=function(){finish("Image load aborted.")},context.loadWithAjax?dataStore.request=$.makeAjaxRequest({url:context.src,withCredentials:context.ajaxWithCredentials,headers:context.ajaxHeaders,responseType:"arraybuffer",postData:context.postData,success:function(request){var blb;try{blb=new window.Blob([request.response])}catch(e){var BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===e.name&&BlobBuilder){var bb=new BlobBuilder;bb.append(request.response),blb=bb.getBlob()}}0===blb.size?finish("Empty image response."):image.src=(window.URL||window.webkitURL).createObjectURL(blb)},error:function(request){finish("Image load aborted - XHR error")}}):(!1!==context.crossOriginPolicy&&(image.crossOrigin=context.crossOriginPolicy),image.src=context.src)},downloadTileAbort:function(context){context.userData.request&&context.userData.request.abort();var image=context.userData.image;context.userData.image&&(image.onload=image.onerror=image.onabort=null)},createTileCache:function(cacheObject,data,tile){cacheObject._data=data},destroyTileCache:function(cacheObject){cacheObject._data=null,cacheObject._renderedContext=null},getTileCacheData:function(cacheObject){return cacheObject._data},getTileCacheDataAsImage:function(cacheObject){return cacheObject._data},getTileCacheDataAsContext2D:function(cacheObject){if(!cacheObject._renderedContext){var canvas=document.createElement("canvas");canvas.width=cacheObject._data.width,canvas.height=cacheObject._data.height,cacheObject._renderedContext=canvas.getContext("2d"),cacheObject._renderedContext.drawImage(cacheObject._data,0,0),cacheObject._data=null}return cacheObject._renderedContext}},$.extend(!0,$.TileSource.prototype,$.EventSource.prototype),$.TileSource.determineType=function(tileSource,data,url){var property;for(property in OpenSeadragon)if(property.match(/.+TileSource$/)&&$.isFunction(OpenSeadragon[property])&&$.isFunction(OpenSeadragon[property].prototype.supports)&&OpenSeadragon[property].prototype.supports.call(tileSource,data,url))return OpenSeadragon[property];return $.console.error("No TileSource was able to open %s %s",url,data),null}}(OpenSeadragon),function($){function configureFromObject(tileSource,configuration){var rectData,i,imageData=configuration.Image,tilesUrl=imageData.Url,fileFormat=imageData.Format,sizeData=imageData.Size,dispRectData=imageData.DisplayRect||[],width=parseInt(sizeData.Width,10),height=parseInt(sizeData.Height,10),tileSize=parseInt(imageData.TileSize,10),tileOverlap=parseInt(imageData.Overlap,10),displayRects=[];for(i=0;i<dispRectData.length;i++)rectData=dispRectData[i].Rect,displayRects.push(new $.DisplayRect(parseInt(rectData.X,10),parseInt(rectData.Y,10),parseInt(rectData.Width,10),parseInt(rectData.Height,10),parseInt(rectData.MinLevel,10),parseInt(rectData.MaxLevel,10)));return $.extend(!0,{width,height,tileSize,tileOverlap,minLevel:null,maxLevel:null,tilesUrl,fileFormat,displayRects},configuration)}$.DziTileSource=function(width,height,tileSize,tileOverlap,tilesUrl,fileFormat,displayRects,minLevel,maxLevel){var i,rect,level,options;if(options=$.isPlainObject(width)?width:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=options.tilesUrl,this.fileFormat=options.fileFormat,this.displayRects=options.displayRects,this.displayRects)for(i=this.displayRects.length-1;i>=0;i--)for(level=(rect=this.displayRects[i]).minLevel;level<=rect.maxLevel;level++)this._levelRects[level]||(this._levelRects[level]=[]),this._levelRects[level].push(rect);$.TileSource.apply(this,[options])},$.extend($.DziTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){var ns;return data.Image?ns=data.Image.xmlns:data.documentElement&&("Image"!==data.documentElement.localName&&"Image"!==data.documentElement.tagName||(ns=data.documentElement.namespaceURI)),-1!==(ns=(ns||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==ns.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(data,url,postData){var options;return options=$.isPlainObject(data)?configureFromObject(this,data):function configureFromXML(tileSource,xmlDoc){if(!xmlDoc||!xmlDoc.documentElement)throw new Error($.getString("Errors.Xml"));var dispRectNodes,dispRectNode,rectNode,sizeNode,i,root=xmlDoc.documentElement,rootName=root.localName||root.tagName,ns=xmlDoc.documentElement.namespaceURI,configuration=null,displayRects=[];if("Image"===rootName)try{if(void 0===(sizeNode=root.getElementsByTagName("Size")[0])&&(sizeNode=root.getElementsByTagNameNS(ns,"Size")[0]),configuration={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:root.getAttribute("Url"),Format:root.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(root.getAttribute("Overlap"),10),TileSize:parseInt(root.getAttribute("TileSize"),10),Size:{Height:parseInt(sizeNode.getAttribute("Height"),10),Width:parseInt(sizeNode.getAttribute("Width"),10)}}},!$.imageFormatSupported(configuration.Image.Format))throw new Error($.getString("Errors.ImageFormat",configuration.Image.Format.toUpperCase()));for(void 0===(dispRectNodes=root.getElementsByTagName("DisplayRect"))&&(dispRectNodes=root.getElementsByTagNameNS(ns,"DisplayRect")[0]),i=0;i<dispRectNodes.length;i++)void 0===(rectNode=(dispRectNode=dispRectNodes[i]).getElementsByTagName("Rect")[0])&&(rectNode=dispRectNode.getElementsByTagNameNS(ns,"Rect")[0]),displayRects.push({Rect:{X:parseInt(rectNode.getAttribute("X"),10),Y:parseInt(rectNode.getAttribute("Y"),10),Width:parseInt(rectNode.getAttribute("Width"),10),Height:parseInt(rectNode.getAttribute("Height"),10),MinLevel:parseInt(dispRectNode.getAttribute("MinLevel"),10),MaxLevel:parseInt(dispRectNode.getAttribute("MaxLevel"),10)}});return displayRects.length&&(configuration.Image.DisplayRect=displayRects),configureFromObject(tileSource,configuration)}catch(e){throw e instanceof Error?e:new Error($.getString("Errors.Dzi"))}else{if("Collection"===rootName)throw new Error($.getString("Errors.Dzc"));if("Error"===rootName){var message=root.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(message)}}throw new Error($.getString("Errors.Dzi"))}(this,data),url&&!options.tilesUrl&&(options.tilesUrl=url.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==url.search(/\.(dzi|xml|js)\?/)?options.queryParams=url.match(/\?.*/):options.queryParams=""),options},getTileUrl:function(level,x,y){return[this.tilesUrl,level,"/",x,"_",y,".",this.fileFormat,this.queryParams].join("")},tileExists:function(level,x,y){var rect,scale,xMin,yMin,xMax,yMax,i,rects=this._levelRects[level];if(this.minLevel&&level<this.minLevel||this.maxLevel&&level>this.maxLevel)return!1;if(!rects||!rects.length)return!0;for(i=rects.length-1;i>=0;i--)if(!(level<(rect=rects[i]).minLevel||level>rect.maxLevel)&&(scale=this.getLevelScale(level),xMin=rect.x*scale,yMin=rect.y*scale,xMax=xMin+rect.width*scale,yMax=yMin+rect.height*scale,xMin=Math.floor(xMin/this._tileWidth),yMin=Math.floor(yMin/this._tileWidth),xMax=Math.ceil(xMax/this._tileWidth),yMax=Math.ceil(yMax/this._tileWidth),xMin<=x&&x<xMax&&yMin<=y&&y<yMax))return!0;return!1}})}(OpenSeadragon),function($){function canBeTiled(options){var profileLevel=Array.isArray(options.profile)?options.profile[0]:options.profile,isLevel0=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(profileLevel),hasCanoncicalSizeFeature=!1;return 2===options.version&&options.profile.length>1&&options.profile[1].supports&&(hasCanoncicalSizeFeature=-1!==options.profile[1].supports.indexOf("sizeByW")),3===options.version&&options.extraFeatures&&(hasCanoncicalSizeFeature=-1!==options.extraFeatures.indexOf("sizeByWh")),!isLevel0||hasCanoncicalSizeFeature}function constructLevels(options){for(var levels=[],i=0;i<options.sizes.length;i++)levels.push({url:options._id+"/full/"+options.sizes[i].width+","+(3===options.version?options.sizes[i].height:"")+"/0/default."+options.tileFormat,width:options.sizes[i].width,height:options.sizes[i].height});return levels.sort((function(a,b){return a.width-b.width}))}function parseXML10(node,configuration,property){var i,value;if(3===node.nodeType&&property)(value=node.nodeValue.trim()).match(/^\d*$/)&&(value=Number(value)),configuration[property]?($.isArray(configuration[property])||(configuration[property]=[configuration[property]]),configuration[property].push(value)):configuration[property]=value;else if(1===node.nodeType)for(i=0;i<node.childNodes.length;i++)parseXML10(node.childNodes[i],configuration,node.nodeName)}$.IIIFTileSource=function(options){if($.extend(!0,this,options),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(options.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=options.version,this.tile_width&&this.tile_height)options.tileWidth=this.tile_width,options.tileHeight=this.tile_height;else if(this.tile_width)options.tileSize=this.tile_width;else if(this.tile_height)options.tileSize=this.tile_height;else if(this.tiles)if(1===this.tiles.length)options.tileWidth=this.tiles[0].width,options.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var t=0;t<this.tiles.length;t++)for(var sf=0;sf<this.tiles[t].scaleFactors.length;sf++){var scaleFactor=this.tiles[t].scaleFactors[sf];this.scale_factors.push(scaleFactor),options.tileSizePerScaleFactor[scaleFactor]={width:this.tiles[t].width,height:this.tiles[t].height||this.tiles[t].width}}}else if(canBeTiled(options)){for(var shortDim=Math.min(this.height,this.width),tileOptions=[256,512,1024],smallerTiles=[],c=0;c<tileOptions.length;c++)tileOptions[c]<=shortDim&&smallerTiles.push(tileOptions[c]);smallerTiles.length>0?options.tileSize=Math.max.apply(null,smallerTiles):options.tileSize=shortDim}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,options.levels=constructLevels(this),$.extend(!0,options,{width:options.levels[options.levels.length-1].width,height:options.levels[options.levels.length-1].height,tileSize:Math.max(options.height,options.width),tileOverlap:0,minLevel:0,maxLevel:options.levels.length-1}),this.levels=options.levels):$.console.error("Nothing in the info.json to construct image pyramids from");if(!options.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var maxScaleFactor=Math.max.apply(null,this.scale_factors);options.maxLevel=Math.round(Math.log(maxScaleFactor)*Math.LOG2E)}else options.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));if(this.sizes){var sizeLength=this.sizes.length;sizeLength!==options.maxLevel&&sizeLength!==options.maxLevel+1||(this.levelSizes=this.sizes,sizeLength===options.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}$.TileSource.apply(this,[options])},$.extend($.IIIFTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){return!(!data.protocol||"http://iiif.io/api/image"!==data.protocol)||(!(!data["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!==data["@context"]&&"http://iiif.io/api/image/1/context.json"!==data["@context"])||(!(!data.profile||0!==data.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(data.identifier&&data.width&&data.height)||!(!data.documentElement||"info"!==data.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!==data.documentElement.namespaceURI))))},configure:function(data,url,postData){if($.isPlainObject(data)){if(data["@context"]){var context=data["@context"];if(Array.isArray(context))for(var i=0;i<context.length;i++)if("string"==typeof context[i]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(context[i])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===context[i])){context=context[i];break}switch(context){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":data.version=1;break;case"http://iiif.io/api/image/2/context.json":data.version=2;break;case"http://iiif.io/api/image/3/context.json":data.version=3;break;default:$.console.error("Data has a @context property which contains no known IIIF context URI.")}}else data["@context"]="http://iiif.io/api/image/1.0/context.json",data["@id"]=url.replace("/info.json",""),data.version=1;if(data.preferredFormats)for(var f=0;f<data.preferredFormats.length;f++)if(OpenSeadragon.imageFormatSupported(data.preferredFormats[f])){data.tileFormat=data.preferredFormats[f];break}return data}var options=function configureFromXml10(xmlDoc){if(!xmlDoc||!xmlDoc.documentElement)throw new Error($.getString("Errors.Xml"));var root=xmlDoc.documentElement,rootName=root.tagName,configuration=null;if("info"===rootName)try{return parseXML10(root,configuration={}),configuration}catch(e){throw e instanceof Error?e:new Error($.getString("Errors.IIIF"))}throw new Error($.getString("Errors.IIIF"))}(data);return options["@context"]="http://iiif.io/api/image/1.0/context.json",options["@id"]=url.replace("/info.xml",""),options.version=1,options},getTileWidth:function(level){if(this.emulateLegacyImagePyramid)return $.TileSource.prototype.getTileWidth.call(this,level);var scaleFactor=Math.pow(2,this.maxLevel-level);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[scaleFactor]?this.tileSizePerScaleFactor[scaleFactor].width:this._tileWidth},getTileHeight:function(level){if(this.emulateLegacyImagePyramid)return $.TileSource.prototype.getTileHeight.call(this,level);var scaleFactor=Math.pow(2,this.maxLevel-level);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[scaleFactor]?this.tileSizePerScaleFactor[scaleFactor].height:this._tileHeight},getLevelScale:function(level){if(this.emulateLegacyImagePyramid){var levelScale=NaN;return this.levels.length>0&&level>=this.minLevel&&level<=this.maxLevel&&(levelScale=this.levels[level].width/this.levels[this.maxLevel].width),levelScale}return $.TileSource.prototype.getLevelScale.call(this,level)},getNumTiles:function(level){if(this.emulateLegacyImagePyramid)return this.getLevelScale(level)?new $.Point(1,1):new $.Point(0,0);if(this.levelSizes){var levelSize=this.levelSizes[level],x=Math.ceil(levelSize.width/this.getTileWidth(level)),y=Math.ceil(levelSize.height/this.getTileHeight(level));return new $.Point(x,y)}return $.TileSource.prototype.getNumTiles.call(this,level)},getTileAtPoint:function(level,point){if(this.emulateLegacyImagePyramid)return new $.Point(0,0);if(this.levelSizes){var validPoint=point.x>=0&&point.x<=1&&point.y>=0&&point.y<=1/this.aspectRatio;$.console.assert(validPoint,"[TileSource.getTileAtPoint] must be called with a valid point.");var widthScaled=this.levelSizes[level].width,pixelX=point.x*widthScaled,pixelY=point.y*widthScaled,x=Math.floor(pixelX/this.getTileWidth(level)),y=Math.floor(pixelY/this.getTileHeight(level));point.x>=1&&(x=this.getNumTiles(level).x-1);return point.y>=1/this.aspectRatio-1e-15&&(y=this.getNumTiles(level).y-1),new $.Point(x,y)}return $.TileSource.prototype.getTileAtPoint.call(this,level,point)},getTileUrl:function(level,x,y){if(this.emulateLegacyImagePyramid){var url=null;return this.levels.length>0&&level>=this.minLevel&&level<=this.maxLevel&&(url=this.levels[level].url),url}var levelWidth,levelHeight,tileWidth,tileHeight,iiifTileSizeWidth,iiifTileSizeHeight,iiifRegion,iiifTileX,iiifTileY,iiifTileW,iiifTileH,iiifSize,iiifSizeW,iiifSizeH,iiifQuality,scale=Math.pow(.5,this.maxLevel-level);return this.levelSizes?(levelWidth=this.levelSizes[level].width,levelHeight=this.levelSizes[level].height):(levelWidth=Math.ceil(this.width*scale),levelHeight=Math.ceil(this.height*scale)),tileWidth=this.getTileWidth(level),tileHeight=this.getTileHeight(level),iiifTileSizeWidth=Math.round(tileWidth/scale),iiifTileSizeHeight=Math.round(tileHeight/scale),iiifQuality=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,levelWidth<tileWidth&&levelHeight<tileHeight?(iiifSize=2===this.version&&levelWidth===this.width?"full":3===this.version&&levelWidth===this.width&&levelHeight===this.height?"max":3===this.version?levelWidth+","+levelHeight:levelWidth+",",iiifRegion="full"):(iiifTileX=x*iiifTileSizeWidth,iiifTileY=y*iiifTileSizeHeight,iiifTileW=Math.min(iiifTileSizeWidth,this.width-iiifTileX),iiifTileH=Math.min(iiifTileSizeHeight,this.height-iiifTileY),iiifRegion=0===x&&0===y&&iiifTileW===this.width&&iiifTileH===this.height?"full":[iiifTileX,iiifTileY,iiifTileW,iiifTileH].join(","),iiifSizeW=Math.min(tileWidth,levelWidth-x*tileWidth),iiifSizeH=Math.min(tileHeight,levelHeight-y*tileHeight),iiifSize=2===this.version&&iiifSizeW===this.width?"full":3===this.version&&iiifSizeW===this.width&&iiifSizeH===this.height?"max":3===this.version?iiifSizeW+","+iiifSizeH:iiifSizeW+","),[this._id,iiifRegion,iiifSize,"0",iiifQuality].join("/")},__testonly__:{canBeTiled,constructLevels}})}(OpenSeadragon),function($){$.OsmTileSource=function(width,height,tileSize,tileOverlap,tilesUrl){var options;(options=$.isPlainObject(width)?width:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&options.height||(options.width=65572864,options.height=65572864),options.tileSize||(options.tileSize=256,options.tileOverlap=0),options.tilesUrl||(options.tilesUrl="http://tile.openstreetmap.org/"),options.minLevel=8,$.TileSource.apply(this,[options])},$.extend($.OsmTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){return data.type&&"openstreetmaps"===data.type},configure:function(data,url,postData){return data},getTileUrl:function(level,x,y){return this.tilesUrl+(level-8)+"/"+x+"/"+y+".png"}})}(OpenSeadragon),function($){$.TmsTileSource=function(width,height,tileSize,tileOverlap,tilesUrl){var options;options=$.isPlainObject(width)?width:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var max,bufferedWidth=256*Math.ceil(options.width/256),bufferedHeight=256*Math.ceil(options.height/256);max=bufferedWidth>bufferedHeight?bufferedWidth/256:bufferedHeight/256,options.maxLevel=Math.ceil(Math.log(max)/Math.log(2))-1,options.tileSize=256,options.width=bufferedWidth,options.height=bufferedHeight,$.TileSource.apply(this,[options])},$.extend($.TmsTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){return data.type&&"tiledmapservice"===data.type},configure:function(data,url,postData){return data},getTileUrl:function(level,x,y){var yTiles=this.getNumTiles(level).y-1;return this.tilesUrl+level+"/"+x+"/"+(yTiles-y)+".png"}})}(OpenSeadragon),function($){$.ZoomifyTileSource=function(options){void 0===options.tileSize&&(options.tileSize=256),void 0===options.fileFormat&&(options.fileFormat="jpg",this.fileFormat=options.fileFormat);var currentImageSize={x:options.width,y:options.height};for(options.imageSizes=[{x:options.width,y:options.height}],options.gridSize=[this._getGridSize(options.width,options.height,options.tileSize)];parseInt(currentImageSize.x,10)>options.tileSize||parseInt(currentImageSize.y,10)>options.tileSize;)currentImageSize.x=Math.floor(currentImageSize.x/2),currentImageSize.y=Math.floor(currentImageSize.y/2),options.imageSizes.push({x:currentImageSize.x,y:currentImageSize.y}),options.gridSize.push(this._getGridSize(currentImageSize.x,currentImageSize.y,options.tileSize));options.imageSizes.reverse(),options.gridSize.reverse(),options.minLevel=0,options.maxLevel=options.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[options])},$.extend($.ZoomifyTileSource.prototype,$.TileSource.prototype,{_getGridSize:function(width,height,tileSize){return{x:Math.ceil(width/tileSize),y:Math.ceil(height/tileSize)}},_calculateAbsoluteTileNumber:function(level,x,y){for(var num=0,size={},z=0;z<level;z++)num+=(size=this.gridSize[z]).x*size.y;return num+=(size=this.gridSize[level]).x*y+x},supports:function(data,url){return data.type&&"zoomifytileservice"===data.type},configure:function(data,url,postData){return data},getTileUrl:function(level,x,y){var result,num=this._calculateAbsoluteTileNumber(level,x,y);return result=Math.floor(num/256),this.tilesUrl+"TileGroup"+result+"/"+level+"-"+x+"-"+y+"."+this.fileFormat}})}(OpenSeadragon),function($){function configureFromObject(tileSource,configuration){return configuration.levels}$.LegacyTileSource=function(levels){var options,width,height;$.isArray(levels)&&(options={type:"legacy-image-pyramid",levels}),options.levels=function filterFiles(files){var file,i,filtered=[];for(i=0;i<files.length;i++)(file=files[i]).height&&file.width&&file.url?filtered.push({url:file.url,width:Number(file.width),height:Number(file.height)}):$.console.error("Unsupported image format: %s",file.url?file.url:"<no URL>");return filtered.sort((function(a,b){return a.height-b.height}))}(options.levels),options.levels.length>0?(width=options.levels[options.levels.length-1].width,height=options.levels[options.levels.length-1].height):(width=0,height=0,$.console.error("No supported image formats found")),$.extend(!0,options,{width,height,tileSize:Math.max(height,width),tileOverlap:0,minLevel:0,maxLevel:options.levels.length>0?options.levels.length-1:0}),$.TileSource.apply(this,[options]),this.levels=options.levels},$.extend($.LegacyTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){return data.type&&"legacy-image-pyramid"===data.type||data.documentElement&&"legacy-image-pyramid"===data.documentElement.getAttribute("type")},configure:function(configuration,dataUrl,postData){return $.isPlainObject(configuration)?configureFromObject(this,configuration):function configureFromXML(tileSource,xmlDoc){if(!xmlDoc||!xmlDoc.documentElement)throw new Error($.getString("Errors.Xml"));var level,i,root=xmlDoc.documentElement,rootName=root.tagName,conf=null,levels=[];if("image"===rootName)try{for(conf={type:root.getAttribute("type"),levels:[]},levels=root.getElementsByTagName("level"),i=0;i<levels.length;i++)level=levels[i],conf.levels.push({url:level.getAttribute("url"),width:parseInt(level.getAttribute("width"),10),height:parseInt(level.getAttribute("height"),10)});return configureFromObject(tileSource,conf)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"===rootName)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"===rootName)throw new Error("Error: "+xmlDoc)}throw new Error("Unknown element "+rootName)}(this,configuration)},getLevelScale:function(level){var levelScale=NaN;return this.levels.length>0&&level>=this.minLevel&&level<=this.maxLevel&&(levelScale=this.levels[level].width/this.levels[this.maxLevel].width),levelScale},getNumTiles:function(level){return this.getLevelScale(level)?new $.Point(1,1):new $.Point(0,0)},getTileUrl:function(level,x,y){var url=null;return this.levels.length>0&&level>=this.minLevel&&level<=this.maxLevel&&(url=this.levels[level].url),url}})}(OpenSeadragon),function($){$.ImageTileSource=function(options){options=$.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},options),$.TileSource.apply(this,[options])},$.extend($.ImageTileSource.prototype,$.TileSource.prototype,{supports:function(data,url){return data.type&&"image"===data.type},configure:function(options,dataUrl,postData){return options},getImageInfo:function(url){var image=this._image=new Image,_this=this;this.crossOriginPolicy&&(image.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(image.useCredentials=this.ajaxWithCredentials),$.addEvent(image,"load",(function(){_this.width=image.naturalWidth,_this.height=image.naturalHeight,_this.aspectRatio=_this.width/_this.height,_this.dimensions=new $.Point(_this.width,_this.height),_this._tileWidth=_this.width,_this._tileHeight=_this.height,_this.tileOverlap=0,_this.minLevel=0,_this.levels=_this._buildLevels(),_this.maxLevel=_this.levels.length-1,_this.ready=!0,_this.raiseEvent("ready",{tileSource:_this})})),$.addEvent(image,"error",(function(){_this.raiseEvent("open-failed",{message:"Error loading image at "+url,source:url})})),image.src=url},getLevelScale:function(level){var levelScale=NaN;return level>=this.minLevel&&level<=this.maxLevel&&(levelScale=this.levels[level].width/this.levels[this.maxLevel].width),levelScale},getNumTiles:function(level){return this.getLevelScale(level)?new $.Point(1,1):new $.Point(0,0)},getTileUrl:function(level,x,y){var url=null;return level>=this.minLevel&&level<=this.maxLevel&&(url=this.levels[level].url),url},getContext2D:function(level,x,y){var context=null;return level>=this.minLevel&&level<=this.maxLevel&&(context=this.levels[level].context2D),context},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var levels=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!$.supportsCanvas||!this.useCanvas)return delete this._image,levels;var currentWidth=this._image.naturalWidth,currentHeight=this._image.naturalHeight,bigCanvas=document.createElement("canvas"),bigContext=bigCanvas.getContext("2d");if(bigCanvas.width=currentWidth,bigCanvas.height=currentHeight,bigContext.drawImage(this._image,0,0,currentWidth,currentHeight),levels[0].context2D=bigContext,delete this._image,$.isCanvasTainted(bigCanvas))return levels;for(;currentWidth>=2&&currentHeight>=2;){currentWidth=Math.floor(currentWidth/2),currentHeight=Math.floor(currentHeight/2);var smallCanvas=document.createElement("canvas"),smallContext=smallCanvas.getContext("2d");smallCanvas.width=currentWidth,smallCanvas.height=currentHeight,smallContext.drawImage(bigCanvas,0,0,currentWidth,currentHeight),levels.splice(0,0,{context2D:smallContext,width:currentWidth,height:currentHeight}),bigCanvas=smallCanvas,bigContext=smallContext}return levels},_freeupCanvasMemory:function(){for(var i=0;i<this.levels.length;i++)this.levels[i].context2D&&(this.levels[i].context2D.canvas.height=0,this.levels[i].context2D.canvas.width=0)}})}(OpenSeadragon),function($){$.TileSourceCollection=function(tileSize,tileSources,rows,layout){$.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function($){function scheduleFade(button){$.requestAnimationFrame((function(){!function updateFade(button){var opacity;button.shouldFade&&(opacity=1-($.now()-button.fadeBeginTime)/button.fadeLength,opacity=Math.min(1,opacity),opacity=Math.max(0,opacity),button.imgGroup&&$.setElementOpacity(button.imgGroup,opacity,!0),opacity>0&&scheduleFade(button))}(button)}))}function inTo(button,newState){button.element.disabled||(newState>=$.ButtonState.GROUP&&button.currentState===$.ButtonState.REST&&(!function stopFading(button){button.shouldFade=!1,button.imgGroup&&$.setElementOpacity(button.imgGroup,1,!0)}(button),button.currentState=$.ButtonState.GROUP),newState>=$.ButtonState.HOVER&&button.currentState===$.ButtonState.GROUP&&(button.imgHover&&(button.imgHover.style.visibility=""),button.currentState=$.ButtonState.HOVER),newState>=$.ButtonState.DOWN&&button.currentState===$.ButtonState.HOVER&&(button.imgDown&&(button.imgDown.style.visibility=""),button.currentState=$.ButtonState.DOWN))}function outTo(button,newState){button.element.disabled||(newState<=$.ButtonState.HOVER&&button.currentState===$.ButtonState.DOWN&&(button.imgDown&&(button.imgDown.style.visibility="hidden"),button.currentState=$.ButtonState.HOVER),newState<=$.ButtonState.GROUP&&button.currentState===$.ButtonState.HOVER&&(button.imgHover&&(button.imgHover.style.visibility="hidden"),button.currentState=$.ButtonState.GROUP),newState<=$.ButtonState.REST&&button.currentState===$.ButtonState.GROUP&&(!function beginFading(button){button.shouldFade=!0,button.fadeBeginTime=$.now()+button.fadeDelay,window.setTimeout((function(){scheduleFade(button)}),button.fadeDelay)}(button),button.currentState=$.ButtonState.REST))}$.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},$.Button=function(options){var _this=this;$.EventSource.call(this),$.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:$.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:$.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},options),this.element=options.element||$.makeNeutralElement("div"),options.element||(this.imgRest=$.makeTransparentImage(this.srcRest),this.imgGroup=$.makeTransparentImage(this.srcGroup),this.imgHover=$.makeTransparentImage(this.srcHover),this.imgDown=$.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,$.setElementPointerEventsNone(this.imgRest),$.setElementPointerEventsNone(this.imgGroup),$.setElementPointerEventsNone(this.imgHover),$.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",$.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",$.Browser.vendor===$.BROWSERS.FIREFOX&&$.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=$.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new $.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(event){event.insideElementPressed?(inTo(_this,$.ButtonState.DOWN),_this.raiseEvent("enter",{originalEvent:event.originalEvent})):event.buttonDownAny||inTo(_this,$.ButtonState.HOVER)},focusHandler:function(event){_this.tracker.enterHandler(event),_this.raiseEvent("focus",{originalEvent:event.originalEvent})},leaveHandler:function(event){outTo(_this,$.ButtonState.GROUP),event.insideElementPressed&&_this.raiseEvent("exit",{originalEvent:event.originalEvent})},blurHandler:function(event){_this.tracker.leaveHandler(event),_this.raiseEvent("blur",{originalEvent:event.originalEvent})},pressHandler:function(event){inTo(_this,$.ButtonState.DOWN),_this.raiseEvent("press",{originalEvent:event.originalEvent})},releaseHandler:function(event){event.insideElementPressed&&event.insideElementReleased?(outTo(_this,$.ButtonState.HOVER),_this.raiseEvent("release",{originalEvent:event.originalEvent})):event.insideElementPressed?outTo(_this,$.ButtonState.GROUP):inTo(_this,$.ButtonState.HOVER)},clickHandler:function(event){event.quick&&_this.raiseEvent("click",{originalEvent:event.originalEvent})},keyHandler:function(event){13===event.keyCode?(_this.raiseEvent("click",{originalEvent:event.originalEvent}),_this.raiseEvent("release",{originalEvent:event.originalEvent}),event.preventDefault=!0):event.preventDefault=!1}}),outTo(this,$.ButtonState.REST)},$.extend($.Button.prototype,$.EventSource.prototype,{notifyGroupEnter:function(){inTo(this,$.ButtonState.GROUP)},notifyGroupExit:function(){outTo(this,$.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),$.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),$.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(OpenSeadragon),function($){$.ButtonGroup=function(options){$.extend(!0,this,{buttons:[],clickTimeThreshold:$.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:$.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},options);var i,buttons=this.buttons.concat([]),_this=this;if(this.element=options.element||$.makeNeutralElement("div"),!options.group)for(this.element.style.display="inline-block",i=0;i<buttons.length;i++)this.element.appendChild(buttons[i].element);$.setElementTouchActionNone(this.element),this.tracker=new $.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(event){var i;for(i=0;i<_this.buttons.length;i++)_this.buttons[i].notifyGroupEnter()},leaveHandler:function(event){var i;if(!event.insideElementPressed)for(i=0;i<_this.buttons.length;i++)_this.buttons[i].notifyGroupExit()}})},$.ButtonGroup.prototype={addButton:function(button){this.buttons.push(button),this.element.appendChild(button.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var button=this.buttons.pop();this.element.removeChild(button.element),button.destroy()}this.tracker.destroy(),this.element=null}}}(OpenSeadragon),function($){$.Rect=function(x,y,width,height,degrees){var newTopLeft,newWidth;this.x="number"==typeof x?x:0,this.y="number"==typeof y?y:0,this.width="number"==typeof width?width:0,this.height="number"==typeof height?height:0,this.degrees="number"==typeof degrees?degrees:0,this.degrees=$.positiveModulo(this.degrees,360),this.degrees>=270?(newTopLeft=this.getTopRight(),this.x=newTopLeft.x,this.y=newTopLeft.y,newWidth=this.height,this.height=this.width,this.width=newWidth,this.degrees-=270):this.degrees>=180?(newTopLeft=this.getBottomRight(),this.x=newTopLeft.x,this.y=newTopLeft.y,this.degrees-=180):this.degrees>=90&&(newTopLeft=this.getBottomLeft(),this.x=newTopLeft.x,this.y=newTopLeft.y,newWidth=this.height,this.height=this.width,this.width=newWidth,this.degrees-=90)},$.Rect.fromSummits=function(topLeft,topRight,bottomLeft){var width=topLeft.distanceTo(topRight),height=topLeft.distanceTo(bottomLeft),diff=topRight.minus(topLeft),radians=Math.atan(diff.y/diff.x);return diff.x<0?radians+=Math.PI:diff.y<0&&(radians+=2*Math.PI),new $.Rect(topLeft.x,topLeft.y,width,height,radians/Math.PI*180)},$.Rect.prototype={clone:function(){return new $.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new $.Point(this.x,this.y)},getBottomRight:function(){return new $.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new $.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new $.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new $.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new $.Point(this.width,this.height)},equals:function(other){return other instanceof $.Rect&&this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height&&this.degrees===other.degrees},times:function(factor){return new $.Rect(this.x*factor,this.y*factor,this.width*factor,this.height*factor,this.degrees)},translate:function(delta){return new $.Rect(this.x+delta.x,this.y+delta.y,this.width,this.height,this.degrees)},union:function(rect){var thisBoundingBox=this.getBoundingBox(),otherBoundingBox=rect.getBoundingBox(),left=Math.min(thisBoundingBox.x,otherBoundingBox.x),top=Math.min(thisBoundingBox.y,otherBoundingBox.y),right=Math.max(thisBoundingBox.x+thisBoundingBox.width,otherBoundingBox.x+otherBoundingBox.width),bottom=Math.max(thisBoundingBox.y+thisBoundingBox.height,otherBoundingBox.y+otherBoundingBox.height);return new $.Rect(left,top,right-left,bottom-top)},intersection:function(rect){var intersectionPoints=[],thisTopLeft=this.getTopLeft();rect.containsPoint(thisTopLeft,1e-10)&&intersectionPoints.push(thisTopLeft);var thisTopRight=this.getTopRight();rect.containsPoint(thisTopRight,1e-10)&&intersectionPoints.push(thisTopRight);var thisBottomLeft=this.getBottomLeft();rect.containsPoint(thisBottomLeft,1e-10)&&intersectionPoints.push(thisBottomLeft);var thisBottomRight=this.getBottomRight();rect.containsPoint(thisBottomRight,1e-10)&&intersectionPoints.push(thisBottomRight);var rectTopLeft=rect.getTopLeft();this.containsPoint(rectTopLeft,1e-10)&&intersectionPoints.push(rectTopLeft);var rectTopRight=rect.getTopRight();this.containsPoint(rectTopRight,1e-10)&&intersectionPoints.push(rectTopRight);var rectBottomLeft=rect.getBottomLeft();this.containsPoint(rectBottomLeft,1e-10)&&intersectionPoints.push(rectBottomLeft);var rectBottomRight=rect.getBottomRight();this.containsPoint(rectBottomRight,1e-10)&&intersectionPoints.push(rectBottomRight);for(var thisSegments=this._getSegments(),rectSegments=rect._getSegments(),i=0;i<thisSegments.length;i++)for(var thisSegment=thisSegments[i],j=0;j<rectSegments.length;j++){var rectSegment=rectSegments[j],intersect=getIntersection(thisSegment[0],thisSegment[1],rectSegment[0],rectSegment[1]);intersect&&intersectionPoints.push(intersect)}function getIntersection(a,b,c,d){var abVector=b.minus(a),cdVector=d.minus(c),denom=-cdVector.x*abVector.y+abVector.x*cdVector.y;if(0===denom)return null;var s=(abVector.x*(a.y-c.y)-abVector.y*(a.x-c.x))/denom,t=(cdVector.x*(a.y-c.y)-cdVector.y*(a.x-c.x))/denom;return-1e-10<=s&&s<=1-1e-10&&-1e-10<=t&&t<=1-1e-10?new $.Point(a.x+t*abVector.x,a.y+t*abVector.y):null}if(0===intersectionPoints.length)return null;for(var minX=intersectionPoints[0].x,maxX=intersectionPoints[0].x,minY=intersectionPoints[0].y,maxY=intersectionPoints[0].y,k=1;k<intersectionPoints.length;k++){var point=intersectionPoints[k];point.x<minX&&(minX=point.x),point.x>maxX&&(maxX=point.x),point.y<minY&&(minY=point.y),point.y>maxY&&(maxY=point.y)}return new $.Rect(minX,minY,maxX-minX,maxY-minY)},_getSegments:function(){var topLeft=this.getTopLeft(),topRight=this.getTopRight(),bottomLeft=this.getBottomLeft(),bottomRight=this.getBottomRight();return[[topLeft,topRight],[topRight,bottomRight],[bottomRight,bottomLeft],[bottomLeft,topLeft]]},rotate:function(degrees,pivot){if(0===(degrees=$.positiveModulo(degrees,360)))return this.clone();pivot=pivot||this.getCenter();var newTopLeft=this.getTopLeft().rotate(degrees,pivot),diff=this.getTopRight().rotate(degrees,pivot).minus(newTopLeft);diff=diff.apply((function(x){return Math.abs(x)<1e-15?0:x}));var radians=Math.atan(diff.y/diff.x);return diff.x<0?radians+=Math.PI:diff.y<0&&(radians+=2*Math.PI),new $.Rect(newTopLeft.x,newTopLeft.y,this.width,this.height,radians/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var topLeft=this.getTopLeft(),topRight=this.getTopRight(),bottomLeft=this.getBottomLeft(),bottomRight=this.getBottomRight(),minX=Math.min(topLeft.x,topRight.x,bottomLeft.x,bottomRight.x),maxX=Math.max(topLeft.x,topRight.x,bottomLeft.x,bottomRight.x),minY=Math.min(topLeft.y,topRight.y,bottomLeft.y,bottomRight.y),maxY=Math.max(topLeft.y,topRight.y,bottomLeft.y,bottomRight.y);return new $.Rect(minX,minY,maxX-minX,maxY-minY)},getIntegerBoundingBox:function(){var boundingBox=this.getBoundingBox(),x=Math.floor(boundingBox.x),y=Math.floor(boundingBox.y),width=Math.ceil(boundingBox.width+boundingBox.x-x),height=Math.ceil(boundingBox.height+boundingBox.y-y);return new $.Rect(x,y,width,height)},containsPoint:function(point,epsilon){epsilon=epsilon||0;var topLeft=this.getTopLeft(),topRight=this.getTopRight(),bottomLeft=this.getBottomLeft(),topDiff=topRight.minus(topLeft),leftDiff=bottomLeft.minus(topLeft);return(point.x-topLeft.x)*topDiff.x+(point.y-topLeft.y)*topDiff.y>=-epsilon&&(point.x-topRight.x)*topDiff.x+(point.y-topRight.y)*topDiff.y<=epsilon&&(point.x-topLeft.x)*leftDiff.x+(point.y-topLeft.y)*leftDiff.y>=-epsilon&&(point.x-bottomLeft.x)*leftDiff.x+(point.y-bottomLeft.y)*leftDiff.y<=epsilon},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function($){var THIS={};function onStripClick(event){var page;event.quick&&(page="horizontal"===this.scroll?Math.floor(event.position.x/(this.panelWidth+4)):Math.floor(event.position.y/this.panelHeight),this.viewer.goToPage(page));this.element.focus()}function onStripDrag(event){if(this.dragging=!0,this.element){var offsetLeft=Number(this.element.style.marginLeft.replace("px","")),offsetTop=Number(this.element.style.marginTop.replace("px","")),scrollWidth=Number(this.element.style.width.replace("px","")),scrollHeight=Number(this.element.style.height.replace("px","")),viewerSize=$.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-event.delta.x>0?offsetLeft>-(scrollWidth-viewerSize.x)&&(this.element.style.marginLeft=offsetLeft+2*event.delta.x+"px",loadPanels(this,viewerSize.x,offsetLeft+2*event.delta.x)):-event.delta.x<0&&offsetLeft<0&&(this.element.style.marginLeft=offsetLeft+2*event.delta.x+"px",loadPanels(this,viewerSize.x,offsetLeft+2*event.delta.x)):-event.delta.y>0?offsetTop>-(scrollHeight-viewerSize.y)&&(this.element.style.marginTop=offsetTop+2*event.delta.y+"px",loadPanels(this,viewerSize.y,offsetTop+2*event.delta.y)):-event.delta.y<0&&offsetTop<0&&(this.element.style.marginTop=offsetTop+2*event.delta.y+"px",loadPanels(this,viewerSize.y,offsetTop+2*event.delta.y))}}function onStripScroll(event){if(this.element){var offsetLeft=Number(this.element.style.marginLeft.replace("px","")),offsetTop=Number(this.element.style.marginTop.replace("px","")),scrollWidth=Number(this.element.style.width.replace("px","")),scrollHeight=Number(this.element.style.height.replace("px","")),viewerSize=$.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?event.scroll>0?offsetLeft>-(scrollWidth-viewerSize.x)&&(this.element.style.marginLeft=offsetLeft-60*event.scroll+"px",loadPanels(this,viewerSize.x,offsetLeft-60*event.scroll)):event.scroll<0&&offsetLeft<0&&(this.element.style.marginLeft=offsetLeft-60*event.scroll+"px",loadPanels(this,viewerSize.x,offsetLeft-60*event.scroll)):event.scroll<0?offsetTop>viewerSize.y-scrollHeight&&(this.element.style.marginTop=offsetTop+60*event.scroll+"px",loadPanels(this,viewerSize.y,offsetTop+60*event.scroll)):event.scroll>0&&offsetTop<0&&(this.element.style.marginTop=offsetTop+60*event.scroll+"px",loadPanels(this,viewerSize.y,offsetTop+60*event.scroll)),event.preventDefault=!0}}function loadPanels(strip,viewerSize,scroll){var panelSize,activePanelsStart,activePanelsEnd,miniViewer,i,element;for(panelSize="horizontal"===strip.scroll?strip.panelWidth:strip.panelHeight,activePanelsStart=Math.ceil(viewerSize/panelSize)+5,i=activePanelsStart=(activePanelsStart=(activePanelsEnd=Math.ceil((Math.abs(scroll)+viewerSize)/panelSize)+1)-activePanelsStart)<0?0:activePanelsStart;i<activePanelsEnd&&i<strip.panels.length;i++)if(!(element=strip.panels[i]).activePanel){var miniTileSource,originalTileSource=strip.viewer.tileSources[i];miniTileSource=originalTileSource.referenceStripThumbnailUrl?{type:"image",url:originalTileSource.referenceStripThumbnailUrl}:originalTileSource,miniViewer=new $.Viewer({id:element.id,tileSources:[miniTileSource],element,navigatorSizeRatio:strip.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:strip.viewer.loadTilesWithAjax,ajaxHeaders:strip.viewer.ajaxHeaders,useCanvas:strip.useCanvas}),$.setElementPointerEventsNone(miniViewer.canvas),$.setElementPointerEventsNone(miniViewer.container),miniViewer.innerTracker.setTracking(!1),miniViewer.outerTracker.setTracking(!1),strip.miniViewers[element.id]=miniViewer,element.activePanel=!0}}function onStripEnter(event){var element=event.eventSource.element;"horizontal"===this.scroll?element.style.marginBottom="0px":element.style.marginLeft="0px"}function onStripLeave(event){var element=event.eventSource.element;"horizontal"===this.scroll?element.style.marginBottom="-"+$.getElementSize(element).y/2+"px":element.style.marginLeft="-"+$.getElementSize(element).x/2+"px"}function onKeyDown(event){if(event.ctrl||event.alt||event.meta)event.preventDefault=!1;else switch(event.keyCode){case 38:case 39:onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),event.preventDefault=!0;break;case 40:case 37:onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),event.preventDefault=!0;break;default:event.preventDefault=!1}}function onKeyPress(event){if(event.ctrl||event.alt||event.meta)event.preventDefault=!1;else switch(event.keyCode){case 61:case 48:case 119:case 87:case 100:onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),event.preventDefault=!0;break;case 45:case 115:case 83:case 97:onStripScroll.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),event.preventDefault=!0;break;default:event.preventDefault=!1}}$.ReferenceStrip=function(options){var element,style,i,viewer=options.viewer,viewerSize=$.getElementSize(viewer.element);for(options.id||(options.id="referencestrip-"+$.now(),this.element=$.makeNeutralElement("div"),this.element.id=options.id,this.element.className="referencestrip"),options=$.extend(!0,{sizeRatio:$.DEFAULT_SETTINGS.referenceStripSizeRatio,position:$.DEFAULT_SETTINGS.referenceStripPosition,scroll:$.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:$.DEFAULT_SETTINGS.clickTimeThreshold},options,{element:this.element}),$.extend(this,options),THIS[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(style=this.element.style).marginTop="0px",style.marginRight="0px",style.marginBottom="0px",style.marginLeft="0px",style.left="0px",style.bottom="0px",style.border="0px",style.background="#000",style.position="relative",$.setElementTouchActionNone(this.element),$.setElementOpacity(this.element,.8),this.viewer=viewer,this.tracker=new $.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:$.delegate(this,onStripClick),dragHandler:$.delegate(this,onStripDrag),scrollHandler:$.delegate(this,onStripScroll),enterHandler:$.delegate(this,onStripEnter),leaveHandler:$.delegate(this,onStripLeave),keyDownHandler:$.delegate(this,onKeyDown),keyHandler:$.delegate(this,onKeyPress),preProcessEventHandler:function(eventInfo){"wheel"===eventInfo.eventType&&(eventInfo.preventDefault=!0)}}),options.width&&options.height?(this.element.style.width=options.width+"px",this.element.style.height=options.height+"px",viewer.addControl(this.element,{anchor:$.ControlAnchor.BOTTOM_LEFT})):"horizontal"===options.scroll?(this.element.style.width=viewerSize.x*options.sizeRatio*viewer.tileSources.length+12*viewer.tileSources.length+"px",this.element.style.height=viewerSize.y*options.sizeRatio+"px",viewer.addControl(this.element,{anchor:$.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=viewerSize.y*options.sizeRatio*viewer.tileSources.length+12*viewer.tileSources.length+"px",this.element.style.width=viewerSize.x*options.sizeRatio+"px",viewer.addControl(this.element,{anchor:$.ControlAnchor.TOP_LEFT})),this.panelWidth=viewerSize.x*this.sizeRatio+8,this.panelHeight=viewerSize.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},i=0;i<viewer.tileSources.length;i++)(element=$.makeNeutralElement("div")).id=this.element.id+"-"+i,element.style.width=this.panelWidth+"px",element.style.height=this.panelHeight+"px",element.style.display="inline",element.style.float="left",element.style.cssFloat="left",element.style.styleFloat="left",element.style.padding="2px",$.setElementTouchActionNone(element),$.setElementPointerEventsNone(element),this.element.appendChild(element),element.activePanel=!1,this.panels.push(element);loadPanels(this,"vertical"===this.scroll?viewerSize.y:viewerSize.x,0),this.setFocus(0)},$.ReferenceStrip.prototype={setFocus:function(page){var offset,element=this.element.querySelector("#"+this.element.id+"-"+page),viewerSize=$.getElementSize(this.viewer.canvas),scrollWidth=Number(this.element.style.width.replace("px","")),scrollHeight=Number(this.element.style.height.replace("px","")),offsetLeft=-Number(this.element.style.marginLeft.replace("px","")),offsetTop=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==element&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=element,this.currentSelected.style.background="#999","horizontal"===this.scroll?(offset=Number(page)*(this.panelWidth+3))>offsetLeft+viewerSize.x-this.panelWidth?(offset=Math.min(offset,scrollWidth-viewerSize.x),this.element.style.marginLeft=-offset+"px",loadPanels(this,viewerSize.x,-offset)):offset<offsetLeft&&(offset=Math.max(0,offset-viewerSize.x/2),this.element.style.marginLeft=-offset+"px",loadPanels(this,viewerSize.x,-offset)):(offset=Number(page)*(this.panelHeight+3))>offsetTop+viewerSize.y-this.panelHeight?(offset=Math.min(offset,scrollHeight-viewerSize.y),this.element.style.marginTop=-offset+"px",loadPanels(this,viewerSize.y,-offset)):offset<offsetTop&&(offset=Math.max(0,offset-viewerSize.y/2),this.element.style.marginTop=-offset+"px",loadPanels(this,viewerSize.y,-offset)),this.currentPage=page,onStripEnter.call(this,{eventSource:this.tracker}))},update:function(){return!!THIS[this.id].animating},destroy:function(){if(this.miniViewers)for(var key in this.miniViewers)this.miniViewers[key].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(OpenSeadragon),function($){$.DisplayRect=function(x,y,width,height,minLevel,maxLevel){$.Rect.apply(this,[x,y,width,height]),this.minLevel=minLevel,this.maxLevel=maxLevel},$.extend($.DisplayRect.prototype,$.Rect.prototype)}(OpenSeadragon),function($){$.Spring=function(options){var args=arguments;"object"!=typeof options&&(options={initial:args.length&&"number"==typeof args[0]?args[0]:void 0,springStiffness:args.length>1?args[1].springStiffness:5,animationTime:args.length>1?args[1].animationTime:1.5}),$.console.assert("number"==typeof options.springStiffness&&0!==options.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),$.console.assert("number"==typeof options.animationTime&&options.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),options.exponential&&(this._exponential=!0,delete options.exponential),$.extend(!0,this,options),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:$.now()},$.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},$.Spring.prototype={resetTo:function(target){$.console.assert(!this._exponential||0!==target,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=target,this.start.time=this.target.time=this.current.time=$.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(target){$.console.assert(!this._exponential||0!==target,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=target,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(delta){this.start.value+=delta,this.target.value+=delta,this._exponential&&($.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(value){this._exponential=value,this._exponential&&($.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var startValue,targetValue;this.current.time=$.now(),this._exponential?(startValue=this.start._logValue,targetValue=this.target._logValue):(startValue=this.start.value,targetValue=this.target.value);var currentValue=this.current.time>=this.target.time?targetValue:startValue+(targetValue-startValue)*function transform(stiffness,x){return(1-Math.exp(stiffness*-x))/(1-Math.exp(-stiffness))}(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),oldValue=this.current.value;return this._exponential?this.current.value=Math.exp(currentValue):this.current.value=currentValue,oldValue!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function($){$.ImageJob=function(options){$.extend(!0,this,{timeout:$.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},options),this.data=null,this.userData={},this.errorMsg=null},$.ImageJob.prototype={start:function(){this.tries++;var self=this,selfAbort=this.abort;this.jobId=window.setTimeout((function(){self.finish(null,null,"Image load exceeded timeout ("+self.timeout+" ms)")}),this.timeout),this.abort=function(){self.source.downloadTileAbort(self),"function"==typeof selfAbort&&selfAbort()},this.source.downloadTileStart(this)},finish:function(data,request,errorMessage){this.data=data,this.request=request,this.errorMsg=errorMessage,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},$.ImageLoader=function(options){$.extend(!0,this,{jobLimit:$.DEFAULT_SETTINGS.imageLoaderLimit,timeout:$.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},options)},$.ImageLoader.prototype={addJob:function(options){if(!options.source){$.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var implementation=$.TileSource.prototype;options.source={downloadTileStart:implementation.downloadTileStart,downloadTileAbort:implementation.downloadTileAbort}}var _this=this,jobOptions={src:options.src,tile:options.tile||{},source:options.source,loadWithAjax:options.loadWithAjax,ajaxHeaders:options.loadWithAjax?options.ajaxHeaders:null,crossOriginPolicy:options.crossOriginPolicy,ajaxWithCredentials:options.ajaxWithCredentials,postData:options.postData,callback:function(job){!function completeJob(loader,job,callback){""!==job.errorMsg&&(null===job.data||void 0===job.data)&&job.tries<1+loader.tileRetryMax&&loader.failedTiles.push(job);var nextJob;loader.jobsInProgress--,(!loader.jobLimit||loader.jobsInProgress<loader.jobLimit)&&loader.jobQueue.length>0&&((nextJob=loader.jobQueue.shift()).start(),loader.jobsInProgress++);loader.tileRetryMax>0&&0===loader.jobQueue.length&&(!loader.jobLimit||loader.jobsInProgress<loader.jobLimit)&&loader.failedTiles.length>0&&(nextJob=loader.failedTiles.shift(),setTimeout((function(){nextJob.start()}),loader.tileRetryDelay),loader.jobsInProgress++);callback(job.data,job.errorMsg,job.request)}(_this,job,options.callback)},abort:options.abort,timeout:this.timeout},newJob=new $.ImageJob(jobOptions);!this.jobLimit||this.jobsInProgress<this.jobLimit?(newJob.start(),this.jobsInProgress++):this.jobQueue.push(newJob)},clear:function(){for(var i=0;i<this.jobQueue.length;i++){var job=this.jobQueue[i];"function"==typeof job.abort&&job.abort()}this.jobQueue=[]}}}(OpenSeadragon),function($){$.Tile=function(level,x,y,bounds,exists,url,context2D,loadWithAjax,ajaxHeaders,sourceBounds,postData,cacheKey){this.level=level,this.x=x,this.y=y,this.bounds=bounds,this.sourceBounds=sourceBounds,this.exists=exists,this._url=url,this.postData=postData,this.context2D=context2D,this.loadWithAjax=loadWithAjax,this.ajaxHeaders=ajaxHeaders,void 0===cacheKey&&($.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),cacheKey=$.TileSource.prototype.getTileHashKey(level,x,y,url,ajaxHeaders,postData)),this.cacheKey=cacheKey,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},$.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},drawHTML:function(container){if(this.cacheImageRecord)if(this.loaded){if(!this.element){var image=this.getImage();if(!image)return;this.element=$.makeNeutralElement("div"),this.imgElement=image.cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"}this.element.parentNode!==container&&container.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),$.setElementOpacity(this.element,this.opacity)}else $.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());else $.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},get image(){return $.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return $.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"==typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord.getRenderedContext()},drawCanvas:function(context,drawingHandler,scale,translate,shouldRoundPositionAndSize,source){var rendered,sourceWidth,sourceHeight,position=this.position.times($.pixelDensityRatio),size=this.size.times($.pixelDensityRatio);this.context2D||this.cacheImageRecord?(rendered=this.getCanvasContext(),this.loaded&&rendered?(context.save(),context.globalAlpha=this.opacity,"number"==typeof scale&&1!==scale&&(position=position.times(scale),size=size.times(scale)),translate instanceof $.Point&&(position=position.plus(translate)),1===context.globalAlpha&&this.hasTransparency&&(shouldRoundPositionAndSize&&(position.x=Math.round(position.x),position.y=Math.round(position.y),size.x=Math.round(size.x),size.y=Math.round(size.y)),context.clearRect(position.x,position.y,size.x,size.y)),drawingHandler({context,tile:this,rendered}),this.sourceBounds?(sourceWidth=Math.min(this.sourceBounds.width,rendered.canvas.width),sourceHeight=Math.min(this.sourceBounds.height,rendered.canvas.height)):(sourceWidth=rendered.canvas.width,sourceHeight=rendered.canvas.height),context.translate(position.x+size.x/2,0),this.flipped&&context.scale(-1,1),context.drawImage(rendered.canvas,0,0,sourceWidth,sourceHeight,-size.x/2,position.y,size.x,size.y),context.restore()):$.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):$.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var context;if(this.cacheImageRecord)context=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return $.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;context=this.context2D}return context.canvas.width/(this.size.x*$.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(scale,canvasSize,sketchCanvasSize){var x=Math.max(1,Math.ceil((sketchCanvasSize.x-canvasSize.x)/2)),y=Math.max(1,Math.ceil((sketchCanvasSize.y-canvasSize.y)/2));return new $.Point(x,y).minus(this.position.times($.pixelDensityRatio).times(scale||1).apply((function(x){return x%1})))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function($){$.OverlayPlacement=$.Placement,$.OverlayRotationMode=$.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),$.Overlay=function(element,location,placement){var options;options=$.isPlainObject(element)?element:{element,location,placement},this.element=options.element,this.style=options.element.style,this._init(options)},$.Overlay.prototype={_init:function(options){this.location=options.location,this.placement=void 0===options.placement?$.Placement.TOP_LEFT:options.placement,this.onDraw=options.onDraw,this.checkResize=void 0===options.checkResize||options.checkResize,this.width=void 0===options.width?null:options.width,this.height=void 0===options.height?null:options.height,this.rotationMode=options.rotationMode||$.OverlayRotationMode.EXACT,this.location instanceof $.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=$.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new $.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(position,size){var properties=$.Placement.properties[this.placement];properties&&(properties.isHorizontallyCentered?position.x-=size.x/2:properties.isRight&&(position.x-=size.x),properties.isVerticallyCentered?position.y-=size.y/2:properties.isBottom&&(position.y-=size.y))},destroy:function(){var element=this.element,style=this.style;element.parentNode&&(element.parentNode.removeChild(element),element.prevElementParent&&(style.display="none",document.body.appendChild(element))),this.onDraw=null,style.top="",style.left="",style.position="",null!==this.width&&(style.width=""),null!==this.height&&(style.height="");var transformOriginProp=$.getCssPropertyWithVendorPrefix("transformOrigin"),transformProp=$.getCssPropertyWithVendorPrefix("transform");transformOriginProp&&transformProp&&(style[transformOriginProp]="",style[transformProp]="")},drawHTML:function(container,viewport){var element=this.element;element.parentNode!==container&&(element.prevElementParent=element.parentNode,element.prevNextSibling=element.nextSibling,container.appendChild(element),this.style.position="absolute",this.size=$.getElementSize(element));var positionAndSize=this._getOverlayPositionAndSize(viewport),position=positionAndSize.position,size=this.size=positionAndSize.size,rotate=positionAndSize.rotate;if(this.onDraw)this.onDraw(position,size,this.element);else{var style=this.style;style.left=position.x+"px",style.top=position.y+"px",null!==this.width&&(style.width=size.x+"px"),null!==this.height&&(style.height=size.y+"px");var transformOriginProp=$.getCssPropertyWithVendorPrefix("transformOrigin"),transformProp=$.getCssPropertyWithVendorPrefix("transform");transformOriginProp&&transformProp&&(rotate?(style[transformOriginProp]=this._getTransformOrigin(),style[transformProp]="rotate("+rotate+"deg)"):(style[transformOriginProp]="",style[transformProp]="")),style.display="block"}},_getOverlayPositionAndSize:function(viewport){var position=viewport.pixelFromPoint(this.location,!0),size=this._getSizeInPixels(viewport);this.adjust(position,size);var rotate=0;if(viewport.getRotation(!0)&&this.rotationMode!==$.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===$.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var rect=new $.Rect(position.x,position.y,size.x,size.y),boundingBox=this._getBoundingBox(rect,viewport.getRotation(!0));position=boundingBox.getTopLeft(),size=boundingBox.getSize()}else rotate=viewport.getRotation(!0);return{position,size,rotate}},_getSizeInPixels:function(viewport){var width=this.size.x,height=this.size.y;if(null!==this.width||null!==this.height){var scaledSize=viewport.deltaPixelsFromPointsNoRotate(new $.Point(this.width||0,this.height||0),!0);null!==this.width&&(width=scaledSize.x),null!==this.height&&(height=scaledSize.y)}if(this.checkResize&&(null===this.width||null===this.height)){var eltSize=this.size=$.getElementSize(this.element);null===this.width&&(width=eltSize.x),null===this.height&&(height=eltSize.y)}return new $.Point(width,height)},_getBoundingBox:function(rect,degrees){var refPoint=this._getPlacementPoint(rect);return rect.rotate(degrees,refPoint).getBoundingBox()},_getPlacementPoint:function(rect){var result=new $.Point(rect.x,rect.y),properties=$.Placement.properties[this.placement];return properties&&(properties.isHorizontallyCentered?result.x+=rect.width/2:properties.isRight&&(result.x+=rect.width),properties.isVerticallyCentered?result.y+=rect.height/2:properties.isBottom&&(result.y+=rect.height)),result},_getTransformOrigin:function(){var result="",properties=$.Placement.properties[this.placement];return properties?(properties.isLeft?result="left":properties.isRight&&(result="right"),properties.isTop?result+=" top":properties.isBottom&&(result+=" bottom"),result):result},update:function(location,placement){var options=$.isPlainObject(location)?location:{location,placement};this._init({location:options.location||this.location,placement:void 0!==options.placement?options.placement:this.placement,onDraw:options.onDraw||this.onDraw,checkResize:options.checkResize||this.checkResize,width:void 0!==options.width?options.width:this.width,height:void 0!==options.height?options.height:this.height,rotationMode:options.rotationMode||this.rotationMode})},getBounds:function(viewport){$.console.assert(viewport,"A viewport must now be passed to Overlay.getBounds.");var width=this.width,height=this.height;if(null===width||null===height){var size=viewport.deltaPointsFromPixelsNoRotate(this.size,!0);null===width&&(width=size.x),null===height&&(height=size.y)}var location=this.location.clone();return this.adjust(location,new $.Point(width,height)),this._adjustBoundsForRotation(viewport,new $.Rect(location.x,location.y,width,height))},_adjustBoundsForRotation:function(viewport,bounds){if(!viewport||0===viewport.getRotation(!0)||this.rotationMode===$.OverlayRotationMode.EXACT)return bounds;if(this.rotationMode===$.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return bounds;var positionAndSize=this._getOverlayPositionAndSize(viewport);return viewport.viewerElementToViewportRectangle(new $.Rect(positionAndSize.position.x,positionAndSize.position.y,positionAndSize.size.x,positionAndSize.size.y))}return bounds.rotate(-viewport.getRotation(!0),this._getPlacementPoint(bounds))}}}(OpenSeadragon),function($){$.Drawer=function(options){$.console.assert(options.viewer,"[Drawer] options.viewer is required");var args=arguments;if($.isPlainObject(options)||(options={source:args[0],viewport:args[1],element:args[2]}),$.console.assert(options.viewport,"[Drawer] options.viewport is required"),$.console.assert(options.element,"[Drawer] options.element is required"),options.source&&$.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=options.viewer,this.viewport=options.viewport,this.debugGridColor="string"==typeof options.debugGridColor?[options.debugGridColor]:options.debugGridColor||$.DEFAULT_SETTINGS.debugGridColor,options.opacity&&$.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=$.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=$.getElement(options.element),this.canvas=$.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var viewportSize=this._calculateCanvasSize();this.canvas.width=viewportSize.x,this.canvas.height=viewportSize.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",$.setElementOpacity(this.canvas,this.opacity,!0),$.setElementPointerEventsNone(this.canvas),$.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},$.Drawer.prototype={addOverlay:function(element,location,placement,onDraw){return $.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(element,location,placement,onDraw),this},updateOverlay:function(element,location,placement){return $.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(element,location,placement),this},removeOverlay:function(element){return $.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(element),this},clearOverlays:function(){return $.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(point){var vpPoint=this.viewport.pixelFromPointNoRotate(point,!0);return new $.Point(vpPoint.x*$.pixelDensityRatio,vpPoint.y*$.pixelDensityRatio)},clipWithPolygons:function(polygons,useSketch){if(this.useCanvas){var context=this._getContext(useSketch);context.beginPath(),polygons.forEach((function(polygon){polygon.forEach((function(coord,i){context[0===i?"moveTo":"lineTo"](coord.x,coord.y)}))})),context.clip()}},setOpacity:function(opacity){$.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var world=this.viewer.world,i=0;i<world.getItemCount();i++)world.getItemAt(i).setOpacity(opacity);return this},getOpacity:function(){$.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var world=this.viewer.world,maxOpacity=0,i=0;i<world.getItemCount();i++){var opacity=world.getItemAt(i).getOpacity();opacity>maxOpacity&&(maxOpacity=opacity)}return maxOpacity},needsUpdate:function(){return $.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return $.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return $.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return $.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var viewportSize=this._calculateCanvasSize();if((this.canvas.width!==viewportSize.x||this.canvas.height!==viewportSize.y)&&(this.canvas.width=viewportSize.x,this.canvas.height=viewportSize.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var sketchCanvasSize=this._calculateSketchCanvasSize();this.sketchCanvas.width=sketchCanvasSize.x,this.sketchCanvas.height=sketchCanvasSize.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(useSketch,bounds){if(this.useCanvas){var context=this._getContext(useSketch);if(bounds)context.clearRect(bounds.x,bounds.y,bounds.width,bounds.height);else{var canvas=context.canvas;context.clearRect(0,0,canvas.width,canvas.height)}}},viewportToDrawerRectangle:function(rectangle){var topLeft=this.viewport.pixelFromPointNoRotate(rectangle.getTopLeft(),!0),size=this.viewport.deltaPixelsFromPointsNoRotate(rectangle.getSize(),!0);return new $.Rect(topLeft.x*$.pixelDensityRatio,topLeft.y*$.pixelDensityRatio,size.x*$.pixelDensityRatio,size.y*$.pixelDensityRatio)},drawTile:function(tile,drawingHandler,useSketch,scale,translate,shouldRoundPositionAndSize,source){if($.console.assert(tile,"[Drawer.drawTile] tile is required"),$.console.assert(drawingHandler,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var context=this._getContext(useSketch);scale=scale||1,tile.drawCanvas(context,drawingHandler,scale,translate,shouldRoundPositionAndSize,source)}else tile.drawHTML(this.canvas)},_getContext:function(useSketch){var context=this.context;if(useSketch){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var sketchCanvasSize=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=sketchCanvasSize.x,this.sketchCanvas.height=sketchCanvasSize.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var self=this;this.viewer.addHandler("rotate",(function resizeSketchCanvas(){if(0!==self.viewport.getRotation()){self.viewer.removeHandler("rotate",resizeSketchCanvas);var sketchCanvasSize=self._calculateSketchCanvasSize();self.sketchCanvas.width=sketchCanvasSize.x,self.sketchCanvas.height=sketchCanvasSize.y}}))}this._updateImageSmoothingEnabled(this.sketchContext)}context=this.sketchContext}return context},saveContext:function(useSketch){this.useCanvas&&this._getContext(useSketch).save()},restoreContext:function(useSketch){this.useCanvas&&this._getContext(useSketch).restore()},setClip:function(rect,useSketch){if(this.useCanvas){var context=this._getContext(useSketch);context.beginPath(),context.rect(rect.x,rect.y,rect.width,rect.height),context.clip()}},drawRectangle:function(rect,fillStyle,useSketch){if(this.useCanvas){var context=this._getContext(useSketch);context.save(),context.fillStyle=fillStyle,context.fillRect(rect.x,rect.y,rect.width,rect.height),context.restore()}},blendSketch:function(opacity,scale,translate,compositeOperation){var options=opacity;if($.isPlainObject(options)||(options={opacity,scale,translate,compositeOperation}),this.useCanvas&&this.sketchCanvas){opacity=options.opacity,compositeOperation=options.compositeOperation;var bounds=options.bounds;if(this.context.save(),this.context.globalAlpha=opacity,compositeOperation&&(this.context.globalCompositeOperation=compositeOperation),bounds)bounds.x<0&&(bounds.width+=bounds.x,bounds.x=0),bounds.x+bounds.width>this.canvas.width&&(bounds.width=this.canvas.width-bounds.x),bounds.y<0&&(bounds.height+=bounds.y,bounds.y=0),bounds.y+bounds.height>this.canvas.height&&(bounds.height=this.canvas.height-bounds.y),this.context.drawImage(this.sketchCanvas,bounds.x,bounds.y,bounds.width,bounds.height,bounds.x,bounds.y,bounds.width,bounds.height);else{scale=options.scale||1;var position=(translate=options.translate)instanceof $.Point?translate:new $.Point(0,0),widthExt=0,heightExt=0;if(translate){var widthDiff=this.sketchCanvas.width-this.canvas.width,heightDiff=this.sketchCanvas.height-this.canvas.height;widthExt=Math.round(widthDiff/2),heightExt=Math.round(heightDiff/2)}this.context.drawImage(this.sketchCanvas,position.x-widthExt*scale,position.y-heightExt*scale,(this.canvas.width+2*widthExt)*scale,(this.canvas.height+2*heightExt)*scale,-widthExt,-heightExt,this.canvas.width+2*widthExt,this.canvas.height+2*heightExt)}this.context.restore()}},drawDebugInfo:function(tile,count,i,tiledImage){if(this.useCanvas){var colorIndex=this.viewer.world.getIndexOfItem(tiledImage)%this.debugGridColor.length,context=this.context;context.save(),context.lineWidth=2*$.pixelDensityRatio,context.font="small-caps bold "+13*$.pixelDensityRatio+"px arial",context.strokeStyle=this.debugGridColor[colorIndex],context.fillStyle=this.debugGridColor[colorIndex],this.viewport.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:this.viewport.getRotation(!0)}),tiledImage.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:tiledImage.getRotation(!0),point:tiledImage.viewport.pixelFromPointNoRotate(tiledImage._getRotationPoint(!0),!0)}),tiledImage.viewport.getRotation(!0)%360==0&&tiledImage.getRotation(!0)%360==0&&tiledImage._drawer.viewer.viewport.getFlip()&&tiledImage._drawer._flip(),context.strokeRect(tile.position.x*$.pixelDensityRatio,tile.position.y*$.pixelDensityRatio,tile.size.x*$.pixelDensityRatio,tile.size.y*$.pixelDensityRatio);var tileCenterX=(tile.position.x+tile.size.x/2)*$.pixelDensityRatio,tileCenterY=(tile.position.y+tile.size.y/2)*$.pixelDensityRatio;context.translate(tileCenterX,tileCenterY),context.rotate(Math.PI/180*-this.viewport.getRotation(!0)),context.translate(-tileCenterX,-tileCenterY),0===tile.x&&0===tile.y&&(context.fillText("Zoom: "+this.viewport.getZoom(),tile.position.x*$.pixelDensityRatio,(tile.position.y-30)*$.pixelDensityRatio),context.fillText("Pan: "+this.viewport.getBounds().toString(),tile.position.x*$.pixelDensityRatio,(tile.position.y-20)*$.pixelDensityRatio)),context.fillText("Level: "+tile.level,(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+20)*$.pixelDensityRatio),context.fillText("Column: "+tile.x,(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+30)*$.pixelDensityRatio),context.fillText("Row: "+tile.y,(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+40)*$.pixelDensityRatio),context.fillText("Order: "+i+" of "+count,(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+50)*$.pixelDensityRatio),context.fillText("Size: "+tile.size.toString(),(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+60)*$.pixelDensityRatio),context.fillText("Position: "+tile.position.toString(),(tile.position.x+10)*$.pixelDensityRatio,(tile.position.y+70)*$.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),tiledImage.getRotation(!0)%360!=0&&this._restoreRotationChanges(),tiledImage.viewport.getRotation(!0)%360==0&&tiledImage.getRotation(!0)%360==0&&tiledImage._drawer.viewer.viewport.getFlip()&&tiledImage._drawer._flip(),context.restore()}},debugRect:function(rect){if(this.useCanvas){var context=this.context;context.save(),context.lineWidth=2*$.pixelDensityRatio,context.strokeStyle=this.debugGridColor[0],context.fillStyle=this.debugGridColor[0],context.strokeRect(rect.x*$.pixelDensityRatio,rect.y*$.pixelDensityRatio,rect.width*$.pixelDensityRatio,rect.height*$.pixelDensityRatio),context.restore()}},setImageSmoothingEnabled:function(imageSmoothingEnabled){this.useCanvas&&(this._imageSmoothingEnabled=imageSmoothingEnabled,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(context){context.msImageSmoothingEnabled=this._imageSmoothingEnabled,context.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(sketch){var canvas=this._getContext(sketch).canvas;return new $.Point(canvas.width,canvas.height)},getCanvasCenter:function(){return new $.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(options){var point=options.point?options.point.times($.pixelDensityRatio):this.getCanvasCenter(),context=this._getContext(options.useSketch);context.save(),context.translate(point.x,point.y),this.viewer.viewport.flipped?(context.rotate(Math.PI/180*-options.degrees),context.scale(-1,1)):context.rotate(Math.PI/180*options.degrees),context.translate(-point.x,-point.y)},_flip:function(options){var point=(options=options||{}).point?options.point.times($.pixelDensityRatio):this.getCanvasCenter(),context=this._getContext(options.useSketch);context.translate(point.x,0),context.scale(-1,1),context.translate(-point.x,0)},_restoreRotationChanges:function(useSketch){this._getContext(useSketch).restore()},_calculateCanvasSize:function(){var pixelDensityRatio=$.pixelDensityRatio,viewportSize=this.viewport.getContainerSize();return{x:Math.round(viewportSize.x*pixelDensityRatio),y:Math.round(viewportSize.y*pixelDensityRatio)}},_calculateSketchCanvasSize:function(){var canvasSize=this._calculateCanvasSize();if(0===this.viewport.getRotation())return canvasSize;var sketchCanvasSize=Math.ceil(Math.sqrt(canvasSize.x*canvasSize.x+canvasSize.y*canvasSize.y));return{x:sketchCanvasSize,y:sketchCanvasSize}}}}(OpenSeadragon),function($){$.Viewport=function(options){var args=arguments;args.length&&args[0]instanceof $.Point&&(options={containerSize:args[0],contentSize:args[1],config:args[2]}),options.config&&($.extend(!0,options,options.config),delete options.config),this._margins=$.extend({left:0,top:0,right:0,bottom:0},options.margins||{}),delete options.margins,options.initialDegrees=options.degrees,delete options.degrees,$.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:$.DEFAULT_SETTINGS.springStiffness,animationTime:$.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:$.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:$.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:$.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:$.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:$.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:$.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:$.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:$.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:$.DEFAULT_SETTINGS.degrees,flipped:$.DEFAULT_SETTINGS.flipped,homeFillsViewer:$.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:$.DEFAULT_SETTINGS.silenceMultiImageWarnings},options),this._updateContainerInnerSize(),this.centerSpringX=new $.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new $.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new $.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new $.Spring({initial:options.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new $.Rect(0,0,1,1),1),this.goHome(!0),this.update()},$.Viewport.prototype={get degrees(){return $.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(degrees){$.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(degrees)},resetContentSize:function(contentSize){return $.console.assert(contentSize,"[Viewport.resetContentSize] contentSize is required"),$.console.assert(contentSize instanceof $.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),$.console.assert(contentSize.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),$.console.assert(contentSize.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new $.Rect(0,0,1,contentSize.y/contentSize.x),contentSize.x),this},setHomeBounds:function(bounds,contentFactor){$.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(bounds,contentFactor)},_setContentBounds:function(bounds,contentFactor){$.console.assert(bounds,"[Viewport._setContentBounds] bounds is required"),$.console.assert(bounds instanceof $.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),$.console.assert(bounds.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),$.console.assert(bounds.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=bounds.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(contentFactor),this._contentBounds=bounds.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(contentFactor),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var aspectFactor=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?aspectFactor>=1?aspectFactor:1:aspectFactor>=1?1:aspectFactor)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var center=this._contentBounds.getCenter(),width=1/this.getHomeZoom(),height=width/this.getAspectRatio();return new $.Rect(center.x-width/2,center.y-height/2,width,height)},goHome:function(immediately){return this.viewer&&this.viewer.raiseEvent("home",{immediately}),this.fitBounds(this.getHomeBounds(),immediately)},getMinZoom:function(){var homeZoom=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*homeZoom},getMaxZoom:function(){var zoom=this.maxZoomLevel;return zoom||(zoom=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,zoom/=this._contentBounds.width),Math.max(zoom,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new $.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return $.extend({},this._margins)},setMargins:function(margins){$.console.assert("object"===$.type(margins),"[Viewport.setMargins] margins must be an object"),this._margins=$.extend({left:0,top:0,right:0,bottom:0},margins),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(current){return this.getBoundsNoRotate(current).rotate(-this.getRotation(current))},getBoundsNoRotate:function(current){var center=this.getCenter(current),width=1/this.getZoom(current),height=width/this.getAspectRatio();return new $.Rect(center.x-width/2,center.y-height/2,width,height)},getBoundsWithMargins:function(current){return this.getBoundsNoRotateWithMargins(current).rotate(-this.getRotation(current),this.getCenter(current))},getBoundsNoRotateWithMargins:function(current){var bounds=this.getBoundsNoRotate(current),factor=this._containerInnerSize.x*this.getZoom(current);return bounds.x-=this._margins.left/factor,bounds.y-=this._margins.top/factor,bounds.width+=(this._margins.left+this._margins.right)/factor,bounds.height+=(this._margins.top+this._margins.bottom)/factor,bounds},getCenter:function(current){var oldZoomPixel,zoom,width,height,bounds,deltaZoomPoints,centerCurrent=new $.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),centerTarget=new $.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return current?centerCurrent:this.zoomPoint?(oldZoomPixel=this.pixelFromPoint(this.zoomPoint,!0),height=(width=1/(zoom=this.getZoom()))/this.getAspectRatio(),bounds=new $.Rect(centerCurrent.x-width/2,centerCurrent.y-height/2,width,height),deltaZoomPoints=this._pixelFromPoint(this.zoomPoint,bounds).minus(oldZoomPixel).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*zoom),centerTarget.plus(deltaZoomPoints)):centerTarget},getZoom:function(current){return current?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(zoom){return Math.max(Math.min(zoom,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(bounds){var newBounds=this.viewportToViewerElementRectangle(bounds).getBoundingBox(),cb=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),xConstrained=!1,yConstrained=!1;if(this.wrapHorizontal);else{var horizontalThreshold,leftDx,rightDx,boundsRight=newBounds.x+newBounds.width,contentRight=cb.x+cb.width;horizontalThreshold=newBounds.width>cb.width?this.visibilityRatio*cb.width:this.visibilityRatio*newBounds.width,leftDx=cb.x-boundsRight+horizontalThreshold,rightDx=contentRight-newBounds.x-horizontalThreshold,horizontalThreshold>cb.width?(newBounds.x+=(leftDx+rightDx)/2,xConstrained=!0):rightDx<0?(newBounds.x+=rightDx,xConstrained=!0):leftDx>0&&(newBounds.x+=leftDx,xConstrained=!0)}if(this.wrapVertical);else{var verticalThreshold,topDy,bottomDy,boundsBottom=newBounds.y+newBounds.height,contentBottom=cb.y+cb.height;verticalThreshold=newBounds.height>cb.height?this.visibilityRatio*cb.height:this.visibilityRatio*newBounds.height,topDy=cb.y-boundsBottom+verticalThreshold,bottomDy=contentBottom-newBounds.y-verticalThreshold,verticalThreshold>cb.height?(newBounds.y+=(topDy+bottomDy)/2,yConstrained=!0):bottomDy<0?(newBounds.y+=bottomDy,yConstrained=!0):topDy>0&&(newBounds.y+=topDy,yConstrained=!0)}var constraintApplied=xConstrained||yConstrained,newViewportBounds=constraintApplied?this.viewerElementToViewportRectangle(newBounds):bounds.clone();return newViewportBounds.xConstrained=xConstrained,newViewportBounds.yConstrained=yConstrained,newViewportBounds.constraintApplied=constraintApplied,newViewportBounds},_raiseConstraintsEvent:function(immediately){this.viewer&&this.viewer.raiseEvent("constrain",{immediately})},applyConstraints:function(immediately){var actualZoom=this.getZoom(),constrainedZoom=this._applyZoomConstraints(actualZoom);actualZoom!==constrainedZoom&&this.zoomTo(constrainedZoom,this.zoomPoint,immediately);var constrainedBounds=this.getConstrainedBounds(!1);return constrainedBounds.constraintApplied&&(this.fitBounds(constrainedBounds,immediately),this._raiseConstraintsEvent(immediately)),this},ensureVisible:function(immediately){return this.applyConstraints(immediately)},_fitBounds:function(bounds,options){var immediately=(options=options||{}).immediately||!1,constraints=options.constraints||!1,aspect=this.getAspectRatio(),center=bounds.getCenter(),newBounds=new $.Rect(bounds.x,bounds.y,bounds.width,bounds.height,bounds.degrees+this.getRotation()).getBoundingBox();newBounds.getAspectRatio()>=aspect?newBounds.height=newBounds.width/aspect:newBounds.width=newBounds.height*aspect,newBounds.x=center.x-newBounds.width/2,newBounds.y=center.y-newBounds.height/2;var newZoom=1/newBounds.width;if(immediately)return this.panTo(center,!0),this.zoomTo(newZoom,null,!0),constraints&&this.applyConstraints(!0),this;var currentCenter=this.getCenter(!0),currentZoom=this.getZoom(!0);this.panTo(currentCenter,!0),this.zoomTo(currentZoom,null,!0);var oldBounds=this.getBounds(),oldZoom=this.getZoom();if(0===oldZoom||Math.abs(newZoom/oldZoom-1)<1e-8)return this.zoomTo(newZoom,null,!0),this.panTo(center,immediately),constraints&&this.applyConstraints(!1),this;if(constraints){this.panTo(center,!1),newZoom=this._applyZoomConstraints(newZoom),this.zoomTo(newZoom,null,!1);var constrainedBounds=this.getConstrainedBounds();this.panTo(currentCenter,!0),this.zoomTo(currentZoom,null,!0),this.fitBounds(constrainedBounds)}else{var referencePoint=newBounds.rotate(-this.getRotation()).getTopLeft().times(newZoom).minus(oldBounds.getTopLeft().times(oldZoom)).divide(newZoom-oldZoom);this.zoomTo(newZoom,referencePoint,immediately)}return this},fitBounds:function(bounds,immediately){return this._fitBounds(bounds,{immediately,constraints:!1})},fitBoundsWithConstraints:function(bounds,immediately){return this._fitBounds(bounds,{immediately,constraints:!0})},fitVertically:function(immediately){var box=new $.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(box,immediately)},fitHorizontally:function(immediately){var box=new $.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(box,immediately)},getConstrainedBounds:function(current){var bounds;return bounds=this.getBounds(current),this._applyBoundaryConstraints(bounds)},panBy:function(delta,immediately){var center=new $.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(center.plus(delta),immediately)},panTo:function(center,immediately){return immediately?(this.centerSpringX.resetTo(center.x),this.centerSpringY.resetTo(center.y)):(this.centerSpringX.springTo(center.x),this.centerSpringY.springTo(center.y)),this.viewer&&this.viewer.raiseEvent("pan",{center,immediately}),this},zoomBy:function(factor,refPoint,immediately){return this.zoomTo(this.zoomSpring.target.value*factor,refPoint,immediately)},zoomTo:function(zoom,refPoint,immediately){var _this=this;return this.zoomPoint=refPoint instanceof $.Point&&!isNaN(refPoint.x)&&!isNaN(refPoint.y)?refPoint:null,immediately?this._adjustCenterSpringsForZoomPoint((function(){_this.zoomSpring.resetTo(zoom)})):this.zoomSpring.springTo(zoom),this.viewer&&this.viewer.raiseEvent("zoom",{zoom,refPoint,immediately}),this},setRotation:function(degrees,immediately){return this.rotateTo(degrees,null,immediately)},getRotation:function(current){return current?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(degrees,pivot,immediately){return this.rotateTo(degrees,pivot,immediately)},rotateTo:function(degrees,pivot,immediately){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===degrees&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=pivot instanceof $.Point&&!isNaN(pivot.x)&&!isNaN(pivot.y)?pivot:null,immediately)if(this.rotationPivot){if(!(degrees-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(degrees)}else this.degreesSpring.resetTo(degrees);else{var normalizedFrom=$.positiveModulo(this.degreesSpring.current.value,360),normalizedTo=$.positiveModulo(degrees,360),diff=normalizedTo-normalizedFrom;diff>180?normalizedTo-=360:diff<-180&&(normalizedTo+=360);var reverseDiff=normalizedFrom-normalizedTo;this.degreesSpring.resetTo(degrees+reverseDiff),this.degreesSpring.springTo(degrees)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees,immediately:!!immediately,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(degrees,pivot,immediately){return this.rotateTo(this.degreesSpring.target.value+degrees,pivot,immediately)},resize:function(newContainerSize,maintain){var widthDeltaFactor,oldBounds=this.getBoundsNoRotate(),newBounds=oldBounds;this.containerSize.x=newContainerSize.x,this.containerSize.y=newContainerSize.y,this._updateContainerInnerSize(),maintain&&(widthDeltaFactor=newContainerSize.x/this.containerSize.x,newBounds.width=oldBounds.width*widthDeltaFactor,newBounds.height=newBounds.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize,maintain});var output=this.fitBounds(newBounds,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize,maintain}),output},_updateContainerInnerSize:function(){this._containerInnerSize=new $.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var _this=this;this._adjustCenterSpringsForZoomPoint((function(){_this.zoomSpring.update()})),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var changed=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,changed},_rotateAboutPivot:function(degreesOrUseSpring){var useSpring=!0===degreesOrUseSpring,delta=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(delta.x),this.centerSpringY.shiftBy(delta.y),useSpring?this.degreesSpring.update():this.degreesSpring.resetTo(degreesOrUseSpring);var changeInDegrees=this.degreesSpring.current.value-this._oldDegrees,rdelta=delta.rotate(-1*changeInDegrees).times(-1);this.centerSpringX.shiftBy(rdelta.x),this.centerSpringY.shiftBy(rdelta.y)},_adjustCenterSpringsForZoomPoint:function(zoomSpringHandler){if(this.zoomPoint){var oldZoomPixel=this.pixelFromPoint(this.zoomPoint,!0);zoomSpringHandler();var deltaZoomPixels=this.pixelFromPoint(this.zoomPoint,!0).minus(oldZoomPixel),deltaZoomPoints=this.deltaPointsFromPixels(deltaZoomPixels,!0);this.centerSpringX.shiftBy(deltaZoomPoints.x),this.centerSpringY.shiftBy(deltaZoomPoints.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else zoomSpringHandler()},deltaPixelsFromPointsNoRotate:function(deltaPoints,current){return deltaPoints.times(this._containerInnerSize.x*this.getZoom(current))},deltaPixelsFromPoints:function(deltaPoints,current){return this.deltaPixelsFromPointsNoRotate(deltaPoints.rotate(this.getRotation(current)),current)},deltaPointsFromPixelsNoRotate:function(deltaPixels,current){return deltaPixels.divide(this._containerInnerSize.x*this.getZoom(current))},deltaPointsFromPixels:function(deltaPixels,current){return this.deltaPointsFromPixelsNoRotate(deltaPixels,current).rotate(-this.getRotation(current))},pixelFromPointNoRotate:function(point,current){return this._pixelFromPointNoRotate(point,this.getBoundsNoRotate(current))},pixelFromPoint:function(point,current){return this._pixelFromPoint(point,this.getBoundsNoRotate(current))},_pixelFromPointNoRotate:function(point,bounds){return point.minus(bounds.getTopLeft()).times(this._containerInnerSize.x/bounds.width).plus(new $.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(point,bounds){return this._pixelFromPointNoRotate(point.rotate(this.getRotation(!0),this.getCenter(!0)),bounds)},pointFromPixelNoRotate:function(pixel,current){var bounds=this.getBoundsNoRotate(current);return pixel.minus(new $.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/bounds.width).plus(bounds.getTopLeft())},pointFromPixel:function(pixel,current){return this.pointFromPixelNoRotate(pixel,current).rotate(-this.getRotation(current),this.getCenter(current))},_viewportToImageDelta:function(viewerX,viewerY){var scale=this._contentBoundsNoRotate.width;return new $.Point(viewerX*this._contentSizeNoRotate.x/scale,viewerY*this._contentSizeNoRotate.x/scale)},viewportToImageCoordinates:function(viewerX,viewerY){if(viewerX instanceof $.Point)return this.viewportToImageCoordinates(viewerX.x,viewerX.y);if(this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===count){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(viewerX,viewerY,!0)}}return this._viewportToImageDelta(viewerX-this._contentBoundsNoRotate.x,viewerY-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(imageX,imageY){var scale=this._contentBoundsNoRotate.width;return new $.Point(imageX/this._contentSizeNoRotate.x*scale,imageY/this._contentSizeNoRotate.x*scale)},imageToViewportCoordinates:function(imageX,imageY){if(imageX instanceof $.Point)return this.imageToViewportCoordinates(imageX.x,imageX.y);if(this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===count){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(imageX,imageY,!0)}}var point=this._imageToViewportDelta(imageX,imageY);return point.x+=this._contentBoundsNoRotate.x,point.y+=this._contentBoundsNoRotate.y,point},imageToViewportRectangle:function(imageX,imageY,pixelWidth,pixelHeight){var rect=imageX;if(rect instanceof $.Rect||(rect=new $.Rect(imageX,imageY,pixelWidth,pixelHeight)),this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===count){return this.viewer.world.getItemAt(0).imageToViewportRectangle(imageX,imageY,pixelWidth,pixelHeight,!0)}}var coordA=this.imageToViewportCoordinates(rect.x,rect.y),coordB=this._imageToViewportDelta(rect.width,rect.height);return new $.Rect(coordA.x,coordA.y,coordB.x,coordB.y,rect.degrees)},viewportToImageRectangle:function(viewerX,viewerY,pointWidth,pointHeight){var rect=viewerX;if(rect instanceof $.Rect||(rect=new $.Rect(viewerX,viewerY,pointWidth,pointHeight)),this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===count){return this.viewer.world.getItemAt(0).viewportToImageRectangle(viewerX,viewerY,pointWidth,pointHeight,!0)}}var coordA=this.viewportToImageCoordinates(rect.x,rect.y),coordB=this._viewportToImageDelta(rect.width,rect.height);return new $.Rect(coordA.x,coordA.y,coordB.x,coordB.y,rect.degrees)},viewerElementToImageCoordinates:function(pixel){var point=this.pointFromPixel(pixel,!0);return this.viewportToImageCoordinates(point)},imageToViewerElementCoordinates:function(pixel){var point=this.imageToViewportCoordinates(pixel);return this.pixelFromPoint(point,!0)},windowToImageCoordinates:function(pixel){$.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var viewerCoordinates=pixel.minus($.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(viewerCoordinates)},imageToWindowCoordinates:function(pixel){return $.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(pixel).plus($.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(pixel){return this.pointFromPixel(pixel,!0)},viewportToViewerElementCoordinates:function(point){return this.pixelFromPoint(point,!0)},viewerElementToViewportRectangle:function(rectangle){return $.Rect.fromSummits(this.pointFromPixel(rectangle.getTopLeft(),!0),this.pointFromPixel(rectangle.getTopRight(),!0),this.pointFromPixel(rectangle.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(rectangle){return $.Rect.fromSummits(this.pixelFromPoint(rectangle.getTopLeft(),!0),this.pixelFromPoint(rectangle.getTopRight(),!0),this.pixelFromPoint(rectangle.getBottomLeft(),!0))},windowToViewportCoordinates:function(pixel){$.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var viewerCoordinates=pixel.minus($.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(viewerCoordinates)},viewportToWindowCoordinates:function(point){return $.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(point).plus($.getElementPosition(this.viewer.element))},viewportToImageZoom:function(viewportZoom){if(this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===count){return this.viewer.world.getItemAt(0).viewportToImageZoom(viewportZoom)}}var imageWidth=this._contentSizeNoRotate.x;return viewportZoom*(this._containerInnerSize.x/imageWidth*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(imageZoom){if(this.viewer){var count=this.viewer.world.getItemCount();if(count>1)this.silenceMultiImageWarnings||$.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===count){return this.viewer.world.getItemAt(0).imageToViewportZoom(imageZoom)}}return imageZoom*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(state){return this.flipped===state||(this.flipped=state,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:state})),this}}}(OpenSeadragon),function($){$.TiledImage=function(options){var _this=this;$.console.assert(options.tileCache,"[TiledImage] options.tileCache is required"),$.console.assert(options.drawer,"[TiledImage] options.drawer is required"),$.console.assert(options.viewer,"[TiledImage] options.viewer is required"),$.console.assert(options.imageLoader,"[TiledImage] options.imageLoader is required"),$.console.assert(options.source,"[TiledImage] options.source is required"),$.console.assert(!options.clip||options.clip instanceof $.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),$.EventSource.call(this),this._tileCache=options.tileCache,delete options.tileCache,this._drawer=options.drawer,delete options.drawer,this._imageLoader=options.imageLoader,delete options.imageLoader,options.clip instanceof $.Rect&&(this._clip=options.clip.clone()),delete options.clip;var x=options.x||0;delete options.x;var y=options.y||0;delete options.y,this.normHeight=options.source.dimensions.y/options.source.dimensions.x,this.contentAspectX=options.source.dimensions.x/options.source.dimensions.y;var scale=1;options.width?(scale=options.width,delete options.width,options.height&&($.console.error("specifying both width and height to a tiledImage is not supported"),delete options.height)):options.height&&(scale=options.height/this.normHeight,delete options.height);var fitBounds=options.fitBounds;delete options.fitBounds;var fitBoundsPlacement=options.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete options.fitBoundsPlacement;var degrees=options.degrees||0;delete options.degrees;var ajaxHeaders=options.ajaxHeaders;delete options.ajaxHeaders,$.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:$.DEFAULT_SETTINGS.springStiffness,animationTime:$.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:$.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:$.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:$.DEFAULT_SETTINGS.wrapVertical,immediateRender:$.DEFAULT_SETTINGS.immediateRender,blendTime:$.DEFAULT_SETTINGS.blendTime,alwaysBlend:$.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:$.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:$.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:$.DEFAULT_SETTINGS.iOSDevice,debugMode:$.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:$.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:$.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:$.DEFAULT_SETTINGS.placeholderFillStyle,opacity:$.DEFAULT_SETTINGS.opacity,preload:$.DEFAULT_SETTINGS.preload,compositeOperation:$.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:$.DEFAULT_SETTINGS.subPixelRoundingForTransparency},options),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new $.Spring({initial:x,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new $.Spring({initial:y,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new $.Spring({initial:scale,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new $.Spring({initial:degrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),fitBounds&&this.fitBounds(fitBounds,fitBoundsPlacement,!0),this._drawingHandler=function(args){_this.viewer.raiseEvent("tile-drawing",$.extend({tiledImage:_this},args))},this._ownAjaxHeaders={},this.setAjaxHeaders(ajaxHeaders,!1)},$.extend($.TiledImage.prototype,$.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(flag){flag!==this._fullyLoaded&&(this._fullyLoaded=flag,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=$.now(),this._needsDraw=!0},update:function(){var xUpdated=this._xSpring.update(),yUpdated=this._ySpring.update(),scaleUpdated=this._scaleSpring.update(),degreesUpdated=this._degreesSpring.update();return!!(xUpdated||yUpdated||scaleUpdated||degreesUpdated)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(current){return this.getBoundsNoRotate(current).rotate(this.getRotation(current),this._getRotationPoint(current))},getBoundsNoRotate:function(current){return current?new $.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new $.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return $.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(current){var bounds=this.getBoundsNoRotate(current);if(this._clip){var ratio=(current?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,clip=this._clip.times(ratio);bounds=new $.Rect(bounds.x+clip.x,bounds.y+clip.y,clip.width,clip.height)}return bounds.rotate(this.getRotation(current),this._getRotationPoint(current))},getTileBounds:function(level,x,y){var numTiles=this.source.getNumTiles(level),xMod=(numTiles.x+x%numTiles.x)%numTiles.x,yMod=(numTiles.y+y%numTiles.y)%numTiles.y,bounds=this.source.getTileBounds(level,xMod,yMod);return this.getFlip()&&(bounds.x=1-bounds.x-bounds.width),bounds.x+=(x-xMod)/numTiles.x,bounds.y+=this._worldHeightCurrent/this._worldWidthCurrent*((y-yMod)/numTiles.y),bounds},getContentSize:function(){return new $.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var topLeft=this.imageToWindowCoordinates(new $.Point(0,0)),bottomRight=this.imageToWindowCoordinates(this.getContentSize());return new $.Point(bottomRight.x-topLeft.x,bottomRight.y-topLeft.y)},_viewportToImageDelta:function(viewerX,viewerY,current){var scale=current?this._scaleSpring.current.value:this._scaleSpring.target.value;return new $.Point(viewerX*(this.source.dimensions.x/scale),viewerY*(this.source.dimensions.y*this.contentAspectX/scale))},viewportToImageCoordinates:function(viewerX,viewerY,current){var point;return viewerX instanceof $.Point?(current=viewerY,point=viewerX):point=new $.Point(viewerX,viewerY),point=point.rotate(-this.getRotation(current),this._getRotationPoint(current)),current?this._viewportToImageDelta(point.x-this._xSpring.current.value,point.y-this._ySpring.current.value):this._viewportToImageDelta(point.x-this._xSpring.target.value,point.y-this._ySpring.target.value)},_imageToViewportDelta:function(imageX,imageY,current){var scale=current?this._scaleSpring.current.value:this._scaleSpring.target.value;return new $.Point(imageX/this.source.dimensions.x*scale,imageY/this.source.dimensions.y/this.contentAspectX*scale)},imageToViewportCoordinates:function(imageX,imageY,current){imageX instanceof $.Point&&(current=imageY,imageY=imageX.y,imageX=imageX.x);var point=this._imageToViewportDelta(imageX,imageY);return current?(point.x+=this._xSpring.current.value,point.y+=this._ySpring.current.value):(point.x+=this._xSpring.target.value,point.y+=this._ySpring.target.value),point.rotate(this.getRotation(current),this._getRotationPoint(current))},imageToViewportRectangle:function(imageX,imageY,pixelWidth,pixelHeight,current){var rect=imageX;rect instanceof $.Rect?current=imageY:rect=new $.Rect(imageX,imageY,pixelWidth,pixelHeight);var coordA=this.imageToViewportCoordinates(rect.getTopLeft(),current),coordB=this._imageToViewportDelta(rect.width,rect.height,current);return new $.Rect(coordA.x,coordA.y,coordB.x,coordB.y,rect.degrees+this.getRotation(current))},viewportToImageRectangle:function(viewerX,viewerY,pointWidth,pointHeight,current){var rect=viewerX;viewerX instanceof $.Rect?current=viewerY:rect=new $.Rect(viewerX,viewerY,pointWidth,pointHeight);var coordA=this.viewportToImageCoordinates(rect.getTopLeft(),current),coordB=this._viewportToImageDelta(rect.width,rect.height,current);return new $.Rect(coordA.x,coordA.y,coordB.x,coordB.y,rect.degrees-this.getRotation(current))},viewerElementToImageCoordinates:function(pixel){var point=this.viewport.pointFromPixel(pixel,!0);return this.viewportToImageCoordinates(point)},imageToViewerElementCoordinates:function(pixel){var point=this.imageToViewportCoordinates(pixel);return this.viewport.pixelFromPoint(point,!0)},windowToImageCoordinates:function(pixel){var viewerCoordinates=pixel.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(viewerCoordinates)},imageToWindowCoordinates:function(pixel){return this.imageToViewerElementCoordinates(pixel).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(rect){var scale=this._scaleSpring.current.value;return rect=rect.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new $.Rect((rect.x-this._xSpring.current.value)/scale,(rect.y-this._ySpring.current.value)/scale,rect.width/scale,rect.height/scale,rect.degrees)},viewportToImageZoom:function(viewportZoom){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*viewportZoom},imageToViewportZoom:function(imageZoom){return imageZoom/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(position,immediately){var sameTarget=this._xSpring.target.value===position.x&&this._ySpring.target.value===position.y;if(immediately){if(sameTarget&&this._xSpring.current.value===position.x&&this._ySpring.current.value===position.y)return;this._xSpring.resetTo(position.x),this._ySpring.resetTo(position.y),this._needsDraw=!0}else{if(sameTarget)return;this._xSpring.springTo(position.x),this._ySpring.springTo(position.y),this._needsDraw=!0}sameTarget||this._raiseBoundsChange()},setWidth:function(width,immediately){this._setScale(width,immediately)},setHeight:function(height,immediately){this._setScale(height/this.normHeight,immediately)},setCroppingPolygons:function(polygons){var objectToSimpleXYObject=function(objs){return objs.map((function(obj){try{if(function(obj){return obj instanceof $.Point||"number"==typeof obj.x&&"number"==typeof obj.y}(obj))return{x:obj.x,y:obj.y};throw new Error}catch(e){throw new Error("A Provided cropping polygon point is not supported")}}))};try{if(!$.isArray(polygons))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=polygons.map((function(polygon){return objectToSimpleXYObject(polygon)}))}catch(e){$.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),$.console.error(e),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(bounds,anchor,immediately){anchor=anchor||$.Placement.CENTER;var anchorProperties=$.Placement.properties[anchor],aspectRatio=this.contentAspectX,xOffset=0,yOffset=0,displayedWidthRatio=1,displayedHeightRatio=1;if(this._clip&&(aspectRatio=this._clip.getAspectRatio(),displayedWidthRatio=this._clip.width/this.source.dimensions.x,displayedHeightRatio=this._clip.height/this.source.dimensions.y,bounds.getAspectRatio()>aspectRatio?(xOffset=this._clip.x/this._clip.height*bounds.height,yOffset=this._clip.y/this._clip.height*bounds.height):(xOffset=this._clip.x/this._clip.width*bounds.width,yOffset=this._clip.y/this._clip.width*bounds.width)),bounds.getAspectRatio()>aspectRatio){var height=bounds.height/displayedHeightRatio,marginLeft=0;anchorProperties.isHorizontallyCentered?marginLeft=(bounds.width-bounds.height*aspectRatio)/2:anchorProperties.isRight&&(marginLeft=bounds.width-bounds.height*aspectRatio),this.setPosition(new $.Point(bounds.x-xOffset+marginLeft,bounds.y-yOffset),immediately),this.setHeight(height,immediately)}else{var width=bounds.width/displayedWidthRatio,marginTop=0;anchorProperties.isVerticallyCentered?marginTop=(bounds.height-bounds.width/aspectRatio)/2:anchorProperties.isBottom&&(marginTop=bounds.height-bounds.width/aspectRatio),this.setPosition(new $.Point(bounds.x-xOffset,bounds.y-yOffset+marginTop),immediately),this.setWidth(width,immediately)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(newClip){$.console.assert(!newClip||newClip instanceof $.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),newClip instanceof $.Rect?this._clip=newClip.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(flip){this.flipped=!!flip,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(opacity){opacity!==this.opacity&&(this.opacity=opacity,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(preload){this._preload=!!preload,this._needsDraw=!0},getRotation:function(current){return current?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(degrees,immediately){this._degreesSpring.target.value===degrees&&this._degreesSpring.isAtTargetValue()||(immediately?this._degreesSpring.resetTo(degrees):this._degreesSpring.springTo(degrees),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(current){return this.getBoundsNoRotate(current).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(compositeOperation){compositeOperation!==this.compositeOperation&&(this.compositeOperation=compositeOperation,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},setAjaxHeaders:function(ajaxHeaders,propagate){null===ajaxHeaders&&(ajaxHeaders={}),$.isPlainObject(ajaxHeaders)?(this._ownAjaxHeaders=ajaxHeaders,this._updateAjaxHeaders(propagate)):console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object")},_updateAjaxHeaders:function(propagate){if(void 0===propagate&&(propagate=!0),$.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=$.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,propagate){var numTiles,xMod,yMod,tile;for(var level in this.tilesMatrix)for(var x in numTiles=this.source.getNumTiles(level),this.tilesMatrix[level])for(var y in xMod=(numTiles.x+x%numTiles.x)%numTiles.x,this.tilesMatrix[level][x])if(yMod=(numTiles.y+y%numTiles.y)%numTiles.y,(tile=this.tilesMatrix[level][x][y]).loadWithAjax=this.loadTilesWithAjax,tile.loadWithAjax){var tileAjaxHeaders=this.source.getTileAjaxHeaders(level,xMod,yMod);tile.ajaxHeaders=$.extend({},this.ajaxHeaders,tileAjaxHeaders)}else tile.ajaxHeaders=null;for(var i=0;i<this._imageLoader.jobQueue.length;i++){var job=this._imageLoader.jobQueue[i];job.loadWithAjax=job.tile.loadWithAjax,job.ajaxHeaders=job.tile.loadWithAjax?job.tile.ajaxHeaders:null}}},_setScale:function(scale,immediately){var sameTarget=this._scaleSpring.target.value===scale;if(immediately){if(sameTarget&&this._scaleSpring.current.value===scale)return;this._scaleSpring.resetTo(scale),this._updateForScale(),this._needsDraw=!0}else{if(sameTarget)return;this._scaleSpring.springTo(scale),this._updateForScale(),this._needsDraw=!0}sameTarget||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var lowestLevel=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),currentZeroRatio=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,highestLevel=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(currentZeroRatio/this.minPixelRatio)/Math.log(2))));return highestLevel=Math.max(highestLevel,this.source.minLevel||0),{lowestLevel:lowestLevel=Math.min(lowestLevel,highestLevel),highestLevel}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var viewport=this.viewport,drawArea=this._viewportToTiledImageRectangle(viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var tiledImageBounds=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(drawArea=drawArea.intersection(tiledImageBounds)))return}for(var levelsInterval=this._getLevelsInterval(),lowestLevel=levelsInterval.lowestLevel,highestLevel=levelsInterval.highestLevel,bestTile=null,haveDrawn=!1,currentTime=$.now(),level=highestLevel;level>=lowestLevel;level--){var drawLevel=!1,currentRenderPixelRatio=viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(level),!0).x*this._scaleSpring.current.value;if(level===lowestLevel||!haveDrawn&&currentRenderPixelRatio>=this.minPixelRatio)drawLevel=!0,haveDrawn=!0;else if(!haveDrawn)continue;var targetRenderPixelRatio=viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(level),!1).x*this._scaleSpring.current.value,targetZeroRatio=viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,optimalRatio=this.immediateRender?1:targetZeroRatio,levelOpacity=Math.min(1,(currentRenderPixelRatio-.5)/.5),levelVisibility=optimalRatio/Math.abs(optimalRatio-targetRenderPixelRatio);if(bestTile=this._updateLevel(haveDrawn,drawLevel,level,levelOpacity,levelVisibility,drawArea,currentTime,bestTile),this._providesCoverage(this.coverage,level))break}this._drawTiles(this.lastDrawn),bestTile&&!bestTile.context2D?(this._loadTile(bestTile,currentTime),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(level,topLeftBound,bottomRightBound){var leftX,rightX,topY,bottomY;this.wrapHorizontal?(leftX=$.positiveModulo(topLeftBound.x,1),rightX=$.positiveModulo(bottomRightBound.x,1)):(leftX=Math.max(0,topLeftBound.x),rightX=Math.min(1,bottomRightBound.x));var aspectRatio=1/this.source.aspectRatio;this.wrapVertical?(topY=$.positiveModulo(topLeftBound.y,aspectRatio),bottomY=$.positiveModulo(bottomRightBound.y,aspectRatio)):(topY=Math.max(0,topLeftBound.y),bottomY=Math.min(aspectRatio,bottomRightBound.y));var topLeftTile=this.source.getTileAtPoint(level,new $.Point(leftX,topY)),bottomRightTile=this.source.getTileAtPoint(level,new $.Point(rightX,bottomY)),numTiles=this.source.getNumTiles(level);return this.wrapHorizontal&&(topLeftTile.x+=numTiles.x*Math.floor(topLeftBound.x),bottomRightTile.x+=numTiles.x*Math.floor(bottomRightBound.x)),this.wrapVertical&&(topLeftTile.y+=numTiles.y*Math.floor(topLeftBound.y/aspectRatio),bottomRightTile.y+=numTiles.y*Math.floor(bottomRightBound.y/aspectRatio)),{topLeft:topLeftTile,bottomRight:bottomRightTile}},_updateLevel:function(haveDrawn,drawLevel,level,levelOpacity,levelVisibility,drawArea,currentTime,best){var topLeftBound=drawArea.getBoundingBox().getTopLeft(),bottomRightBound=drawArea.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:haveDrawn,level,opacity:levelOpacity,visibility:levelVisibility,drawArea,topleft:topLeftBound,bottomright:bottomRightBound,currenttime:currentTime,best}),this._resetCoverage(this.coverage,level),this._resetCoverage(this.loadingCoverage,level);var cornerTiles=this._getCornerTiles(level,topLeftBound,bottomRightBound),topLeftTile=cornerTiles.topLeft,bottomRightTile=cornerTiles.bottomRight,numberOfTiles=this.source.getNumTiles(level),viewportCenter=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(bottomRightTile.x+=1,this.wrapHorizontal||(bottomRightTile.x=Math.min(bottomRightTile.x,numberOfTiles.x-1)));for(var x=topLeftTile.x;x<=bottomRightTile.x;x++)for(var y=topLeftTile.y;y<=bottomRightTile.y;y++){var flippedX;if(this.getFlip()){var xMod=(numberOfTiles.x+x%numberOfTiles.x)%numberOfTiles.x;flippedX=x+numberOfTiles.x-xMod-xMod-1}else flippedX=x;null!==drawArea.intersection(this.getTileBounds(level,flippedX,y))&&(best=this._updateTile(drawLevel,haveDrawn,flippedX,y,level,levelOpacity,levelVisibility,viewportCenter,numberOfTiles,currentTime,best))}return best},_updateTile:function(haveDrawn,drawLevel,x,y,level,levelOpacity,levelVisibility,viewportCenter,numberOfTiles,currentTime,best){var tile=this._getTile(x,y,level,currentTime,numberOfTiles,this._worldWidthCurrent,this._worldHeightCurrent),drawTile=drawLevel;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile}),this._setCoverage(this.coverage,level,x,y,!1);var loadingCoverage=tile.loaded||tile.loading||this._isCovered(this.loadingCoverage,level,x,y);if(this._setCoverage(this.loadingCoverage,level,x,y,loadingCoverage),!tile.exists)return best;if(haveDrawn&&!drawTile&&(this._isCovered(this.coverage,level,x,y)?this._setCoverage(this.coverage,level,x,y,!0):drawTile=!0),!drawTile)return best;if(this._positionTile(tile,this.source.tileOverlap,this.viewport,viewportCenter,levelVisibility),!tile.loaded)if(tile.context2D)this._setTileLoaded(tile);else{var imageRecord=this._tileCache.getImageRecord(tile.cacheKey);imageRecord&&this._setTileLoaded(tile,imageRecord.getData())}tile.loaded?this._blendTile(tile,x,y,level,levelOpacity,currentTime)&&(this._needsDraw=!0):tile.loading?this._tilesLoading++:loadingCoverage||(best=this._compareTiles(best,tile));return best},_getTile:function(x,y,level,time,numTiles,worldWidth,worldHeight){var xMod,yMod,bounds,sourceBounds,exists,urlOrGetter,post,ajaxHeaders,context2D,tile,tilesMatrix=this.tilesMatrix,tileSource=this.source;return tilesMatrix[level]||(tilesMatrix[level]={}),tilesMatrix[level][x]||(tilesMatrix[level][x]={}),tilesMatrix[level][x][y]&&!tilesMatrix[level][x][y].flipped==!this.flipped||(xMod=(numTiles.x+x%numTiles.x)%numTiles.x,yMod=(numTiles.y+y%numTiles.y)%numTiles.y,bounds=this.getTileBounds(level,x,y),sourceBounds=tileSource.getTileBounds(level,xMod,yMod,!0),exists=tileSource.tileExists(level,xMod,yMod),urlOrGetter=tileSource.getTileUrl(level,xMod,yMod),post=tileSource.getTilePostData(level,xMod,yMod),this.loadTilesWithAjax?(ajaxHeaders=tileSource.getTileAjaxHeaders(level,xMod,yMod),$.isPlainObject(this.ajaxHeaders)&&(ajaxHeaders=$.extend({},this.ajaxHeaders,ajaxHeaders))):ajaxHeaders=null,context2D=tileSource.getContext2D?tileSource.getContext2D(level,xMod,yMod):void 0,tile=new $.Tile(level,x,y,bounds,exists,urlOrGetter,context2D,this.loadTilesWithAjax,ajaxHeaders,sourceBounds,post,tileSource.getTileHashKey(level,xMod,yMod,urlOrGetter,ajaxHeaders,post)),this.getFlip()?0===xMod&&(tile.isRightMost=!0):xMod===numTiles.x-1&&(tile.isRightMost=!0),yMod===numTiles.y-1&&(tile.isBottomMost=!0),tile.flipped=this.flipped,tilesMatrix[level][x][y]=tile),(tile=tilesMatrix[level][x][y]).lastTouchTime=time,tile},_loadTile:function(tile,time){var _this=this;tile.loading=!0,this._imageLoader.addJob({src:tile.getUrl(),tile,source:this.source,postData:tile.postData,loadWithAjax:tile.loadWithAjax,ajaxHeaders:tile.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(data,errorMsg,tileRequest){_this._onTileLoad(tile,time,data,errorMsg,tileRequest)},abort:function(){tile.loading=!1}})},_onTileLoad:function(tile,time,data,errorMsg,tileRequest){if(!data)return $.console.error("Tile %s failed to load: %s - error: %s",tile,tile.getUrl(),errorMsg),this.viewer.raiseEvent("tile-load-failed",{tile,tiledImage:this,time,message:errorMsg,tileRequest}),tile.loading=!1,void(tile.exists=!1);if(tile.exists=!0,time<this.lastResetTime)return $.console.warn("Ignoring tile %s loaded before reset: %s",tile,tile.getUrl()),void(tile.loading=!1);var _this=this,finish=function(){var cutoff=_this.source.getClosestLevel();_this._setTileLoaded(tile,data,cutoff,tileRequest)};this._midDraw?window.setTimeout(finish,1):finish()},_setTileLoaded:function(tile,data,cutoff,tileRequest){var increment=0,eventFinished=!1,_this=this;function getCompletionCallback(){return eventFinished&&$.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),increment++,completionCallback}function completionCallback(){0===--increment&&(tile.loading=!1,tile.loaded=!0,tile.hasTransparency=_this.source.hasTransparency(tile.context2D,tile.getUrl(),tile.ajaxHeaders,tile.postData),tile.context2D||_this._tileCache.cacheTile({data,tile,cutoff,tiledImage:_this}),_this._needsDraw=!0)}var fallbackCompletion=getCompletionCallback();this.viewer.raiseEvent("tile-loaded",{tile,tiledImage:this,tileRequest,get image(){return $.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),data},data,getCompletionCallback}),eventFinished=!0,fallbackCompletion()},_positionTile:function(tile,overlap,viewport,viewportCenter,levelVisibility){var boundsTL=tile.bounds.getTopLeft();boundsTL.x*=this._scaleSpring.current.value,boundsTL.y*=this._scaleSpring.current.value,boundsTL.x+=this._xSpring.current.value,boundsTL.y+=this._ySpring.current.value;var boundsSize=tile.bounds.getSize();boundsSize.x*=this._scaleSpring.current.value,boundsSize.y*=this._scaleSpring.current.value;var positionC=viewport.pixelFromPointNoRotate(boundsTL,!0),positionT=viewport.pixelFromPointNoRotate(boundsTL,!1),sizeC=viewport.deltaPixelsFromPointsNoRotate(boundsSize,!0),sizeT=viewport.deltaPixelsFromPointsNoRotate(boundsSize,!1),tileCenter=positionT.plus(sizeT.divide(2)),tileSquaredDistance=viewportCenter.squaredDistanceTo(tileCenter);overlap||(sizeC=sizeC.plus(new $.Point(1,1))),tile.isRightMost&&this.wrapHorizontal&&(sizeC.x+=.75),tile.isBottomMost&&this.wrapVertical&&(sizeC.y+=.75),tile.position=positionC,tile.size=sizeC,tile.squaredDistance=tileSquaredDistance,tile.visibility=levelVisibility},_blendTile:function(tile,x,y,level,levelOpacity,currentTime){var deltaTime,opacity,blendTimeMillis=1e3*this.blendTime;if(tile.blendStart||(tile.blendStart=currentTime),deltaTime=currentTime-tile.blendStart,opacity=blendTimeMillis?Math.min(1,deltaTime/blendTimeMillis):1,this.alwaysBlend&&(opacity*=levelOpacity),tile.opacity=opacity,this.lastDrawn.push(tile),1===opacity)this._setCoverage(this.coverage,level,x,y,!0),this._hasOpaqueTile=!0;else if(deltaTime<blendTimeMillis)return!0;return!1},_compareTiles:function(previousBest,tile){return previousBest?tile.visibility>previousBest.visibility||tile.visibility===previousBest.visibility&&tile.squaredDistance<previousBest.squaredDistance?tile:previousBest:tile},_drawTiles:function(lastDrawn){if(0!==this.opacity&&(0!==lastDrawn.length||this.placeholderFillStyle)){var useSketch,sketchScale,sketchTranslate,tile=lastDrawn[0];tile&&(useSketch=this.opacity<1||this.compositeOperation&&"source-over"!==this.compositeOperation||!this._isBottomItem()&&this.source.hasTransparency(tile.context2D,tile.getUrl(),tile.ajaxHeaders,tile.postData));var bounds,zoom=this.viewport.getZoom(!0),imageZoom=this.viewportToImageZoom(zoom);lastDrawn.length>1&&imageZoom>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360==0&&$.supportsCanvas&&this.viewer.useCanvas&&(useSketch=!0,sketchScale=tile.getScaleForEdgeSmoothing(),sketchTranslate=tile.getTranslationForEdgeSmoothing(sketchScale,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0))),useSketch&&(sketchScale||(bounds=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0||(bounds.x=this._drawer.viewer.container.clientWidth-(bounds.x+bounds.width))),bounds=bounds.times($.pixelDensityRatio)),this._drawer._clear(!0,bounds)),sketchScale||(this.viewport.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch}),this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var usedClip=!1;if(this._clip){this._drawer.saveContext(useSketch);var box=this.imageToViewportRectangle(this._clip,!0);box=box.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var clipRect=this._drawer.viewportToDrawerRectangle(box);sketchScale&&(clipRect=clipRect.times(sketchScale)),sketchTranslate&&(clipRect=clipRect.translate(sketchTranslate)),this._drawer.setClip(clipRect,useSketch),usedClip=!0}if(this._croppingPolygons){var self=this;this._drawer.saveContext(useSketch);try{var polygons=this._croppingPolygons.map((function(polygon){return polygon.map((function(coord){var point=self.imageToViewportCoordinates(coord.x,coord.y,!0).rotate(-self.getRotation(!0),self._getRotationPoint(!0)),clipPoint=self._drawer.viewportCoordToDrawerCoord(point);return sketchScale&&(clipPoint=clipPoint.times(sketchScale)),sketchTranslate&&(clipPoint=clipPoint.plus(sketchTranslate)),clipPoint}))}));this._drawer.clipWithPolygons(polygons,useSketch)}catch(e){$.console.error(e)}usedClip=!0}if(this.placeholderFillStyle&&!1===this._hasOpaqueTile){var placeholderRect=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));sketchScale&&(placeholderRect=placeholderRect.times(sketchScale)),sketchTranslate&&(placeholderRect=placeholderRect.translate(sketchTranslate));var fillStyle=null;fillStyle="function"==typeof this.placeholderFillStyle?this.placeholderFillStyle(this,this._drawer.context):this.placeholderFillStyle,this._drawer.drawRectangle(placeholderRect,fillStyle,useSketch)}var subPixelRoundingRule=function determineSubPixelRoundingRule(subPixelRoundingRules){if("number"==typeof subPixelRoundingRules)return normalizeSubPixelRoundingRule(subPixelRoundingRules);if(!subPixelRoundingRules||!$.Browser)return DEFAULT_SUBPIXEL_ROUNDING_RULE;var subPixelRoundingRule=subPixelRoundingRules[$.Browser.vendor];isSubPixelRoundingRuleUnknown(subPixelRoundingRule)&&(subPixelRoundingRule=subPixelRoundingRules["*"]);return normalizeSubPixelRoundingRule(subPixelRoundingRule)}(this.subPixelRoundingForTransparency),shouldRoundPositionAndSize=!1;if(subPixelRoundingRule===$.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)shouldRoundPositionAndSize=!0;else if(subPixelRoundingRule===$.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){shouldRoundPositionAndSize=!(this.viewer&&this.viewer.isAnimating())}for(var i=lastDrawn.length-1;i>=0;i--)tile=lastDrawn[i],this._drawer.drawTile(tile,this._drawingHandler,useSketch,sketchScale,sketchTranslate,shouldRoundPositionAndSize,this.source),tile.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile});usedClip&&this._drawer.restoreContext(useSketch),sketchScale||(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(useSketch),this.viewport.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(useSketch)),useSketch&&(sketchScale&&(this.viewport.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:!1}),this.getRotation(!0)%360!=0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:sketchScale,translate:sketchTranslate,compositeOperation:this.compositeOperation,bounds}),sketchScale&&(this.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._drawer._restoreRotationChanges(!1))),sketchScale||this.viewport.getRotation(!0)%360==0&&this.getRotation(!0)%360==0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(lastDrawn)}},_drawDebugInfo:function(lastDrawn){if(this.debugMode)for(var i=lastDrawn.length-1;i>=0;i--){var tile=lastDrawn[i];try{this._drawer.drawDebugInfo(tile,lastDrawn.length,i,this)}catch(e){$.console.error(e)}}},_providesCoverage:function(coverage,level,x,y){var rows,cols,i,j;if(!coverage[level])return!1;if(void 0===x||void 0===y){for(i in rows=coverage[level])if(Object.prototype.hasOwnProperty.call(rows,i))for(j in cols=rows[i])if(Object.prototype.hasOwnProperty.call(cols,j)&&!cols[j])return!1;return!0}return void 0===coverage[level][x]||void 0===coverage[level][x][y]||!0===coverage[level][x][y]},_isCovered:function(coverage,level,x,y){return void 0===x||void 0===y?this._providesCoverage(coverage,level+1):this._providesCoverage(coverage,level+1,2*x,2*y)&&this._providesCoverage(coverage,level+1,2*x,2*y+1)&&this._providesCoverage(coverage,level+1,2*x+1,2*y)&&this._providesCoverage(coverage,level+1,2*x+1,2*y+1)},_setCoverage:function(coverage,level,x,y,covers){coverage[level]?(coverage[level][x]||(coverage[level][x]={}),coverage[level][x][y]=covers):$.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",level)},_resetCoverage:function(coverage,level){coverage[level]={}}});var DEFAULT_SUBPIXEL_ROUNDING_RULE=$.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function isSubPixelRoundingRuleUnknown(value){return value!==$.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&value!==$.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&value!==$.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function normalizeSubPixelRoundingRule(value){return isSubPixelRoundingRuleUnknown(value)?DEFAULT_SUBPIXEL_ROUNDING_RULE:value}}(OpenSeadragon),function($){var TileRecord=function(options){$.console.assert(options,"[TileCache.cacheTile] options is required"),$.console.assert(options.tile,"[TileCache.cacheTile] options.tile is required"),$.console.assert(options.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=options.tile,this.tiledImage=options.tiledImage},ImageRecord=function(options){$.console.assert(options,"[ImageRecord] options is required"),$.console.assert(options.data,"[ImageRecord] options.data is required"),this._tiles=[],options.create.apply(null,[this,options.data,options.ownerTile]),this._destroyImplementation=options.destroy.bind(null,this),this.getImage=options.getImage.bind(null,this),this.getData=options.getData.bind(null,this),this.getRenderedContext=options.getRenderedContext.bind(null,this)};ImageRecord.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(tile){$.console.assert(tile,"[ImageRecord.addTile] tile is required"),this._tiles.push(tile)},removeTile:function(tile){for(var i=0;i<this._tiles.length;i++)if(this._tiles[i]===tile)return void this._tiles.splice(i,1);$.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",tile)},getTileCount:function(){return this._tiles.length}},$.TileCache=function(options){options=options||{},this._maxImageCacheCount=options.maxImageCacheCount||$.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},$.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(options){$.console.assert(options,"[TileCache.cacheTile] options is required"),$.console.assert(options.tile,"[TileCache.cacheTile] options.tile is required"),$.console.assert(options.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),$.console.assert(options.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var cutoff=options.cutoff||0,insertionIndex=this._tilesLoaded.length,imageRecord=this._imagesLoaded[options.tile.cacheKey];if(imageRecord||(options.data||($.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),options.data=options.image),$.console.assert(options.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),imageRecord=this._imagesLoaded[options.tile.cacheKey]=new ImageRecord({data:options.data,ownerTile:options.tile,create:options.tiledImage.source.createTileCache,destroy:options.tiledImage.source.destroyTileCache,getImage:options.tiledImage.source.getTileCacheDataAsImage,getData:options.tiledImage.source.getTileCacheData,getRenderedContext:options.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),imageRecord.addTile(options.tile),options.tile.cacheImageRecord=imageRecord,this._imagesLoadedCount>this._maxImageCacheCount){for(var prevTile,worstTime,worstLevel,prevTime,prevLevel,prevTileRecord,worstTile=null,worstTileIndex=-1,worstTileRecord=null,i=this._tilesLoaded.length-1;i>=0;i--)(prevTile=(prevTileRecord=this._tilesLoaded[i]).tile).level<=cutoff||prevTile.beingDrawn||(worstTile?(prevTime=prevTile.lastTouchTime,worstTime=worstTile.lastTouchTime,prevLevel=prevTile.level,worstLevel=worstTile.level,(prevTime<worstTime||prevTime===worstTime&&prevLevel>worstLevel)&&(worstTile=prevTile,worstTileIndex=i,worstTileRecord=prevTileRecord)):(worstTile=prevTile,worstTileIndex=i,worstTileRecord=prevTileRecord));worstTile&&worstTileIndex>=0&&(this._unloadTile(worstTileRecord),insertionIndex=worstTileIndex)}this._tilesLoaded[insertionIndex]=new TileRecord({tile:options.tile,tiledImage:options.tiledImage})},clearTilesFor:function(tiledImage){var tileRecord;$.console.assert(tiledImage,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(tileRecord=this._tilesLoaded[i]).tiledImage===tiledImage&&(this._unloadTile(tileRecord),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(cacheKey){return $.console.assert(cacheKey,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[cacheKey]},_unloadTile:function(tileRecord){$.console.assert(tileRecord,"[TileCache._unloadTile] tileRecord is required");var tile=tileRecord.tile,tiledImage=tileRecord.tiledImage;tile.unload(),tile.cacheImageRecord=null;var imageRecord=this._imagesLoaded[tile.cacheKey];imageRecord.removeTile(tile),imageRecord.getTileCount()||(imageRecord.destroy(),delete this._imagesLoaded[tile.cacheKey],this._imagesLoadedCount--),tiledImage.viewer.raiseEvent("tile-unloaded",{tile,tiledImage})}}}(OpenSeadragon),function($){$.World=function(options){var _this=this;$.console.assert(options.viewer,"[World] options.viewer is required"),$.EventSource.call(this),this.viewer=options.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(event){_this._autoRefigureSizes?_this._figureSizes():_this._needsSizesFigured=!0},this._figureSizes()},$.extend($.World.prototype,$.EventSource.prototype,{addItem:function(item,options){if($.console.assert(item,"[World.addItem] item is required"),$.console.assert(item instanceof $.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(options=options||{}).index){var index=Math.max(0,Math.min(this._items.length,options.index));this._items.splice(index,0,item)}else this._items.push(item);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,item.addHandler("bounds-change",this._delegatedFigureSizes),item.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item})},getItemAt:function(index){return $.console.assert(void 0!==index,"[World.getItemAt] index is required"),this._items[index]},getIndexOfItem:function(item){return $.console.assert(item,"[World.getIndexOfItem] item is required"),$.indexOf(this._items,item)},getItemCount:function(){return this._items.length},setItemIndex:function(item,index){$.console.assert(item,"[World.setItemIndex] item is required"),$.console.assert(void 0!==index,"[World.setItemIndex] index is required");var oldIndex=this.getIndexOfItem(item);if(index>=this._items.length)throw new Error("Index bigger than number of layers.");index!==oldIndex&&-1!==oldIndex&&(this._items.splice(oldIndex,1),this._items.splice(index,0,item),this._needsDraw=!0,this.raiseEvent("item-index-change",{item,previousIndex:oldIndex,newIndex:index}))},removeItem:function(item){$.console.assert(item,"[World.removeItem] item is required");var index=$.indexOf(this._items,item);-1!==index&&(item.removeHandler("bounds-change",this._delegatedFigureSizes),item.removeHandler("clip-change",this._delegatedFigureSizes),item.destroy(),this._items.splice(index,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(item))},removeAll:function(){var item,i;for(this.viewer._cancelPendingImages(),i=0;i<this._items.length;i++)(item=this._items[i]).removeHandler("bounds-change",this._delegatedFigureSizes),item.removeHandler("clip-change",this._delegatedFigureSizes),item.destroy();var removedItems=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,i=0;i<removedItems.length;i++)item=removedItems[i],this._raiseRemoveItem(item)},resetItems:function(){for(var i=0;i<this._items.length;i++)this._items[i].reset()},update:function(){for(var animated=!1,i=0;i<this._items.length;i++)animated=this._items[i].update()||animated;return animated},draw:function(){for(var i=0;i<this._items.length;i++)this._items[i].draw();this._needsDraw=!1},needsDraw:function(){for(var i=0;i<this._items.length;i++)if(this._items[i].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(value){this._autoRefigureSizes=value,value&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(options){var wrap,immediately=(options=options||{}).immediately||!1,layout=options.layout||$.DEFAULT_SETTINGS.collectionLayout,rows=options.rows||$.DEFAULT_SETTINGS.collectionRows,columns=options.columns||$.DEFAULT_SETTINGS.collectionColumns,tileSize=options.tileSize||$.DEFAULT_SETTINGS.collectionTileSize,increment=tileSize+(options.tileMargin||$.DEFAULT_SETTINGS.collectionTileMargin);wrap=!options.rows&&columns?columns:Math.ceil(this._items.length/rows);var item,box,width,height,position,x=0,y=0;this.setAutoRefigureSizes(!1);for(var i=0;i<this._items.length;i++)i&&i%wrap==0&&("horizontal"===layout?(y+=increment,x=0):(x+=increment,y=0)),height=(width=(box=(item=this._items[i]).getBounds()).width>box.height?tileSize:tileSize*(box.width/box.height))*(box.height/box.width),position=new $.Point(x+(tileSize-width)/2,y+(tileSize-height)/2),item.setPosition(position,immediately),item.setWidth(width,immediately),"horizontal"===layout?x+=increment:y+=increment;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var oldHomeBounds=this._homeBounds?this._homeBounds.clone():null,oldContentSize=this._contentSize?this._contentSize.clone():null,oldContentFactor=this._contentFactor||0;if(this._items.length){var item=this._items[0],bounds=item.getBounds();this._contentFactor=item.getContentSize().x/bounds.width;for(var clippedBounds=item.getClippedBounds().getBoundingBox(),left=clippedBounds.x,top=clippedBounds.y,right=clippedBounds.x+clippedBounds.width,bottom=clippedBounds.y+clippedBounds.height,i=1;i<this._items.length;i++)bounds=(item=this._items[i]).getBounds(),this._contentFactor=Math.max(this._contentFactor,item.getContentSize().x/bounds.width),clippedBounds=item.getClippedBounds().getBoundingBox(),left=Math.min(left,clippedBounds.x),top=Math.min(top,clippedBounds.y),right=Math.max(right,clippedBounds.x+clippedBounds.width),bottom=Math.max(bottom,clippedBounds.y+clippedBounds.height);this._homeBounds=new $.Rect(left,top,right-left,bottom-top),this._contentSize=new $.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new $.Rect(0,0,1,1),this._contentSize=new $.Point(1,1),this._contentFactor=1;this._contentFactor===oldContentFactor&&this._homeBounds.equals(oldHomeBounds)&&this._contentSize.equals(oldContentSize)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(item){this.raiseEvent("remove-item",{item})}})}(OpenSeadragon)},"./node_modules/react-icons/fa/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MZt:()=>FaArrowCircleLeft,Wgy:()=>FaArrowCircleRight});var react=__webpack_require__("./node_modules/react/index.js"),DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=react.createContext&&react.createContext(DefaultContext),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};function Tree2Element(tree){return tree&&tree.map((function(node,i){return react.createElement(node.tag,__assign({key:i},node.attr),Tree2Element(node.child))}))}function iconBase_GenIcon(data){return function(props){return react.createElement(IconBase,__assign({attr:__assign({},data.attr)},props),Tree2Element(data.child))}}function IconBase(props){var elem=function(conf){var className,attr=props.attr,size=props.size,title=props.title,svgProps=__rest(props,["attr","size","title"]),computedSize=size||conf.size||"1em";return conf.className&&(className=conf.className),props.className&&(className=(className?className+" ":"")+props.className),react.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},conf.attr,attr,svgProps,{className,style:__assign(__assign({color:props.color||conf.color},conf.style),props.style),height:computedSize,width:computedSize,xmlns:"http://www.w3.org/2000/svg"}),title&&react.createElement("title",null,title),props.children)};return void 0!==IconContext?react.createElement(IconContext.Consumer,null,(function(conf){return elem(conf)})):elem(DefaultContext)}function FaArrowCircleLeft(props){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"}}]})(props)}function FaArrowCircleRight(props){return iconBase_GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"}}]})(props)}},"./node_modules/react-infinite-scroller/dist/InfiniteScroll.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__("./node_modules/react/index.js"),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var InfiniteScroll=function(_Component){function InfiniteScroll(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InfiniteScroll);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(InfiniteScroll.__proto__||Object.getPrototypeOf(InfiniteScroll)).call(this,props));return _this.scrollListener=_this.scrollListener.bind(_this),_this.eventListenerOptions=_this.eventListenerOptions.bind(_this),_this.mousewheelListener=_this.mousewheelListener.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(InfiniteScroll,_Component),_createClass(InfiniteScroll,[{key:"componentDidMount",value:function componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function componentDidUpdate(){if(this.props.isReverse&&this.loadMore){var parentElement=this.getParentElement(this.scrollComponent);parentElement.scrollTop=parentElement.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function isPassiveSupported(){var passive=!1,testOptions={get passive(){passive=!0}};try{document.addEventListener("test",null,testOptions),document.removeEventListener("test",null,testOptions)}catch(e){}return passive}},{key:"eventListenerOptions",value:function eventListenerOptions(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function setDefaultLoader(loader){this.defaultLoader=loader}},{key:"detachMousewheelListener",value:function detachMousewheelListener(){var scrollEl=window;!1===this.props.useWindow&&(scrollEl=this.scrollComponent.parentNode),scrollEl.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function detachScrollListener(){var scrollEl=window;!1===this.props.useWindow&&(scrollEl=this.getParentElement(this.scrollComponent)),scrollEl.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),scrollEl.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function getParentElement(el){var scrollParent=this.props.getScrollParent&&this.props.getScrollParent();return null!=scrollParent?scrollParent:el&&el.parentNode}},{key:"filterProps",value:function filterProps(props){return props}},{key:"attachScrollListener",value:function attachScrollListener(){var parentElement=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&parentElement){var scrollEl=window;!1===this.props.useWindow&&(scrollEl=parentElement),scrollEl.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),scrollEl.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),scrollEl.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function mousewheelListener(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function scrollListener(){var el=this.scrollComponent,scrollEl=window,parentNode=this.getParentElement(el),offset=void 0;if(this.props.useWindow){var doc=document.documentElement||document.body.parentNode||document.body,scrollTop=void 0!==scrollEl.pageYOffset?scrollEl.pageYOffset:doc.scrollTop;offset=this.props.isReverse?scrollTop:this.calculateOffset(el,scrollTop)}else offset=this.props.isReverse?parentNode.scrollTop:el.scrollHeight-parentNode.scrollTop-parentNode.clientHeight;offset<Number(this.props.threshold)&&el&&null!==el.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=parentNode.scrollHeight,this.beforeScrollTop=parentNode.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function calculateOffset(el,scrollTop){return el?this.calculateTopPosition(el)+(el.offsetHeight-scrollTop-window.innerHeight):0}},{key:"calculateTopPosition",value:function calculateTopPosition(el){return el?el.offsetTop+this.calculateTopPosition(el.offsetParent):0}},{key:"render",value:function render(){var _this2=this,renderProps=this.filterProps(this.props),children=renderProps.children,element=renderProps.element,hasMore=renderProps.hasMore,isReverse=(renderProps.initialLoad,renderProps.isReverse),loader=renderProps.loader,ref=(renderProps.loadMore,renderProps.pageStart,renderProps.ref),props=(renderProps.threshold,renderProps.useCapture,renderProps.useWindow,renderProps.getScrollParent,function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(renderProps,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));props.ref=function(node){_this2.scrollComponent=node,ref&&ref(node)};var childrenArray=[children];return hasMore&&(loader?isReverse?childrenArray.unshift(loader):childrenArray.push(loader):this.defaultLoader&&(isReverse?childrenArray.unshift(this.defaultLoader):childrenArray.push(this.defaultLoader))),_react2.default.createElement(element,props,childrenArray)}}]),InfiniteScroll}(_react.Component);InfiniteScroll.propTypes={children:_propTypes2.default.node.isRequired,element:_propTypes2.default.node,hasMore:_propTypes2.default.bool,initialLoad:_propTypes2.default.bool,isReverse:_propTypes2.default.bool,loader:_propTypes2.default.node,loadMore:_propTypes2.default.func.isRequired,pageStart:_propTypes2.default.number,ref:_propTypes2.default.func,getScrollParent:_propTypes2.default.func,threshold:_propTypes2.default.number,useCapture:_propTypes2.default.bool,useWindow:_propTypes2.default.bool},InfiniteScroll.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},exports.default=InfiniteScroll,module.exports=exports.default},"./node_modules/react-infinite-scroller/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react-infinite-scroller/dist/InfiniteScroll.js")},"./node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var b=60103,c=60106,d=60107,e=60108,f=60114,g=60109,h=60110,k=60112,l=60113,m=60120,n=60115,p=60116,q=60121,r=60122,u=60117,v=60129,w=60131;if("function"==typeof Symbol&&Symbol.for){var x=Symbol.for;b=x("react.element"),c=x("react.portal"),d=x("react.fragment"),e=x("react.strict_mode"),f=x("react.profiler"),g=x("react.provider"),h=x("react.context"),k=x("react.forward_ref"),l=x("react.suspense"),m=x("react.suspense_list"),n=x("react.memo"),p=x("react.lazy"),q=x("react.block"),r=x("react.server.block"),u=x("react.fundamental"),v=x("react.debug_trace_mode"),w=x("react.legacy_hidden")}function y(a){if("object"==typeof a&&null!==a){var t=a.$$typeof;switch(t){case b:switch(a=a.type){case d:case f:case e:case l:case m:return a;default:switch(a=a&&a.$$typeof){case h:case k:case p:case n:case g:return a;default:return t}}case c:return t}}}},"./node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-markdown/lib/react-markdown.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>ReactMarkdown});var constructs_namespaceObject={};__webpack_require__.r(constructs_namespaceObject),__webpack_require__.d(constructs_namespaceObject,{attentionMarkers:()=>attentionMarkers,contentInitial:()=>contentInitial,disable:()=>disable,document:()=>constructs_document,flow:()=>constructs_flow,flowInitial:()=>flowInitial,insideSpan:()=>insideSpan,string:()=>constructs_string,text:()=>constructs_text});var types_namespaceObject={};__webpack_require__.r(types_namespaceObject),__webpack_require__.d(types_namespaceObject,{boolean:()=>types_boolean,booleanish:()=>booleanish,commaOrSpaceSeparated:()=>commaOrSpaceSeparated,commaSeparated:()=>commaSeparated,number:()=>number,overloadedBoolean:()=>overloadedBoolean,spaceSeparated:()=>spaceSeparated});var react=__webpack_require__("./node_modules/react/index.js"),is_buffer=__webpack_require__("./node_modules/is-buffer/index.js"),is_buffer_default=__webpack_require__.n(is_buffer);function stringifyPosition(value){return value&&"object"==typeof value?"position"in value||"type"in value?position(value.position):"start"in value||"end"in value?position(value):"line"in value||"column"in value?point(value):"":""}function point(point){return index(point&&point.line)+":"+index(point&&point.column)}function position(pos){return point(pos&&pos.start)+"-"+point(pos&&pos.end)}function index(value){return value&&"number"==typeof value?value:1}class VFileMessage extends Error{constructor(reason,place,origin){const parts=[null,null];let position={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof place&&(origin=place,place=void 0),"string"==typeof origin){const index=origin.indexOf(":");-1===index?parts[1]=origin:(parts[0]=origin.slice(0,index),parts[1]=origin.slice(index+1))}place&&("type"in place||"position"in place?place.position&&(position=place.position):"start"in place||"end"in place?position=place:("line"in place||"column"in place)&&(position.start=place)),this.name=stringifyPosition(place)||"1:1",this.message="object"==typeof reason?reason.message:reason,this.stack="","object"==typeof reason&&reason.stack&&(this.stack=reason.stack),this.reason=this.message,this.fatal,this.line=position.start.line,this.column=position.start.column,this.position=position,this.source=parts[0],this.ruleId=parts[1],this.file,this.actual,this.expected,this.url,this.note}}VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.fatal=null,VFileMessage.prototype.column=null,VFileMessage.prototype.line=null,VFileMessage.prototype.source=null,VFileMessage.prototype.ruleId=null,VFileMessage.prototype.position=null;const path={basename:function basename(path,ext){if(void 0!==ext&&"string"!=typeof ext)throw new TypeError('"ext" argument must be a string');assertPath(path);let seenNonSlash,start=0,end=-1,index=path.length;if(void 0===ext||0===ext.length||ext.length>path.length){for(;index--;)if(47===path.charCodeAt(index)){if(seenNonSlash){start=index+1;break}}else end<0&&(seenNonSlash=!0,end=index+1);return end<0?"":path.slice(start,end)}if(ext===path)return"";let firstNonSlashEnd=-1,extIndex=ext.length-1;for(;index--;)if(47===path.charCodeAt(index)){if(seenNonSlash){start=index+1;break}}else firstNonSlashEnd<0&&(seenNonSlash=!0,firstNonSlashEnd=index+1),extIndex>-1&&(path.charCodeAt(index)===ext.charCodeAt(extIndex--)?extIndex<0&&(end=index):(extIndex=-1,end=firstNonSlashEnd));start===end?end=firstNonSlashEnd:end<0&&(end=path.length);return path.slice(start,end)},dirname:function dirname(path){if(assertPath(path),0===path.length)return".";let unmatchedSlash,end=-1,index=path.length;for(;--index;)if(47===path.charCodeAt(index)){if(unmatchedSlash){end=index;break}}else unmatchedSlash||(unmatchedSlash=!0);return end<0?47===path.charCodeAt(0)?"/":".":1===end&&47===path.charCodeAt(0)?"//":path.slice(0,end)},extname:function extname(path){assertPath(path);let unmatchedSlash,index=path.length,end=-1,startPart=0,startDot=-1,preDotState=0;for(;index--;){const code=path.charCodeAt(index);if(47!==code)end<0&&(unmatchedSlash=!0,end=index+1),46===code?startDot<0?startDot=index:1!==preDotState&&(preDotState=1):startDot>-1&&(preDotState=-1);else if(unmatchedSlash){startPart=index+1;break}}if(startDot<0||end<0||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1)return"";return path.slice(startDot,end)},join:function join(...segments){let joined,index=-1;for(;++index<segments.length;)assertPath(segments[index]),segments[index]&&(joined=void 0===joined?segments[index]:joined+"/"+segments[index]);return void 0===joined?".":function normalize(path){assertPath(path);const absolute=47===path.charCodeAt(0);let value=function normalizeString(path,allowAboveRoot){let code,lastSlashIndex,result="",lastSegmentLength=0,lastSlash=-1,dots=0,index=-1;for(;++index<=path.length;){if(index<path.length)code=path.charCodeAt(index);else{if(47===code)break;code=47}if(47===code){if(lastSlash===index-1||1===dots);else if(lastSlash!==index-1&&2===dots){if(result.length<2||2!==lastSegmentLength||46!==result.charCodeAt(result.length-1)||46!==result.charCodeAt(result.length-2))if(result.length>2){if(lastSlashIndex=result.lastIndexOf("/"),lastSlashIndex!==result.length-1){lastSlashIndex<0?(result="",lastSegmentLength=0):(result=result.slice(0,lastSlashIndex),lastSegmentLength=result.length-1-result.lastIndexOf("/")),lastSlash=index,dots=0;continue}}else if(result.length>0){result="",lastSegmentLength=0,lastSlash=index,dots=0;continue}allowAboveRoot&&(result=result.length>0?result+"/..":"..",lastSegmentLength=2)}else result.length>0?result+="/"+path.slice(lastSlash+1,index):result=path.slice(lastSlash+1,index),lastSegmentLength=index-lastSlash-1;lastSlash=index,dots=0}else 46===code&&dots>-1?dots++:dots=-1}return result}(path,!absolute);0!==value.length||absolute||(value=".");value.length>0&&47===path.charCodeAt(path.length-1)&&(value+="/");return absolute?"/"+value:value}(joined)},sep:"/"};function assertPath(path){if("string"!=typeof path)throw new TypeError("Path must be a string. Received "+JSON.stringify(path))}const proc={cwd:function cwd(){return"/"}};function isUrl(fileUrlOrPath){return null!==fileUrlOrPath&&"object"==typeof fileUrlOrPath&&fileUrlOrPath.href&&fileUrlOrPath.origin}function urlToPath(path){if("string"==typeof path)path=new URL(path);else if(!isUrl(path)){const error=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+path+"`");throw error.code="ERR_INVALID_ARG_TYPE",error}if("file:"!==path.protocol){const error=new TypeError("The URL must be of scheme file");throw error.code="ERR_INVALID_URL_SCHEME",error}return function getPathFromURLPosix(url){if(""!==url.hostname){const error=new TypeError('File URL host must be "localhost" or empty on darwin');throw error.code="ERR_INVALID_FILE_URL_HOST",error}const pathname=url.pathname;let index=-1;for(;++index<pathname.length;)if(37===pathname.charCodeAt(index)&&50===pathname.charCodeAt(index+1)){const third=pathname.charCodeAt(index+2);if(70===third||102===third){const error=new TypeError("File URL path must not include encoded / characters");throw error.code="ERR_INVALID_FILE_URL_PATH",error}}return decodeURIComponent(pathname)}(path)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(value){let options;options=value?"string"==typeof value||function buffer(value){return is_buffer_default()(value)}(value)?{value}:isUrl(value)?{path:value}:value:{},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let prop,index=-1;for(;++index<order.length;){const prop=order[index];prop in options&&void 0!==options[prop]&&null!==options[prop]&&(this[prop]="history"===prop?[...options[prop]]:options[prop])}for(prop in options)order.includes(prop)||(this[prop]=options[prop])}get path(){return this.history[this.history.length-1]}set path(path){isUrl(path)&&(path=urlToPath(path)),assertNonEmpty(path,"path"),this.path!==path&&this.history.push(path)}get dirname(){return"string"==typeof this.path?path.dirname(this.path):void 0}set dirname(dirname){lib_assertPath(this.basename,"dirname"),this.path=path.join(dirname||"",this.basename)}get basename(){return"string"==typeof this.path?path.basename(this.path):void 0}set basename(basename){assertNonEmpty(basename,"basename"),assertPart(basename,"basename"),this.path=path.join(this.dirname||"",basename)}get extname(){return"string"==typeof this.path?path.extname(this.path):void 0}set extname(extname){if(assertPart(extname,"extname"),lib_assertPath(this.dirname,"extname"),extname){if(46!==extname.charCodeAt(0))throw new Error("`extname` must start with `.`");if(extname.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path.join(this.dirname,this.stem+(extname||""))}get stem(){return"string"==typeof this.path?path.basename(this.path,this.extname):void 0}set stem(stem){assertNonEmpty(stem,"stem"),assertPart(stem,"stem"),this.path=path.join(this.dirname||"",stem+(this.extname||""))}toString(encoding){return(this.value||"").toString(encoding||void 0)}message(reason,place,origin){const message=new VFileMessage(reason,place,origin);return this.path&&(message.name=this.path+":"+message.name,message.file=this.path),message.fatal=!1,this.messages.push(message),message}info(reason,place,origin){const message=this.message(reason,place,origin);return message.fatal=null,message}fail(reason,place,origin){const message=this.message(reason,place,origin);throw message.fatal=!0,message}}function assertPart(part,name){if(part&&part.includes(path.sep))throw new Error("`"+name+"` cannot be a path: did not expect `"+path.sep+"`")}function assertNonEmpty(part,name){if(!part)throw new Error("`"+name+"` cannot be empty")}function lib_assertPath(path,name){if(!path)throw new Error("Setting `"+name+"` requires `path` to be set too")}function bail(error){if(error)throw error}var extend=__webpack_require__("./node_modules/extend/index.js"),extend_default=__webpack_require__.n(extend);function isPlainObject(value){if("object"!=typeof value||null===value)return!1;const prototype=Object.getPrototypeOf(value);return!(null!==prototype&&prototype!==Object.prototype&&null!==Object.getPrototypeOf(prototype)||Symbol.toStringTag in value||Symbol.iterator in value)}function trough(){const fns=[],pipeline={run:function run(...values){let middlewareIndex=-1;const callback=values.pop();if("function"!=typeof callback)throw new TypeError("Expected function as last argument, not "+callback);!function next(error,...output){const fn=fns[++middlewareIndex];let index=-1;if(error)callback(error);else{for(;++index<values.length;)null!==output[index]&&void 0!==output[index]||(output[index]=values[index]);values=output,fn?function wrap(middleware,callback){let called;return wrapped;function wrapped(...parameters){const fnExpectsCallback=middleware.length>parameters.length;let result;fnExpectsCallback&&parameters.push(done);try{result=middleware.apply(this,parameters)}catch(error){if(fnExpectsCallback&&called)throw error;return done(error)}fnExpectsCallback||(result&&result.then&&"function"==typeof result.then?result.then(then,done):result instanceof Error?done(result):then(result))}function done(error,...output){called||(called=!0,callback(error,...output))}function then(value){done(null,value)}}(fn,next)(...output):callback(null,...output)}}(null,...values)},use:function use(middelware){if("function"!=typeof middelware)throw new TypeError("Expected `middelware` to be a function, not "+middelware);return fns.push(middelware),pipeline}};return pipeline}const unified=function base(){const transformers=trough(),attachers=[];let frozen,namespace={},freezeIndex=-1;return processor.data=function data(key,value){if("string"==typeof key)return 2===arguments.length?(assertUnfrozen("data",frozen),namespace[key]=value,processor):own.call(namespace,key)&&namespace[key]||null;if(key)return assertUnfrozen("data",frozen),namespace=key,processor;return namespace},processor.Parser=void 0,processor.Compiler=void 0,processor.freeze=function freeze(){if(frozen)return processor;for(;++freezeIndex<attachers.length;){const[attacher,...options]=attachers[freezeIndex];if(!1===options[0])continue;!0===options[0]&&(options[0]=void 0);const transformer=attacher.call(processor,...options);"function"==typeof transformer&&transformers.use(transformer)}return frozen=!0,freezeIndex=Number.POSITIVE_INFINITY,processor},processor.attachers=attachers,processor.use=function use(value,...options){let settings;if(assertUnfrozen("use",frozen),null==value);else if("function"==typeof value)addPlugin(value,...options);else{if("object"!=typeof value)throw new TypeError("Expected usable value, not `"+value+"`");Array.isArray(value)?addList(value):addPreset(value)}settings&&(namespace.settings=Object.assign(namespace.settings||{},settings));return processor;function add(value){if("function"==typeof value)addPlugin(value);else{if("object"!=typeof value)throw new TypeError("Expected usable value, not `"+value+"`");if(Array.isArray(value)){const[plugin,...options]=value;addPlugin(plugin,...options)}else addPreset(value)}}function addPreset(result){addList(result.plugins),result.settings&&(settings=Object.assign(settings||{},result.settings))}function addList(plugins){let index=-1;if(null==plugins);else{if(!Array.isArray(plugins))throw new TypeError("Expected a list of plugins, not `"+plugins+"`");for(;++index<plugins.length;){add(plugins[index])}}}function addPlugin(plugin,value){let entry,index=-1;for(;++index<attachers.length;)if(attachers[index][0]===plugin){entry=attachers[index];break}entry?(isPlainObject(entry[1])&&isPlainObject(value)&&(value=extend_default()(!0,entry[1],value)),entry[1]=value):attachers.push([...arguments])}},processor.parse=function parse(doc){processor.freeze();const file=vfile(doc),Parser=processor.Parser;if(assertParser("parse",Parser),newable(Parser,"parse"))return new Parser(String(file),file).parse();return Parser(String(file),file)},processor.stringify=function stringify(node,doc){processor.freeze();const file=vfile(doc),Compiler=processor.Compiler;if(assertCompiler("stringify",Compiler),assertNode(node),newable(Compiler,"compile"))return new Compiler(node,file).compile();return Compiler(node,file)},processor.run=function run(node,doc,callback){assertNode(node),processor.freeze(),callback||"function"!=typeof doc||(callback=doc,doc=void 0);if(!callback)return new Promise(executor);function executor(resolve,reject){function done(error,tree,file){tree=tree||node,error?reject(error):resolve?resolve(tree):callback(null,tree,file)}transformers.run(node,vfile(doc),done)}executor(null,callback)},processor.runSync=function runSync(node,file){let result,complete;return processor.run(node,file,done),assertDone("runSync","run",complete),result;function done(error,tree){bail(error),result=tree,complete=!0}},processor.process=function process(doc,callback){if(processor.freeze(),assertParser("process",processor.Parser),assertCompiler("process",processor.Compiler),!callback)return new Promise(executor);function executor(resolve,reject){const file=vfile(doc);function done(error,file){error||!file?reject(error):resolve?resolve(file):callback(null,file)}processor.run(processor.parse(file),file,((error,tree,file)=>{if(!error&&tree&&file){const result=processor.stringify(tree,file);null==result||(!function looksLikeAVFileValue(value){return"string"==typeof value||is_buffer_default()(value)}(result)?file.result=result:file.value=result),done(error,file)}else done(error)}))}executor(null,callback)},processor.processSync=function processSync(doc){let complete;processor.freeze(),assertParser("processSync",processor.Parser),assertCompiler("processSync",processor.Compiler);const file=vfile(doc);return processor.process(file,done),assertDone("processSync","process",complete),file;function done(error){complete=!0,bail(error)}},processor;function processor(){const destination=base();let index=-1;for(;++index<attachers.length;)destination.use(...attachers[index]);return destination.data(extend_default()(!0,{},namespace)),destination}}().freeze(),own={}.hasOwnProperty;function newable(value,name){return"function"==typeof value&&value.prototype&&(function keys(value){let key;for(key in value)if(own.call(value,key))return!0;return!1}(value.prototype)||name in value.prototype)}function assertParser(name,value){if("function"!=typeof value)throw new TypeError("Cannot `"+name+"` without `Parser`")}function assertCompiler(name,value){if("function"!=typeof value)throw new TypeError("Cannot `"+name+"` without `Compiler`")}function assertUnfrozen(name,frozen){if(frozen)throw new Error("Cannot call `"+name+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(node){if(!isPlainObject(node)||"string"!=typeof node.type)throw new TypeError("Expected node, got `"+node+"`")}function assertDone(name,asyncName,complete){if(!complete)throw new Error("`"+name+"` finished async. Use `"+asyncName+"` instead")}function vfile(value){return function looksLikeAVFile(value){return Boolean(value&&"object"==typeof value&&"message"in value&&"messages"in value)}(value)?value:new VFile(value)}const emptyOptions={};function one(value,includeImageAlt,includeHtml){if(function node(value){return Boolean(value&&"object"==typeof value)}(value)){if("value"in value)return"html"!==value.type||includeHtml?value.value:"";if(includeImageAlt&&"alt"in value&&value.alt)return value.alt;if("children"in value)return lib_all(value.children,includeImageAlt,includeHtml)}return Array.isArray(value)?lib_all(value,includeImageAlt,includeHtml):""}function lib_all(values,includeImageAlt,includeHtml){const result=[];let index=-1;for(;++index<values.length;)result[index]=one(values[index],includeImageAlt,includeHtml);return result.join("")}function splice(list,start,remove,items){const end=list.length;let parameters,chunkStart=0;if(start=start<0?-start>end?0:end+start:start>end?end:start,remove=remove>0?remove:0,items.length<1e4)parameters=Array.from(items),parameters.unshift(start,remove),list.splice(...parameters);else for(remove&&list.splice(start,remove);chunkStart<items.length;)parameters=items.slice(chunkStart,chunkStart+1e4),parameters.unshift(start,0),list.splice(...parameters),chunkStart+=1e4,start+=1e4}function push(list,items){return list.length>0?(splice(list,list.length,0,items),list):items}const micromark_util_combine_extensions_hasOwnProperty={}.hasOwnProperty;function syntaxExtension(all,extension){let hook;for(hook in extension){const left=(micromark_util_combine_extensions_hasOwnProperty.call(all,hook)?all[hook]:void 0)||(all[hook]={}),right=extension[hook];let code;if(right)for(code in right){micromark_util_combine_extensions_hasOwnProperty.call(left,code)||(left[code]=[]);const value=right[code];constructs(left[code],Array.isArray(value)?value:value?[value]:[])}}}function constructs(existing,list){let index=-1;const before=[];for(;++index<list.length;)("after"===list[index].add?existing:before).push(list[index]);splice(existing,0,0,before)}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(code){return null!==code&&(code<32||127===code)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(code){return null!==code&&code<-2}function markdownLineEndingOrSpace(code){return null!==code&&(code<0||32===code)}function markdownSpace(code){return-2===code||-1===code||32===code}const unicodePunctuation=regexCheck(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),unicodeWhitespace=regexCheck(/\s/);function regexCheck(regex){return function check(code){return null!==code&&regex.test(String.fromCharCode(code))}}function factorySpace(effects,ok,type,max){const limit=max?max-1:Number.POSITIVE_INFINITY;let size=0;return function start(code){if(markdownSpace(code))return effects.enter(type),prefix(code);return ok(code)};function prefix(code){return markdownSpace(code)&&size++<limit?(effects.consume(code),prefix):(effects.exit(type),ok(code))}}const content={tokenize:function initializeContent(effects){const contentStart=effects.attempt(this.parser.constructs.contentInitial,(function afterContentStartConstruct(code){if(null===code)return void effects.consume(code);return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,contentStart,"linePrefix")}),(function paragraphInitial(code){return effects.enter("paragraph"),lineStart(code)}));let previous;return contentStart;function lineStart(code){const token=effects.enter("chunkText",{contentType:"text",previous});return previous&&(previous.next=token),previous=token,data(code)}function data(code){return null===code?(effects.exit("chunkText"),effects.exit("paragraph"),void effects.consume(code)):markdownLineEnding(code)?(effects.consume(code),effects.exit("chunkText"),lineStart):(effects.consume(code),data)}}};const document_document={tokenize:function initializeDocument(effects){const self=this,stack=[];let childFlow,childToken,lineStartOffset,continued=0;return start;function start(code){if(continued<stack.length){const item=stack[continued];return self.containerState=item[1],effects.attempt(item[0].continuation,documentContinue,checkNewContainers)(code)}return checkNewContainers(code)}function documentContinue(code){if(continued++,self.containerState._closeFlow){self.containerState._closeFlow=void 0,childFlow&&closeFlow();const indexBeforeExits=self.events.length;let point,indexBeforeFlow=indexBeforeExits;for(;indexBeforeFlow--;)if("exit"===self.events[indexBeforeFlow][0]&&"chunkFlow"===self.events[indexBeforeFlow][1].type){point=self.events[indexBeforeFlow][1].end;break}exitContainers(continued);let index=indexBeforeExits;for(;index<self.events.length;)self.events[index][1].end=Object.assign({},point),index++;return splice(self.events,indexBeforeFlow+1,0,self.events.slice(indexBeforeExits)),self.events.length=index,checkNewContainers(code)}return start(code)}function checkNewContainers(code){if(continued===stack.length){if(!childFlow)return documentContinued(code);if(childFlow.currentConstruct&&childFlow.currentConstruct.concrete)return flowStart(code);self.interrupt=Boolean(childFlow.currentConstruct&&!childFlow._gfmTableDynamicInterruptHack)}return self.containerState={},effects.check(containerConstruct,thereIsANewContainer,thereIsNoNewContainer)(code)}function thereIsANewContainer(code){return childFlow&&closeFlow(),exitContainers(continued),documentContinued(code)}function thereIsNoNewContainer(code){return self.parser.lazy[self.now().line]=continued!==stack.length,lineStartOffset=self.now().offset,flowStart(code)}function documentContinued(code){return self.containerState={},effects.attempt(containerConstruct,containerContinue,flowStart)(code)}function containerContinue(code){return continued++,stack.push([self.currentConstruct,self.containerState]),documentContinued(code)}function flowStart(code){return null===code?(childFlow&&closeFlow(),exitContainers(0),void effects.consume(code)):(childFlow=childFlow||self.parser.flow(self.now()),effects.enter("chunkFlow",{contentType:"flow",previous:childToken,_tokenizer:childFlow}),flowContinue(code))}function flowContinue(code){return null===code?(writeToChild(effects.exit("chunkFlow"),!0),exitContainers(0),void effects.consume(code)):markdownLineEnding(code)?(effects.consume(code),writeToChild(effects.exit("chunkFlow")),continued=0,self.interrupt=void 0,start):(effects.consume(code),flowContinue)}function writeToChild(token,eof){const stream=self.sliceStream(token);if(eof&&stream.push(null),token.previous=childToken,childToken&&(childToken.next=token),childToken=token,childFlow.defineSkip(token.start),childFlow.write(stream),self.parser.lazy[token.start.line]){let index=childFlow.events.length;for(;index--;)if(childFlow.events[index][1].start.offset<lineStartOffset&&(!childFlow.events[index][1].end||childFlow.events[index][1].end.offset>lineStartOffset))return;const indexBeforeExits=self.events.length;let seen,point,indexBeforeFlow=indexBeforeExits;for(;indexBeforeFlow--;)if("exit"===self.events[indexBeforeFlow][0]&&"chunkFlow"===self.events[indexBeforeFlow][1].type){if(seen){point=self.events[indexBeforeFlow][1].end;break}seen=!0}for(exitContainers(continued),index=indexBeforeExits;index<self.events.length;)self.events[index][1].end=Object.assign({},point),index++;splice(self.events,indexBeforeFlow+1,0,self.events.slice(indexBeforeExits)),self.events.length=index}}function exitContainers(size){let index=stack.length;for(;index-- >size;){const entry=stack[index];self.containerState=entry[1],entry[0].exit.call(self,effects)}stack.length=size}function closeFlow(){childFlow.write([null]),childToken=void 0,childFlow=void 0,self.containerState._closeFlow=void 0}}},containerConstruct={tokenize:function tokenizeContainer(effects,ok,nok){return factorySpace(effects,effects.attempt(this.parser.constructs.document,ok,nok),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const blankLine={tokenize:function tokenizeBlankLine(effects,ok,nok){return function start(code){return markdownSpace(code)?factorySpace(effects,after,"linePrefix")(code):after(code)};function after(code){return null===code||markdownLineEnding(code)?ok(code):nok(code)}},partial:!0};function subtokenize(events){const jumps={};let event,lineIndex,otherIndex,otherEvent,parameters,subevents,more,index=-1;for(;++index<events.length;){for(;index in jumps;)index=jumps[index];if(event=events[index],index&&"chunkFlow"===event[1].type&&"listItemPrefix"===events[index-1][1].type&&(subevents=event[1]._tokenizer.events,otherIndex=0,otherIndex<subevents.length&&"lineEndingBlank"===subevents[otherIndex][1].type&&(otherIndex+=2),otherIndex<subevents.length&&"content"===subevents[otherIndex][1].type))for(;++otherIndex<subevents.length&&"content"!==subevents[otherIndex][1].type;)"chunkText"===subevents[otherIndex][1].type&&(subevents[otherIndex][1]._isInFirstContentOfListItem=!0,otherIndex++);if("enter"===event[0])event[1].contentType&&(Object.assign(jumps,subcontent(events,index)),index=jumps[index],more=!0);else if(event[1]._container){for(otherIndex=index,lineIndex=void 0;otherIndex--&&(otherEvent=events[otherIndex],"lineEnding"===otherEvent[1].type||"lineEndingBlank"===otherEvent[1].type);)"enter"===otherEvent[0]&&(lineIndex&&(events[lineIndex][1].type="lineEndingBlank"),otherEvent[1].type="lineEnding",lineIndex=otherIndex);lineIndex&&(event[1].end=Object.assign({},events[lineIndex][1].start),parameters=events.slice(lineIndex,index),parameters.unshift(event),splice(events,lineIndex,index-lineIndex+1,parameters))}}return!more}function subcontent(events,eventIndex){const token=events[eventIndex][1],context=events[eventIndex][2];let startPosition=eventIndex-1;const startPositions=[],tokenizer=token._tokenizer||context.parser[token.contentType](token.start),childEvents=tokenizer.events,jumps=[],gaps={};let stream,previous,index=-1,current=token,adjust=0,start=0;const breaks=[start];for(;current;){for(;events[++startPosition][1]!==current;);startPositions.push(startPosition),current._tokenizer||(stream=context.sliceStream(current),current.next||stream.push(null),previous&&tokenizer.defineSkip(current.start),current._isInFirstContentOfListItem&&(tokenizer._gfmTasklistFirstContentOfListItem=!0),tokenizer.write(stream),current._isInFirstContentOfListItem&&(tokenizer._gfmTasklistFirstContentOfListItem=void 0)),previous=current,current=current.next}for(current=token;++index<childEvents.length;)"exit"===childEvents[index][0]&&"enter"===childEvents[index-1][0]&&childEvents[index][1].type===childEvents[index-1][1].type&&childEvents[index][1].start.line!==childEvents[index][1].end.line&&(start=index+1,breaks.push(start),current._tokenizer=void 0,current.previous=void 0,current=current.next);for(tokenizer.events=[],current?(current._tokenizer=void 0,current.previous=void 0):breaks.pop(),index=breaks.length;index--;){const slice=childEvents.slice(breaks[index],breaks[index+1]),start=startPositions.pop();jumps.unshift([start,start+slice.length-1]),splice(events,start,2,slice)}for(index=-1;++index<jumps.length;)gaps[adjust+jumps[index][0]]=adjust+jumps[index][1],adjust+=jumps[index][1]-jumps[index][0]-1;return gaps}const content_content={tokenize:function tokenizeContent(effects,ok){let previous;return function chunkStart(code){return effects.enter("content"),previous=effects.enter("chunkContent",{contentType:"content"}),chunkInside(code)};function chunkInside(code){return null===code?contentEnd(code):markdownLineEnding(code)?effects.check(continuationConstruct,contentContinue,contentEnd)(code):(effects.consume(code),chunkInside)}function contentEnd(code){return effects.exit("chunkContent"),effects.exit("content"),ok(code)}function contentContinue(code){return effects.consume(code),effects.exit("chunkContent"),previous.next=effects.enter("chunkContent",{contentType:"content",previous}),previous=previous.next,chunkInside}},resolve:function resolveContent(events){return subtokenize(events),events}},continuationConstruct={tokenize:function tokenizeContinuation(effects,ok,nok){const self=this;return function startLookahead(code){return effects.exit("chunkContent"),effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,prefixed,"linePrefix")};function prefixed(code){if(null===code||markdownLineEnding(code))return nok(code);const tail=self.events[self.events.length-1];return!self.parser.constructs.disable.null.includes("codeIndented")&&tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?ok(code):effects.interrupt(self.parser.constructs.flow,nok,ok)(code)}},partial:!0};const flow={tokenize:function initializeFlow(effects){const self=this,initial=effects.attempt(blankLine,(function atBlankEnding(code){if(null===code)return void effects.consume(code);return effects.enter("lineEndingBlank"),effects.consume(code),effects.exit("lineEndingBlank"),self.currentConstruct=void 0,initial}),effects.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(effects,effects.attempt(this.parser.constructs.flow,afterConstruct,effects.attempt(content_content,afterConstruct)),"linePrefix")));return initial;function afterConstruct(code){if(null!==code)return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),self.currentConstruct=void 0,initial;effects.consume(code)}}};const resolver={resolveAll:createResolver()},string=initializeFactory("string"),text_text=initializeFactory("text");function initializeFactory(field){return{tokenize:function initializeText(effects){const self=this,constructs=this.parser.constructs[field],text=effects.attempt(constructs,start,notText);return start;function start(code){return atBreak(code)?text(code):notText(code)}function notText(code){if(null!==code)return effects.enter("data"),effects.consume(code),data;effects.consume(code)}function data(code){return atBreak(code)?(effects.exit("data"),text(code)):(effects.consume(code),data)}function atBreak(code){if(null===code)return!0;const list=constructs[code];let index=-1;if(list)for(;++index<list.length;){const item=list[index];if(!item.previous||item.previous.call(self,self.previous))return!0}return!1}},resolveAll:createResolver("text"===field?resolveAllLineSuffixes:void 0)}}function createResolver(extraResolver){return function resolveAllText(events,context){let enter,index=-1;for(;++index<=events.length;)void 0===enter?events[index]&&"data"===events[index][1].type&&(enter=index,index++):events[index]&&"data"===events[index][1].type||(index!==enter+2&&(events[enter][1].end=events[index-1][1].end,events.splice(enter+2,index-enter-2),index=enter+2),enter=void 0);return extraResolver?extraResolver(events,context):events}}function resolveAllLineSuffixes(events,context){let eventIndex=0;for(;++eventIndex<=events.length;)if((eventIndex===events.length||"lineEnding"===events[eventIndex][1].type)&&"data"===events[eventIndex-1][1].type){const data=events[eventIndex-1][1],chunks=context.sliceStream(data);let tabs,index=chunks.length,bufferIndex=-1,size=0;for(;index--;){const chunk=chunks[index];if("string"==typeof chunk){for(bufferIndex=chunk.length;32===chunk.charCodeAt(bufferIndex-1);)size++,bufferIndex--;if(bufferIndex)break;bufferIndex=-1}else if(-2===chunk)tabs=!0,size++;else if(-1!==chunk){index++;break}}if(size){const token={type:eventIndex===events.length||tabs||size<2?"lineSuffix":"hardBreakTrailing",start:{line:data.end.line,column:data.end.column-size,offset:data.end.offset-size,_index:data.start._index+index,_bufferIndex:index?bufferIndex:data.start._bufferIndex+bufferIndex},end:Object.assign({},data.end)};data.end=Object.assign({},token.start),data.start.offset===data.end.offset?Object.assign(data,token):(events.splice(eventIndex,0,["enter",token,context],["exit",token,context]),eventIndex+=2)}eventIndex++}return events}function resolveAll(constructs,events,context){const called=[];let index=-1;for(;++index<constructs.length;){const resolve=constructs[index].resolveAll;resolve&&!called.includes(resolve)&&(events=resolve(events,context),called.push(resolve))}return events}function createTokenizer(parser,initialize,from){let point=Object.assign(from?Object.assign({},from):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const columnStart={},resolveAllConstructs=[];let chunks=[],stack=[],consumed=!0;const effects={consume:function consume(code){markdownLineEnding(code)?(point.line++,point.column=1,point.offset+=-3===code?2:1,accountForPotentialSkip()):-1!==code&&(point.column++,point.offset++);point._bufferIndex<0?point._index++:(point._bufferIndex++,point._bufferIndex===chunks[point._index].length&&(point._bufferIndex=-1,point._index++));context.previous=code,consumed=!0},enter:function enter(type,fields){const token=fields||{};return token.type=type,token.start=now(),context.events.push(["enter",token,context]),stack.push(token),token},exit:function exit(type){const token=stack.pop();return token.end=now(),context.events.push(["exit",token,context]),token},attempt:constructFactory((function onsuccessfulconstruct(construct,info){addResult(construct,info.from)})),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},context={previous:null,code:null,containerState:{},events:[],parser,sliceStream,sliceSerialize:function sliceSerialize(token,expandTabs){return function serializeChunks(chunks,expandTabs){let index=-1;const result=[];let atTab;for(;++index<chunks.length;){const chunk=chunks[index];let value;if("string"==typeof chunk)value=chunk;else switch(chunk){case-5:value="\r";break;case-4:value="\n";break;case-3:value="\r\n";break;case-2:value=expandTabs?" ":"\t";break;case-1:if(!expandTabs&&atTab)continue;value=" ";break;default:value=String.fromCharCode(chunk)}atTab=-2===chunk,result.push(value)}return result.join("")}(sliceStream(token),expandTabs)},now,defineSkip:function defineSkip(value){columnStart[value.line]=value.column,accountForPotentialSkip()},write:function write(slice){if(chunks=push(chunks,slice),main(),null!==chunks[chunks.length-1])return[];return addResult(initialize,0),context.events=resolveAll(resolveAllConstructs,context.events,context),context.events}};let expectedCode,state=initialize.tokenize.call(context,effects);return initialize.resolveAll&&resolveAllConstructs.push(initialize),context;function sliceStream(token){return function sliceChunks(chunks,token){const startIndex=token.start._index,startBufferIndex=token.start._bufferIndex,endIndex=token.end._index,endBufferIndex=token.end._bufferIndex;let view;if(startIndex===endIndex)view=[chunks[startIndex].slice(startBufferIndex,endBufferIndex)];else{if(view=chunks.slice(startIndex,endIndex),startBufferIndex>-1){const head=view[0];"string"==typeof head?view[0]=head.slice(startBufferIndex):view.shift()}endBufferIndex>0&&view.push(chunks[endIndex].slice(0,endBufferIndex))}return view}(chunks,token)}function now(){const{line,column,offset,_index,_bufferIndex}=point;return{line,column,offset,_index,_bufferIndex}}function main(){let chunkIndex;for(;point._index<chunks.length;){const chunk=chunks[point._index];if("string"==typeof chunk)for(chunkIndex=point._index,point._bufferIndex<0&&(point._bufferIndex=0);point._index===chunkIndex&&point._bufferIndex<chunk.length;)go(chunk.charCodeAt(point._bufferIndex));else go(chunk)}}function go(code){consumed=void 0,expectedCode=code,state=state(code)}function onsuccessfulcheck(_,info){info.restore()}function constructFactory(onreturn,fields){return function hook(constructs,returnState,bogusState){let listOfConstructs,constructIndex,currentConstruct,info;return Array.isArray(constructs)?handleListOfConstructs(constructs):"tokenize"in constructs?handleListOfConstructs([constructs]):function handleMapOfConstructs(map){return start;function start(code){const def=null!==code&&map[code],all=null!==code&&map.null;return handleListOfConstructs([...Array.isArray(def)?def:def?[def]:[],...Array.isArray(all)?all:all?[all]:[]])(code)}}(constructs);function handleListOfConstructs(list){return listOfConstructs=list,constructIndex=0,0===list.length?bogusState:handleConstruct(list[constructIndex])}function handleConstruct(construct){return function start(code){info=function store(){const startPoint=now(),startPrevious=context.previous,startCurrentConstruct=context.currentConstruct,startEventsIndex=context.events.length,startStack=Array.from(stack);return{restore,from:startEventsIndex};function restore(){point=startPoint,context.previous=startPrevious,context.currentConstruct=startCurrentConstruct,context.events.length=startEventsIndex,stack=startStack,accountForPotentialSkip()}}(),currentConstruct=construct,construct.partial||(context.currentConstruct=construct);if(construct.name&&context.parser.constructs.disable.null.includes(construct.name))return nok(code);return construct.tokenize.call(fields?Object.assign(Object.create(context),fields):context,effects,ok,nok)(code)}}function ok(code){return consumed=!0,onreturn(currentConstruct,info),returnState}function nok(code){return consumed=!0,info.restore(),++constructIndex<listOfConstructs.length?handleConstruct(listOfConstructs[constructIndex]):bogusState}}}function addResult(construct,from){construct.resolveAll&&!resolveAllConstructs.includes(construct)&&resolveAllConstructs.push(construct),construct.resolve&&splice(context.events,from,context.events.length-from,construct.resolve(context.events.slice(from),context)),construct.resolveTo&&(context.events=construct.resolveTo(context.events,context))}function accountForPotentialSkip(){point.line in columnStart&&point.column<2&&(point.column=columnStart[point.line],point.offset+=columnStart[point.line]-1)}}const thematicBreak={name:"thematicBreak",tokenize:function tokenizeThematicBreak(effects,ok,nok){let marker,size=0;return function start(code){return effects.enter("thematicBreak"),function before(code){return marker=code,atBreak(code)}(code)};function atBreak(code){return code===marker?(effects.enter("thematicBreakSequence"),sequence(code)):size>=3&&(null===code||markdownLineEnding(code))?(effects.exit("thematicBreak"),ok(code)):nok(code)}function sequence(code){return code===marker?(effects.consume(code),size++,sequence):(effects.exit("thematicBreakSequence"),markdownSpace(code)?factorySpace(effects,atBreak,"whitespace")(code):atBreak(code))}}};const list={name:"list",tokenize:function tokenizeListStart(effects,ok,nok){const self=this,tail=self.events[self.events.length-1];let initialSize=tail&&"linePrefix"===tail[1].type?tail[2].sliceSerialize(tail[1],!0).length:0,size=0;return function start(code){const kind=self.containerState.type||(42===code||43===code||45===code?"listUnordered":"listOrdered");if("listUnordered"===kind?!self.containerState.marker||code===self.containerState.marker:asciiDigit(code)){if(self.containerState.type||(self.containerState.type=kind,effects.enter(kind,{_container:!0})),"listUnordered"===kind)return effects.enter("listItemPrefix"),42===code||45===code?effects.check(thematicBreak,nok,atMarker)(code):atMarker(code);if(!self.interrupt||49===code)return effects.enter("listItemPrefix"),effects.enter("listItemValue"),inside(code)}return nok(code)};function inside(code){return asciiDigit(code)&&++size<10?(effects.consume(code),inside):(!self.interrupt||size<2)&&(self.containerState.marker?code===self.containerState.marker:41===code||46===code)?(effects.exit("listItemValue"),atMarker(code)):nok(code)}function atMarker(code){return effects.enter("listItemMarker"),effects.consume(code),effects.exit("listItemMarker"),self.containerState.marker=self.containerState.marker||code,effects.check(blankLine,self.interrupt?nok:onBlank,effects.attempt(listItemPrefixWhitespaceConstruct,endOfPrefix,otherPrefix))}function onBlank(code){return self.containerState.initialBlankLine=!0,initialSize++,endOfPrefix(code)}function otherPrefix(code){return markdownSpace(code)?(effects.enter("listItemPrefixWhitespace"),effects.consume(code),effects.exit("listItemPrefixWhitespace"),endOfPrefix):nok(code)}function endOfPrefix(code){return self.containerState.size=initialSize+self.sliceSerialize(effects.exit("listItemPrefix"),!0).length,ok(code)}},continuation:{tokenize:function tokenizeListContinuation(effects,ok,nok){const self=this;return self.containerState._closeFlow=void 0,effects.check(blankLine,onBlank,notBlank);function onBlank(code){return self.containerState.furtherBlankLines=self.containerState.furtherBlankLines||self.containerState.initialBlankLine,factorySpace(effects,ok,"listItemIndent",self.containerState.size+1)(code)}function notBlank(code){return self.containerState.furtherBlankLines||!markdownSpace(code)?(self.containerState.furtherBlankLines=void 0,self.containerState.initialBlankLine=void 0,notInCurrentItem(code)):(self.containerState.furtherBlankLines=void 0,self.containerState.initialBlankLine=void 0,effects.attempt(indentConstruct,ok,notInCurrentItem)(code))}function notInCurrentItem(code){return self.containerState._closeFlow=!0,self.interrupt=void 0,factorySpace(effects,effects.attempt(list,ok,nok),"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code)}}},exit:function tokenizeListEnd(effects){effects.exit(this.containerState.type)}},listItemPrefixWhitespaceConstruct={tokenize:function tokenizeListItemPrefixWhitespace(effects,ok,nok){const self=this;return factorySpace(effects,(function afterPrefix(code){const tail=self.events[self.events.length-1];return!markdownSpace(code)&&tail&&"listItemPrefixWhitespace"===tail[1].type?ok(code):nok(code)}),"listItemPrefixWhitespace",self.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},indentConstruct={tokenize:function tokenizeIndent(effects,ok,nok){const self=this;return factorySpace(effects,(function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"listItemIndent"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length===self.containerState.size?ok(code):nok(code)}),"listItemIndent",self.containerState.size+1)},partial:!0};const blockQuote={name:"blockQuote",tokenize:function tokenizeBlockQuoteStart(effects,ok,nok){const self=this;return function start(code){if(62===code){const state=self.containerState;return state.open||(effects.enter("blockQuote",{_container:!0}),state.open=!0),effects.enter("blockQuotePrefix"),effects.enter("blockQuoteMarker"),effects.consume(code),effects.exit("blockQuoteMarker"),after}return nok(code)};function after(code){return markdownSpace(code)?(effects.enter("blockQuotePrefixWhitespace"),effects.consume(code),effects.exit("blockQuotePrefixWhitespace"),effects.exit("blockQuotePrefix"),ok):(effects.exit("blockQuotePrefix"),ok(code))}},continuation:{tokenize:function tokenizeBlockQuoteContinuation(effects,ok,nok){const self=this;return function contStart(code){if(markdownSpace(code))return factorySpace(effects,contBefore,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code);return contBefore(code)};function contBefore(code){return effects.attempt(blockQuote,ok,nok)(code)}}},exit:function exit(effects){effects.exit("blockQuote")}};function factoryDestination(effects,ok,nok,type,literalType,literalMarkerType,rawType,stringType,max){const limit=max||Number.POSITIVE_INFINITY;let balance=0;return function start(code){if(60===code)return effects.enter(type),effects.enter(literalType),effects.enter(literalMarkerType),effects.consume(code),effects.exit(literalMarkerType),enclosedBefore;if(null===code||32===code||41===code||asciiControl(code))return nok(code);return effects.enter(type),effects.enter(rawType),effects.enter(stringType),effects.enter("chunkString",{contentType:"string"}),raw(code)};function enclosedBefore(code){return 62===code?(effects.enter(literalMarkerType),effects.consume(code),effects.exit(literalMarkerType),effects.exit(literalType),effects.exit(type),ok):(effects.enter(stringType),effects.enter("chunkString",{contentType:"string"}),enclosed(code))}function enclosed(code){return 62===code?(effects.exit("chunkString"),effects.exit(stringType),enclosedBefore(code)):null===code||60===code||markdownLineEnding(code)?nok(code):(effects.consume(code),92===code?enclosedEscape:enclosed)}function enclosedEscape(code){return 60===code||62===code||92===code?(effects.consume(code),enclosed):enclosed(code)}function raw(code){return balance||null!==code&&41!==code&&!markdownLineEndingOrSpace(code)?balance<limit&&40===code?(effects.consume(code),balance++,raw):41===code?(effects.consume(code),balance--,raw):null===code||32===code||40===code||asciiControl(code)?nok(code):(effects.consume(code),92===code?rawEscape:raw):(effects.exit("chunkString"),effects.exit(stringType),effects.exit(rawType),effects.exit(type),ok(code))}function rawEscape(code){return 40===code||41===code||92===code?(effects.consume(code),raw):raw(code)}}function factoryLabel(effects,ok,nok,type,markerType,stringType){const self=this;let seen,size=0;return function start(code){return effects.enter(type),effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.enter(stringType),atBreak};function atBreak(code){return size>999||null===code||91===code||93===code&&!seen||94===code&&!size&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):93===code?(effects.exit(stringType),effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.exit(type),ok):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),atBreak):(effects.enter("chunkString",{contentType:"string"}),labelInside(code))}function labelInside(code){return null===code||91===code||93===code||markdownLineEnding(code)||size++>999?(effects.exit("chunkString"),atBreak(code)):(effects.consume(code),seen||(seen=!markdownSpace(code)),92===code?labelEscape:labelInside)}function labelEscape(code){return 91===code||92===code||93===code?(effects.consume(code),size++,labelInside):labelInside(code)}}function factoryTitle(effects,ok,nok,type,markerType,stringType){let marker;return function start(code){if(34===code||39===code||40===code)return effects.enter(type),effects.enter(markerType),effects.consume(code),effects.exit(markerType),marker=40===code?41:code,begin;return nok(code)};function begin(code){return code===marker?(effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.exit(type),ok):(effects.enter(stringType),atBreak(code))}function atBreak(code){return code===marker?(effects.exit(stringType),begin(marker)):null===code?nok(code):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,atBreak,"linePrefix")):(effects.enter("chunkString",{contentType:"string"}),inside(code))}function inside(code){return code===marker||null===code||markdownLineEnding(code)?(effects.exit("chunkString"),atBreak(code)):(effects.consume(code),92===code?escape:inside)}function escape(code){return code===marker||92===code?(effects.consume(code),inside):inside(code)}}function factoryWhitespace(effects,ok){let seen;return function start(code){if(markdownLineEnding(code))return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),seen=!0,start;if(markdownSpace(code))return factorySpace(effects,start,seen?"linePrefix":"lineSuffix")(code);return ok(code)}}function normalizeIdentifier(value){return value.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const definition={name:"definition",tokenize:function tokenizeDefinition(effects,ok,nok){const self=this;let identifier;return function start(code){return effects.enter("definition"),function before(code){return factoryLabel.call(self,effects,labelAfter,nok,"definitionLabel","definitionLabelMarker","definitionLabelString")(code)}(code)};function labelAfter(code){return identifier=normalizeIdentifier(self.sliceSerialize(self.events[self.events.length-1][1]).slice(1,-1)),58===code?(effects.enter("definitionMarker"),effects.consume(code),effects.exit("definitionMarker"),markerAfter):nok(code)}function markerAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,destinationBefore)(code):destinationBefore(code)}function destinationBefore(code){return factoryDestination(effects,destinationAfter,nok,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(code)}function destinationAfter(code){return effects.attempt(titleBefore,after,after)(code)}function after(code){return markdownSpace(code)?factorySpace(effects,afterWhitespace,"whitespace")(code):afterWhitespace(code)}function afterWhitespace(code){return null===code||markdownLineEnding(code)?(effects.exit("definition"),self.parser.defined.push(identifier),ok(code)):nok(code)}}},titleBefore={tokenize:function tokenizeTitleBefore(effects,ok,nok){return function titleBefore(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,beforeMarker)(code):nok(code)};function beforeMarker(code){return factoryTitle(effects,titleAfter,nok,"definitionTitle","definitionTitleMarker","definitionTitleString")(code)}function titleAfter(code){return markdownSpace(code)?factorySpace(effects,titleAfterOptionalWhitespace,"whitespace")(code):titleAfterOptionalWhitespace(code)}function titleAfterOptionalWhitespace(code){return null===code||markdownLineEnding(code)?ok(code):nok(code)}},partial:!0};const codeIndented={name:"codeIndented",tokenize:function tokenizeCodeIndented(effects,ok,nok){const self=this;return function start(code){return effects.enter("codeIndented"),factorySpace(effects,afterPrefix,"linePrefix",5)(code)};function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?atBreak(code):nok(code)}function atBreak(code){return null===code?after(code):markdownLineEnding(code)?effects.attempt(furtherStart,atBreak,after)(code):(effects.enter("codeFlowValue"),inside(code))}function inside(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFlowValue"),atBreak(code)):(effects.consume(code),inside)}function after(code){return effects.exit("codeIndented"),ok(code)}}},furtherStart={tokenize:function tokenizeFurtherStart(effects,ok,nok){const self=this;return furtherStart;function furtherStart(code){return self.parser.lazy[self.now().line]?nok(code):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),furtherStart):factorySpace(effects,afterPrefix,"linePrefix",5)(code)}function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?ok(code):markdownLineEnding(code)?furtherStart(code):nok(code)}},partial:!0};const headingAtx={name:"headingAtx",tokenize:function tokenizeHeadingAtx(effects,ok,nok){let size=0;return function start(code){return effects.enter("atxHeading"),function before(code){return effects.enter("atxHeadingSequence"),sequenceOpen(code)}(code)};function sequenceOpen(code){return 35===code&&size++<6?(effects.consume(code),sequenceOpen):null===code||markdownLineEndingOrSpace(code)?(effects.exit("atxHeadingSequence"),atBreak(code)):nok(code)}function atBreak(code){return 35===code?(effects.enter("atxHeadingSequence"),sequenceFurther(code)):null===code||markdownLineEnding(code)?(effects.exit("atxHeading"),ok(code)):markdownSpace(code)?factorySpace(effects,atBreak,"whitespace")(code):(effects.enter("atxHeadingText"),data(code))}function sequenceFurther(code){return 35===code?(effects.consume(code),sequenceFurther):(effects.exit("atxHeadingSequence"),atBreak(code))}function data(code){return null===code||35===code||markdownLineEndingOrSpace(code)?(effects.exit("atxHeadingText"),atBreak(code)):(effects.consume(code),data)}},resolve:function resolveHeadingAtx(events,context){let content,text,contentEnd=events.length-2,contentStart=3;"whitespace"===events[contentStart][1].type&&(contentStart+=2);contentEnd-2>contentStart&&"whitespace"===events[contentEnd][1].type&&(contentEnd-=2);"atxHeadingSequence"===events[contentEnd][1].type&&(contentStart===contentEnd-1||contentEnd-4>contentStart&&"whitespace"===events[contentEnd-2][1].type)&&(contentEnd-=contentStart+1===contentEnd?2:4);contentEnd>contentStart&&(content={type:"atxHeadingText",start:events[contentStart][1].start,end:events[contentEnd][1].end},text={type:"chunkText",start:events[contentStart][1].start,end:events[contentEnd][1].end,contentType:"text"},splice(events,contentStart,contentEnd-contentStart+1,[["enter",content,context],["enter",text,context],["exit",text,context],["exit",content,context]]));return events}};const setextUnderline={name:"setextUnderline",tokenize:function tokenizeSetextUnderline(effects,ok,nok){const self=this;let marker;return function start(code){let paragraph,index=self.events.length;for(;index--;)if("lineEnding"!==self.events[index][1].type&&"linePrefix"!==self.events[index][1].type&&"content"!==self.events[index][1].type){paragraph="paragraph"===self.events[index][1].type;break}if(!self.parser.lazy[self.now().line]&&(self.interrupt||paragraph))return effects.enter("setextHeadingLine"),marker=code,function before(code){return effects.enter("setextHeadingLineSequence"),inside(code)}(code);return nok(code)};function inside(code){return code===marker?(effects.consume(code),inside):(effects.exit("setextHeadingLineSequence"),markdownSpace(code)?factorySpace(effects,after,"lineSuffix")(code):after(code))}function after(code){return null===code||markdownLineEnding(code)?(effects.exit("setextHeadingLine"),ok(code)):nok(code)}},resolveTo:function resolveToSetextUnderline(events,context){let content,text,definition,index=events.length;for(;index--;)if("enter"===events[index][0]){if("content"===events[index][1].type){content=index;break}"paragraph"===events[index][1].type&&(text=index)}else"content"===events[index][1].type&&events.splice(index,1),definition||"definition"!==events[index][1].type||(definition=index);const heading={type:"setextHeading",start:Object.assign({},events[text][1].start),end:Object.assign({},events[events.length-1][1].end)};events[text][1].type="setextHeadingText",definition?(events.splice(text,0,["enter",heading,context]),events.splice(definition+1,0,["exit",events[content][1],context]),events[content][1].end=Object.assign({},events[definition][1].end)):events[content][1]=heading;return events.push(["exit",heading,context]),events}};const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:function tokenizeHtmlFlow(effects,ok,nok){const self=this;let marker,closingTag,buffer,index,markerB;return function start(code){return function before(code){return effects.enter("htmlFlow"),effects.enter("htmlFlowData"),effects.consume(code),open}(code)};function open(code){return 33===code?(effects.consume(code),declarationOpen):47===code?(effects.consume(code),closingTag=!0,tagCloseStart):63===code?(effects.consume(code),marker=3,self.interrupt?ok:continuationDeclarationInside):asciiAlpha(code)?(effects.consume(code),buffer=String.fromCharCode(code),tagName):nok(code)}function declarationOpen(code){return 45===code?(effects.consume(code),marker=2,commentOpenInside):91===code?(effects.consume(code),marker=5,index=0,cdataOpenInside):asciiAlpha(code)?(effects.consume(code),marker=4,self.interrupt?ok:continuationDeclarationInside):nok(code)}function commentOpenInside(code){return 45===code?(effects.consume(code),self.interrupt?ok:continuationDeclarationInside):nok(code)}function cdataOpenInside(code){return code==="CDATA[".charCodeAt(index++)?(effects.consume(code),6===index?self.interrupt?ok:continuation:cdataOpenInside):nok(code)}function tagCloseStart(code){return asciiAlpha(code)?(effects.consume(code),buffer=String.fromCharCode(code),tagName):nok(code)}function tagName(code){if(null===code||47===code||62===code||markdownLineEndingOrSpace(code)){const slash=47===code,name=buffer.toLowerCase();return slash||closingTag||!htmlRawNames.includes(name)?htmlBlockNames.includes(buffer.toLowerCase())?(marker=6,slash?(effects.consume(code),basicSelfClosing):self.interrupt?ok(code):continuation(code)):(marker=7,self.interrupt&&!self.parser.lazy[self.now().line]?nok(code):closingTag?completeClosingTagAfter(code):completeAttributeNameBefore(code)):(marker=1,self.interrupt?ok(code):continuation(code))}return 45===code||asciiAlphanumeric(code)?(effects.consume(code),buffer+=String.fromCharCode(code),tagName):nok(code)}function basicSelfClosing(code){return 62===code?(effects.consume(code),self.interrupt?ok:continuation):nok(code)}function completeClosingTagAfter(code){return markdownSpace(code)?(effects.consume(code),completeClosingTagAfter):completeEnd(code)}function completeAttributeNameBefore(code){return 47===code?(effects.consume(code),completeEnd):58===code||95===code||asciiAlpha(code)?(effects.consume(code),completeAttributeName):markdownSpace(code)?(effects.consume(code),completeAttributeNameBefore):completeEnd(code)}function completeAttributeName(code){return 45===code||46===code||58===code||95===code||asciiAlphanumeric(code)?(effects.consume(code),completeAttributeName):completeAttributeNameAfter(code)}function completeAttributeNameAfter(code){return 61===code?(effects.consume(code),completeAttributeValueBefore):markdownSpace(code)?(effects.consume(code),completeAttributeNameAfter):completeAttributeNameBefore(code)}function completeAttributeValueBefore(code){return null===code||60===code||61===code||62===code||96===code?nok(code):34===code||39===code?(effects.consume(code),markerB=code,completeAttributeValueQuoted):markdownSpace(code)?(effects.consume(code),completeAttributeValueBefore):completeAttributeValueUnquoted(code)}function completeAttributeValueQuoted(code){return code===markerB?(effects.consume(code),markerB=null,completeAttributeValueQuotedAfter):null===code||markdownLineEnding(code)?nok(code):(effects.consume(code),completeAttributeValueQuoted)}function completeAttributeValueUnquoted(code){return null===code||34===code||39===code||47===code||60===code||61===code||62===code||96===code||markdownLineEndingOrSpace(code)?completeAttributeNameAfter(code):(effects.consume(code),completeAttributeValueUnquoted)}function completeAttributeValueQuotedAfter(code){return 47===code||62===code||markdownSpace(code)?completeAttributeNameBefore(code):nok(code)}function completeEnd(code){return 62===code?(effects.consume(code),completeAfter):nok(code)}function completeAfter(code){return null===code||markdownLineEnding(code)?continuation(code):markdownSpace(code)?(effects.consume(code),completeAfter):nok(code)}function continuation(code){return 45===code&&2===marker?(effects.consume(code),continuationCommentInside):60===code&&1===marker?(effects.consume(code),continuationRawTagOpen):62===code&&4===marker?(effects.consume(code),continuationClose):63===code&&3===marker?(effects.consume(code),continuationDeclarationInside):93===code&&5===marker?(effects.consume(code),continuationCdataInside):!markdownLineEnding(code)||6!==marker&&7!==marker?null===code||markdownLineEnding(code)?(effects.exit("htmlFlowData"),continuationStart(code)):(effects.consume(code),continuation):(effects.exit("htmlFlowData"),effects.check(blankLineBefore,continuationAfter,continuationStart)(code))}function continuationStart(code){return effects.check(nonLazyContinuationStart,continuationStartNonLazy,continuationAfter)(code)}function continuationStartNonLazy(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),continuationBefore}function continuationBefore(code){return null===code||markdownLineEnding(code)?continuationStart(code):(effects.enter("htmlFlowData"),continuation(code))}function continuationCommentInside(code){return 45===code?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationRawTagOpen(code){return 47===code?(effects.consume(code),buffer="",continuationRawEndTag):continuation(code)}function continuationRawEndTag(code){if(62===code){const name=buffer.toLowerCase();return htmlRawNames.includes(name)?(effects.consume(code),continuationClose):continuation(code)}return asciiAlpha(code)&&buffer.length<8?(effects.consume(code),buffer+=String.fromCharCode(code),continuationRawEndTag):continuation(code)}function continuationCdataInside(code){return 93===code?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationDeclarationInside(code){return 62===code?(effects.consume(code),continuationClose):45===code&&2===marker?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationClose(code){return null===code||markdownLineEnding(code)?(effects.exit("htmlFlowData"),continuationAfter(code)):(effects.consume(code),continuationClose)}function continuationAfter(code){return effects.exit("htmlFlow"),ok(code)}},resolveTo:function resolveToHtmlFlow(events){let index=events.length;for(;index--&&("enter"!==events[index][0]||"htmlFlow"!==events[index][1].type););index>1&&"linePrefix"===events[index-2][1].type&&(events[index][1].start=events[index-2][1].start,events[index+1][1].start=events[index-2][1].start,events.splice(index-2,2));return events},concrete:!0},blankLineBefore={tokenize:function tokenizeBlankLineBefore(effects,ok,nok){return function start(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),effects.attempt(blankLine,ok,nok)}},partial:!0},nonLazyContinuationStart={tokenize:function tokenizeNonLazyContinuationStart(effects,ok,nok){const self=this;return function start(code){if(markdownLineEnding(code))return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),after;return nok(code)};function after(code){return self.parser.lazy[self.now().line]?nok(code):ok(code)}},partial:!0};const nonLazyContinuation={tokenize:function tokenizeNonLazyContinuation(effects,ok,nok){const self=this;return function start(code){if(null===code)return nok(code);return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),lineStart};function lineStart(code){return self.parser.lazy[self.now().line]?nok(code):ok(code)}},partial:!0},codeFenced={name:"codeFenced",tokenize:function tokenizeCodeFenced(effects,ok,nok){const self=this,closeStart={tokenize:function tokenizeCloseStart(effects,ok,nok){let size=0;return startBefore;function startBefore(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),start}function start(code){return effects.enter("codeFencedFence"),markdownSpace(code)?factorySpace(effects,beforeSequenceClose,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code):beforeSequenceClose(code)}function beforeSequenceClose(code){return code===marker?(effects.enter("codeFencedFenceSequence"),sequenceClose(code)):nok(code)}function sequenceClose(code){return code===marker?(size++,effects.consume(code),sequenceClose):size>=sizeOpen?(effects.exit("codeFencedFenceSequence"),markdownSpace(code)?factorySpace(effects,sequenceCloseAfter,"whitespace")(code):sequenceCloseAfter(code)):nok(code)}function sequenceCloseAfter(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFencedFence"),ok(code)):nok(code)}},partial:!0};let marker,initialPrefix=0,sizeOpen=0;return function start(code){return function beforeSequenceOpen(code){const tail=self.events[self.events.length-1];return initialPrefix=tail&&"linePrefix"===tail[1].type?tail[2].sliceSerialize(tail[1],!0).length:0,marker=code,effects.enter("codeFenced"),effects.enter("codeFencedFence"),effects.enter("codeFencedFenceSequence"),sequenceOpen(code)}(code)};function sequenceOpen(code){return code===marker?(sizeOpen++,effects.consume(code),sequenceOpen):sizeOpen<3?nok(code):(effects.exit("codeFencedFenceSequence"),markdownSpace(code)?factorySpace(effects,infoBefore,"whitespace")(code):infoBefore(code))}function infoBefore(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFencedFence"),self.interrupt?ok(code):effects.check(nonLazyContinuation,atNonLazyBreak,after)(code)):(effects.enter("codeFencedFenceInfo"),effects.enter("chunkString",{contentType:"string"}),info(code))}function info(code){return null===code||markdownLineEnding(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceInfo"),infoBefore(code)):markdownSpace(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceInfo"),factorySpace(effects,metaBefore,"whitespace")(code)):96===code&&code===marker?nok(code):(effects.consume(code),info)}function metaBefore(code){return null===code||markdownLineEnding(code)?infoBefore(code):(effects.enter("codeFencedFenceMeta"),effects.enter("chunkString",{contentType:"string"}),meta(code))}function meta(code){return null===code||markdownLineEnding(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceMeta"),infoBefore(code)):96===code&&code===marker?nok(code):(effects.consume(code),meta)}function atNonLazyBreak(code){return effects.attempt(closeStart,after,contentBefore)(code)}function contentBefore(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),contentStart}function contentStart(code){return initialPrefix>0&&markdownSpace(code)?factorySpace(effects,beforeContentChunk,"linePrefix",initialPrefix+1)(code):beforeContentChunk(code)}function beforeContentChunk(code){return null===code||markdownLineEnding(code)?effects.check(nonLazyContinuation,atNonLazyBreak,after)(code):(effects.enter("codeFlowValue"),contentChunk(code))}function contentChunk(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFlowValue"),beforeContentChunk(code)):(effects.consume(code),contentChunk)}function after(code){return effects.exit("codeFenced"),ok(code)}},concrete:!0};const index_dom_element=document.createElement("i");function decodeNamedCharacterReference(value){const characterReference="&"+value+";";index_dom_element.innerHTML=characterReference;const char=index_dom_element.textContent;return(59!==char.charCodeAt(char.length-1)||"semi"===value)&&(char!==characterReference&&char)}const characterReference={name:"characterReference",tokenize:function tokenizeCharacterReference(effects,ok,nok){const self=this;let max,test,size=0;return function start(code){return effects.enter("characterReference"),effects.enter("characterReferenceMarker"),effects.consume(code),effects.exit("characterReferenceMarker"),open};function open(code){return 35===code?(effects.enter("characterReferenceMarkerNumeric"),effects.consume(code),effects.exit("characterReferenceMarkerNumeric"),numeric):(effects.enter("characterReferenceValue"),max=31,test=asciiAlphanumeric,value(code))}function numeric(code){return 88===code||120===code?(effects.enter("characterReferenceMarkerHexadecimal"),effects.consume(code),effects.exit("characterReferenceMarkerHexadecimal"),effects.enter("characterReferenceValue"),max=6,test=asciiHexDigit,value):(effects.enter("characterReferenceValue"),max=7,test=asciiDigit,value(code))}function value(code){if(59===code&&size){const token=effects.exit("characterReferenceValue");return test!==asciiAlphanumeric||decodeNamedCharacterReference(self.sliceSerialize(token))?(effects.enter("characterReferenceMarker"),effects.consume(code),effects.exit("characterReferenceMarker"),effects.exit("characterReference"),ok):nok(code)}return test(code)&&size++<max?(effects.consume(code),value):nok(code)}}};const characterEscape={name:"characterEscape",tokenize:function tokenizeCharacterEscape(effects,ok,nok){return function start(code){return effects.enter("characterEscape"),effects.enter("escapeMarker"),effects.consume(code),effects.exit("escapeMarker"),inside};function inside(code){return asciiPunctuation(code)?(effects.enter("characterEscapeValue"),effects.consume(code),effects.exit("characterEscapeValue"),effects.exit("characterEscape"),ok):nok(code)}}};const lineEnding={name:"lineEnding",tokenize:function tokenizeLineEnding(effects,ok){return function start(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,ok,"linePrefix")}}};const labelEnd={name:"labelEnd",tokenize:function tokenizeLabelEnd(effects,ok,nok){const self=this;let labelStart,defined,index=self.events.length;for(;index--;)if(("labelImage"===self.events[index][1].type||"labelLink"===self.events[index][1].type)&&!self.events[index][1]._balanced){labelStart=self.events[index][1];break}return function start(code){if(!labelStart)return nok(code);if(labelStart._inactive)return labelEndNok(code);return defined=self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize({start:labelStart.end,end:self.now()}))),effects.enter("labelEnd"),effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelEnd"),after};function after(code){return 40===code?effects.attempt(resourceConstruct,labelEndOk,defined?labelEndOk:labelEndNok)(code):91===code?effects.attempt(referenceFullConstruct,labelEndOk,defined?referenceNotFull:labelEndNok)(code):defined?labelEndOk(code):labelEndNok(code)}function referenceNotFull(code){return effects.attempt(referenceCollapsedConstruct,labelEndOk,labelEndNok)(code)}function labelEndOk(code){return ok(code)}function labelEndNok(code){return labelStart._balanced=!0,nok(code)}},resolveTo:function resolveToLabelEnd(events,context){let token,open,close,media,index=events.length,offset=0;for(;index--;)if(token=events[index][1],open){if("link"===token.type||"labelLink"===token.type&&token._inactive)break;"enter"===events[index][0]&&"labelLink"===token.type&&(token._inactive=!0)}else if(close){if("enter"===events[index][0]&&("labelImage"===token.type||"labelLink"===token.type)&&!token._balanced&&(open=index,"labelLink"!==token.type)){offset=2;break}}else"labelEnd"===token.type&&(close=index);const group={type:"labelLink"===events[open][1].type?"link":"image",start:Object.assign({},events[open][1].start),end:Object.assign({},events[events.length-1][1].end)},label={type:"label",start:Object.assign({},events[open][1].start),end:Object.assign({},events[close][1].end)},text={type:"labelText",start:Object.assign({},events[open+offset+2][1].end),end:Object.assign({},events[close-2][1].start)};return media=[["enter",group,context],["enter",label,context]],media=push(media,events.slice(open+1,open+offset+3)),media=push(media,[["enter",text,context]]),media=push(media,resolveAll(context.parser.constructs.insideSpan.null,events.slice(open+offset+4,close-3),context)),media=push(media,[["exit",text,context],events[close-2],events[close-1],["exit",label,context]]),media=push(media,events.slice(close+1)),media=push(media,[["exit",group,context]]),splice(events,open,events.length,media),events},resolveAll:function resolveAllLabelEnd(events){let index=-1;for(;++index<events.length;){const token=events[index][1];"labelImage"!==token.type&&"labelLink"!==token.type&&"labelEnd"!==token.type||(events.splice(index+1,"labelImage"===token.type?4:2),token.type="data",index++)}return events}},resourceConstruct={tokenize:function tokenizeResource(effects,ok,nok){return function resourceStart(code){return effects.enter("resource"),effects.enter("resourceMarker"),effects.consume(code),effects.exit("resourceMarker"),resourceBefore};function resourceBefore(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceOpen)(code):resourceOpen(code)}function resourceOpen(code){return 41===code?resourceEnd(code):factoryDestination(effects,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(code)}function resourceDestinationAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceBetween)(code):resourceEnd(code)}function resourceDestinationMissing(code){return nok(code)}function resourceBetween(code){return 34===code||39===code||40===code?factoryTitle(effects,resourceTitleAfter,nok,"resourceTitle","resourceTitleMarker","resourceTitleString")(code):resourceEnd(code)}function resourceTitleAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceEnd)(code):resourceEnd(code)}function resourceEnd(code){return 41===code?(effects.enter("resourceMarker"),effects.consume(code),effects.exit("resourceMarker"),effects.exit("resource"),ok):nok(code)}}},referenceFullConstruct={tokenize:function tokenizeReferenceFull(effects,ok,nok){const self=this;return function referenceFull(code){return factoryLabel.call(self,effects,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(code)};function referenceFullAfter(code){return self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize(self.events[self.events.length-1][1]).slice(1,-1)))?ok(code):nok(code)}function referenceFullMissing(code){return nok(code)}}},referenceCollapsedConstruct={tokenize:function tokenizeReferenceCollapsed(effects,ok,nok){return function referenceCollapsedStart(code){return effects.enter("reference"),effects.enter("referenceMarker"),effects.consume(code),effects.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(code){return 93===code?(effects.enter("referenceMarker"),effects.consume(code),effects.exit("referenceMarker"),effects.exit("reference"),ok):nok(code)}}};const labelStartImage={name:"labelStartImage",tokenize:function tokenizeLabelStartImage(effects,ok,nok){const self=this;return function start(code){return effects.enter("labelImage"),effects.enter("labelImageMarker"),effects.consume(code),effects.exit("labelImageMarker"),open};function open(code){return 91===code?(effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelImage"),after):nok(code)}function after(code){return 94===code&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):ok(code)}},resolveAll:labelEnd.resolveAll};function classifyCharacter(code){return null===code||markdownLineEndingOrSpace(code)||unicodeWhitespace(code)?1:unicodePunctuation(code)?2:void 0}const attention={name:"attention",tokenize:function tokenizeAttention(effects,ok){const attentionMarkers=this.parser.constructs.attentionMarkers.null,previous=this.previous,before=classifyCharacter(previous);let marker;return function start(code){return marker=code,effects.enter("attentionSequence"),inside(code)};function inside(code){if(code===marker)return effects.consume(code),inside;const token=effects.exit("attentionSequence"),after=classifyCharacter(code),open=!after||2===after&&before||attentionMarkers.includes(code),close=!before||2===before&&after||attentionMarkers.includes(previous);return token._open=Boolean(42===marker?open:open&&(before||!close)),token._close=Boolean(42===marker?close:close&&(after||!open)),ok(code)}},resolveAll:function resolveAllAttention(events,context){let open,group,text,openingSequence,closingSequence,use,nextEvents,offset,index=-1;for(;++index<events.length;)if("enter"===events[index][0]&&"attentionSequence"===events[index][1].type&&events[index][1]._close)for(open=index;open--;)if("exit"===events[open][0]&&"attentionSequence"===events[open][1].type&&events[open][1]._open&&context.sliceSerialize(events[open][1]).charCodeAt(0)===context.sliceSerialize(events[index][1]).charCodeAt(0)){if((events[open][1]._close||events[index][1]._open)&&(events[index][1].end.offset-events[index][1].start.offset)%3&&!((events[open][1].end.offset-events[open][1].start.offset+events[index][1].end.offset-events[index][1].start.offset)%3))continue;use=events[open][1].end.offset-events[open][1].start.offset>1&&events[index][1].end.offset-events[index][1].start.offset>1?2:1;const start=Object.assign({},events[open][1].end),end=Object.assign({},events[index][1].start);movePoint(start,-use),movePoint(end,use),openingSequence={type:use>1?"strongSequence":"emphasisSequence",start,end:Object.assign({},events[open][1].end)},closingSequence={type:use>1?"strongSequence":"emphasisSequence",start:Object.assign({},events[index][1].start),end},text={type:use>1?"strongText":"emphasisText",start:Object.assign({},events[open][1].end),end:Object.assign({},events[index][1].start)},group={type:use>1?"strong":"emphasis",start:Object.assign({},openingSequence.start),end:Object.assign({},closingSequence.end)},events[open][1].end=Object.assign({},openingSequence.start),events[index][1].start=Object.assign({},closingSequence.end),nextEvents=[],events[open][1].end.offset-events[open][1].start.offset&&(nextEvents=push(nextEvents,[["enter",events[open][1],context],["exit",events[open][1],context]])),nextEvents=push(nextEvents,[["enter",group,context],["enter",openingSequence,context],["exit",openingSequence,context],["enter",text,context]]),nextEvents=push(nextEvents,resolveAll(context.parser.constructs.insideSpan.null,events.slice(open+1,index),context)),nextEvents=push(nextEvents,[["exit",text,context],["enter",closingSequence,context],["exit",closingSequence,context],["exit",group,context]]),events[index][1].end.offset-events[index][1].start.offset?(offset=2,nextEvents=push(nextEvents,[["enter",events[index][1],context],["exit",events[index][1],context]])):offset=0,splice(events,open-1,index-open+3,nextEvents),index=open+nextEvents.length-offset-2;break}index=-1;for(;++index<events.length;)"attentionSequence"===events[index][1].type&&(events[index][1].type="data");return events}};function movePoint(point,offset){point.column+=offset,point.offset+=offset,point._bufferIndex+=offset}const autolink={name:"autolink",tokenize:function tokenizeAutolink(effects,ok,nok){let size=0;return function start(code){return effects.enter("autolink"),effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.enter("autolinkProtocol"),open};function open(code){return asciiAlpha(code)?(effects.consume(code),schemeOrEmailAtext):emailAtext(code)}function schemeOrEmailAtext(code){return 43===code||45===code||46===code||asciiAlphanumeric(code)?(size=1,schemeInsideOrEmailAtext(code)):emailAtext(code)}function schemeInsideOrEmailAtext(code){return 58===code?(effects.consume(code),size=0,urlInside):(43===code||45===code||46===code||asciiAlphanumeric(code))&&size++<32?(effects.consume(code),schemeInsideOrEmailAtext):(size=0,emailAtext(code))}function urlInside(code){return 62===code?(effects.exit("autolinkProtocol"),effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.exit("autolink"),ok):null===code||32===code||60===code||asciiControl(code)?nok(code):(effects.consume(code),urlInside)}function emailAtext(code){return 64===code?(effects.consume(code),emailAtSignOrDot):asciiAtext(code)?(effects.consume(code),emailAtext):nok(code)}function emailAtSignOrDot(code){return asciiAlphanumeric(code)?emailLabel(code):nok(code)}function emailLabel(code){return 46===code?(effects.consume(code),size=0,emailAtSignOrDot):62===code?(effects.exit("autolinkProtocol").type="autolinkEmail",effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.exit("autolink"),ok):emailValue(code)}function emailValue(code){if((45===code||asciiAlphanumeric(code))&&size++<63){const next=45===code?emailValue:emailLabel;return effects.consume(code),next}return nok(code)}}};const htmlText={name:"htmlText",tokenize:function tokenizeHtmlText(effects,ok,nok){const self=this;let marker,index,returnState;return function start(code){return effects.enter("htmlText"),effects.enter("htmlTextData"),effects.consume(code),open};function open(code){return 33===code?(effects.consume(code),declarationOpen):47===code?(effects.consume(code),tagCloseStart):63===code?(effects.consume(code),instruction):asciiAlpha(code)?(effects.consume(code),tagOpen):nok(code)}function declarationOpen(code){return 45===code?(effects.consume(code),commentOpenInside):91===code?(effects.consume(code),index=0,cdataOpenInside):asciiAlpha(code)?(effects.consume(code),declaration):nok(code)}function commentOpenInside(code){return 45===code?(effects.consume(code),commentEnd):nok(code)}function comment(code){return null===code?nok(code):45===code?(effects.consume(code),commentClose):markdownLineEnding(code)?(returnState=comment,lineEndingBefore(code)):(effects.consume(code),comment)}function commentClose(code){return 45===code?(effects.consume(code),commentEnd):comment(code)}function commentEnd(code){return 62===code?end(code):45===code?commentClose(code):comment(code)}function cdataOpenInside(code){return code==="CDATA[".charCodeAt(index++)?(effects.consume(code),6===index?cdata:cdataOpenInside):nok(code)}function cdata(code){return null===code?nok(code):93===code?(effects.consume(code),cdataClose):markdownLineEnding(code)?(returnState=cdata,lineEndingBefore(code)):(effects.consume(code),cdata)}function cdataClose(code){return 93===code?(effects.consume(code),cdataEnd):cdata(code)}function cdataEnd(code){return 62===code?end(code):93===code?(effects.consume(code),cdataEnd):cdata(code)}function declaration(code){return null===code||62===code?end(code):markdownLineEnding(code)?(returnState=declaration,lineEndingBefore(code)):(effects.consume(code),declaration)}function instruction(code){return null===code?nok(code):63===code?(effects.consume(code),instructionClose):markdownLineEnding(code)?(returnState=instruction,lineEndingBefore(code)):(effects.consume(code),instruction)}function instructionClose(code){return 62===code?end(code):instruction(code)}function tagCloseStart(code){return asciiAlpha(code)?(effects.consume(code),tagClose):nok(code)}function tagClose(code){return 45===code||asciiAlphanumeric(code)?(effects.consume(code),tagClose):tagCloseBetween(code)}function tagCloseBetween(code){return markdownLineEnding(code)?(returnState=tagCloseBetween,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagCloseBetween):end(code)}function tagOpen(code){return 45===code||asciiAlphanumeric(code)?(effects.consume(code),tagOpen):47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):nok(code)}function tagOpenBetween(code){return 47===code?(effects.consume(code),end):58===code||95===code||asciiAlpha(code)?(effects.consume(code),tagOpenAttributeName):markdownLineEnding(code)?(returnState=tagOpenBetween,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenBetween):end(code)}function tagOpenAttributeName(code){return 45===code||46===code||58===code||95===code||asciiAlphanumeric(code)?(effects.consume(code),tagOpenAttributeName):tagOpenAttributeNameAfter(code)}function tagOpenAttributeNameAfter(code){return 61===code?(effects.consume(code),tagOpenAttributeValueBefore):markdownLineEnding(code)?(returnState=tagOpenAttributeNameAfter,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenAttributeNameAfter):tagOpenBetween(code)}function tagOpenAttributeValueBefore(code){return null===code||60===code||61===code||62===code||96===code?nok(code):34===code||39===code?(effects.consume(code),marker=code,tagOpenAttributeValueQuoted):markdownLineEnding(code)?(returnState=tagOpenAttributeValueBefore,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenAttributeValueBefore):(effects.consume(code),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(code){return code===marker?(effects.consume(code),marker=void 0,tagOpenAttributeValueQuotedAfter):null===code?nok(code):markdownLineEnding(code)?(returnState=tagOpenAttributeValueQuoted,lineEndingBefore(code)):(effects.consume(code),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(code){return null===code||34===code||39===code||60===code||61===code||96===code?nok(code):47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):(effects.consume(code),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(code){return 47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):nok(code)}function end(code){return 62===code?(effects.consume(code),effects.exit("htmlTextData"),effects.exit("htmlText"),ok):nok(code)}function lineEndingBefore(code){return effects.exit("htmlTextData"),effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(code){return markdownSpace(code)?factorySpace(effects,lineEndingAfterPrefix,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code):lineEndingAfterPrefix(code)}function lineEndingAfterPrefix(code){return effects.enter("htmlTextData"),returnState(code)}}};const labelStartLink={name:"labelStartLink",tokenize:function tokenizeLabelStartLink(effects,ok,nok){const self=this;return function start(code){return effects.enter("labelLink"),effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelLink"),after};function after(code){return 94===code&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):ok(code)}},resolveAll:labelEnd.resolveAll};const hardBreakEscape={name:"hardBreakEscape",tokenize:function tokenizeHardBreakEscape(effects,ok,nok){return function start(code){return effects.enter("hardBreakEscape"),effects.consume(code),after};function after(code){return markdownLineEnding(code)?(effects.exit("hardBreakEscape"),ok(code)):nok(code)}}};const codeText={name:"codeText",tokenize:function tokenizeCodeText(effects,ok,nok){let size,token,sizeOpen=0;return function start(code){return effects.enter("codeText"),effects.enter("codeTextSequence"),sequenceOpen(code)};function sequenceOpen(code){return 96===code?(effects.consume(code),sizeOpen++,sequenceOpen):(effects.exit("codeTextSequence"),between(code))}function between(code){return null===code?nok(code):32===code?(effects.enter("space"),effects.consume(code),effects.exit("space"),between):96===code?(token=effects.enter("codeTextSequence"),size=0,sequenceClose(code)):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),between):(effects.enter("codeTextData"),data(code))}function data(code){return null===code||32===code||96===code||markdownLineEnding(code)?(effects.exit("codeTextData"),between(code)):(effects.consume(code),data)}function sequenceClose(code){return 96===code?(effects.consume(code),size++,sequenceClose):size===sizeOpen?(effects.exit("codeTextSequence"),effects.exit("codeText"),ok(code)):(token.type="codeTextData",data(code))}},resolve:function resolveCodeText(events){let index,enter,tailExitIndex=events.length-4,headEnterIndex=3;if(!("lineEnding"!==events[headEnterIndex][1].type&&"space"!==events[headEnterIndex][1].type||"lineEnding"!==events[tailExitIndex][1].type&&"space"!==events[tailExitIndex][1].type))for(index=headEnterIndex;++index<tailExitIndex;)if("codeTextData"===events[index][1].type){events[headEnterIndex][1].type="codeTextPadding",events[tailExitIndex][1].type="codeTextPadding",headEnterIndex+=2,tailExitIndex-=2;break}index=headEnterIndex-1,tailExitIndex++;for(;++index<=tailExitIndex;)void 0===enter?index!==tailExitIndex&&"lineEnding"!==events[index][1].type&&(enter=index):index!==tailExitIndex&&"lineEnding"!==events[index][1].type||(events[enter][1].type="codeTextData",index!==enter+2&&(events[enter][1].end=events[index-1][1].end,events.splice(enter+2,index-enter-2),tailExitIndex-=index-enter-2,index=enter+2),enter=void 0);return events},previous:function previous(code){return 96!==code||"characterEscape"===this.events[this.events.length-1][1].type}};const constructs_document={42:list,43:list,45:list,48:list,49:list,50:list,51:list,52:list,53:list,54:list,55:list,56:list,57:list,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},constructs_flow={35:headingAtx,42:thematicBreak,45:[setextUnderline,thematicBreak],60:htmlFlow,61:setextUnderline,95:thematicBreak,96:codeFenced,126:codeFenced},constructs_string={38:characterReference,92:characterEscape},constructs_text={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]};function parse(options){const constructs=function combineExtensions(extensions){const all={};let index=-1;for(;++index<extensions.length;)syntaxExtension(all,extensions[index]);return all}([constructs_namespaceObject,...(options||{}).extensions||[]]),parser={defined:[],lazy:{},constructs,content:create(content),document:create(document_document),flow:create(flow),string:create(string),text:create(text_text)};return parser;function create(initial){return function creator(from){return createTokenizer(parser,initial,from)}}}const search=/[\0\t\n\r]/g;function decodeNumericCharacterReference(value,base){const code=Number.parseInt(value,base);return code<9||11===code||code>13&&code<32||code>126&&code<160||code>55295&&code<57344||code>64975&&code<65008||65535==(65535&code)||65534==(65535&code)||code>1114111?"�":String.fromCharCode(code)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode($0,$1,$2){if($1)return $1;if(35===$2.charCodeAt(0)){const head=$2.charCodeAt(1),hex=120===head||88===head;return decodeNumericCharacterReference($2.slice(hex?2:1),hex?16:10)}return decodeNamedCharacterReference($2)||$0}const lib_own={}.hasOwnProperty,fromMarkdown=function(value,encoding,options){return"string"!=typeof encoding&&(options=encoding,encoding=void 0),function compiler(options){const config={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(blockQuote),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(codeText,buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(definition),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(emphasis),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(image),label:buffer,link:opener(link),listItem:opener(listItem),listItemValue:onenterlistitemvalue,listOrdered:opener(list,onenterlistordered),listUnordered:opener(list),paragraph:opener(paragraph),reference:onenterreference,referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(strong),thematicBreak:opener(thematicBreak)},exit:{atxHeading:closer(),atxHeadingSequence:onexitatxheadingsequence,autolink:closer(),autolinkEmail:onexitautolinkemail,autolinkProtocol:onexitautolinkprotocol,blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:onexitcharacterreferencevalue,codeFenced:closer(onexitcodefenced),codeFencedFence:onexitcodefencedfence,codeFencedFenceInfo:onexitcodefencedfenceinfo,codeFencedFenceMeta:onexitcodefencedfencemeta,codeFlowValue:onexitdata,codeIndented:closer(onexitcodeindented),codeText:closer(onexitcodetext),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:onexitdefinitiondestinationstring,definitionLabelString:onexitdefinitionlabelstring,definitionTitleString:onexitdefinitiontitlestring,emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(onexithtmlflow),htmlFlowData:onexitdata,htmlText:closer(onexithtmltext),htmlTextData:onexitdata,image:closer(onexitimage),label:onexitlabel,labelText:onexitlabeltext,lineEnding:onexitlineending,link:closer(onexitlink),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:onexitreferencestring,resourceDestinationString:onexitresourcedestinationstring,resourceTitleString:onexitresourcetitlestring,resource:onexitresource,setextHeading:closer(onexitsetextheading),setextHeadingLineSequence:onexitsetextheadinglinesequence,setextHeadingText:onexitsetextheadingtext,strong:closer(),thematicBreak:closer()}};configure(config,(options||{}).mdastExtensions||[]);const data={};return compile;function compile(events){let tree={type:"root",children:[]};const context={stack:[tree],tokenStack:[],config,enter,exit,buffer,resume,setData,getData},listStack=[];let index=-1;for(;++index<events.length;)if("listOrdered"===events[index][1].type||"listUnordered"===events[index][1].type)if("enter"===events[index][0])listStack.push(index);else{index=prepareList(events,listStack.pop(),index)}for(index=-1;++index<events.length;){const handler=config[events[index][0]];lib_own.call(handler,events[index][1].type)&&handler[events[index][1].type].call(Object.assign({sliceSerialize:events[index][2].sliceSerialize},context),events[index][1])}if(context.tokenStack.length>0){const tail=context.tokenStack[context.tokenStack.length-1];(tail[1]||defaultOnError).call(context,void 0,tail[0])}for(tree.position={start:lib_point(events.length>0?events[0][1].start:{line:1,column:1,offset:0}),end:lib_point(events.length>0?events[events.length-2][1].end:{line:1,column:1,offset:0})},index=-1;++index<config.transforms.length;)tree=config.transforms[index](tree)||tree;return tree}function prepareList(events,start,length){let listItem,lineIndex,firstBlankLineIndex,atMarker,index=start-1,containerBalance=-1,listSpread=!1;for(;++index<=length;){const event=events[index];if("listUnordered"===event[1].type||"listOrdered"===event[1].type||"blockQuote"===event[1].type?("enter"===event[0]?containerBalance++:containerBalance--,atMarker=void 0):"lineEndingBlank"===event[1].type?"enter"===event[0]&&(!listItem||atMarker||containerBalance||firstBlankLineIndex||(firstBlankLineIndex=index),atMarker=void 0):"linePrefix"===event[1].type||"listItemValue"===event[1].type||"listItemMarker"===event[1].type||"listItemPrefix"===event[1].type||"listItemPrefixWhitespace"===event[1].type||(atMarker=void 0),!containerBalance&&"enter"===event[0]&&"listItemPrefix"===event[1].type||-1===containerBalance&&"exit"===event[0]&&("listUnordered"===event[1].type||"listOrdered"===event[1].type)){if(listItem){let tailIndex=index;for(lineIndex=void 0;tailIndex--;){const tailEvent=events[tailIndex];if("lineEnding"===tailEvent[1].type||"lineEndingBlank"===tailEvent[1].type){if("exit"===tailEvent[0])continue;lineIndex&&(events[lineIndex][1].type="lineEndingBlank",listSpread=!0),tailEvent[1].type="lineEnding",lineIndex=tailIndex}else if("linePrefix"!==tailEvent[1].type&&"blockQuotePrefix"!==tailEvent[1].type&&"blockQuotePrefixWhitespace"!==tailEvent[1].type&&"blockQuoteMarker"!==tailEvent[1].type&&"listItemIndent"!==tailEvent[1].type)break}firstBlankLineIndex&&(!lineIndex||firstBlankLineIndex<lineIndex)&&(listItem._spread=!0),listItem.end=Object.assign({},lineIndex?events[lineIndex][1].start:event[1].end),events.splice(lineIndex||index,0,["exit",listItem,event[2]]),index++,length++}"listItemPrefix"===event[1].type&&(listItem={type:"listItem",_spread:!1,start:Object.assign({},event[1].start),end:void 0},events.splice(index,0,["enter",listItem,event[2]]),index++,length++,firstBlankLineIndex=void 0,atMarker=!0)}}return events[start][1]._spread=listSpread,length}function setData(key,value){data[key]=value}function getData(key){return data[key]}function opener(create,and){return open;function open(token){enter.call(this,create(token),token),and&&and.call(this,token)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(node,token,errorHandler){return this.stack[this.stack.length-1].children.push(node),this.stack.push(node),this.tokenStack.push([token,errorHandler]),node.position={start:lib_point(token.start)},node}function closer(and){return close;function close(token){and&&and.call(this,token),exit.call(this,token)}}function exit(token,onExitError){const node=this.stack.pop(),open=this.tokenStack.pop();if(!open)throw new Error("Cannot close `"+token.type+"` ("+stringifyPosition({start:token.start,end:token.end})+"): it’s not open");if(open[0].type!==token.type)if(onExitError)onExitError.call(this,token,open[0]);else{(open[1]||defaultOnError).call(this,token,open[0])}return node.position.end=lib_point(token.end),node}function resume(){return function lib_toString(value,options){const settings=options||emptyOptions;return one(value,"boolean"!=typeof settings.includeImageAlt||settings.includeImageAlt,"boolean"!=typeof settings.includeHtml||settings.includeHtml)}(this.stack.pop())}function onenterlistordered(){setData("expectingFirstListItemValue",!0)}function onenterlistitemvalue(token){if(getData("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(token),10),setData("expectingFirstListItemValue")}}function onexitcodefencedfenceinfo(){const data=this.resume();this.stack[this.stack.length-1].lang=data}function onexitcodefencedfencemeta(){const data=this.resume();this.stack[this.stack.length-1].meta=data}function onexitcodefencedfence(){getData("flowCodeInside")||(this.buffer(),setData("flowCodeInside",!0))}function onexitcodefenced(){const data=this.resume();this.stack[this.stack.length-1].value=data.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),setData("flowCodeInside")}function onexitcodeindented(){const data=this.resume();this.stack[this.stack.length-1].value=data.replace(/(\r?\n|\r)$/g,"")}function onexitdefinitionlabelstring(token){const label=this.resume(),node=this.stack[this.stack.length-1];node.label=label,node.identifier=normalizeIdentifier(this.sliceSerialize(token)).toLowerCase()}function onexitdefinitiontitlestring(){const data=this.resume();this.stack[this.stack.length-1].title=data}function onexitdefinitiondestinationstring(){const data=this.resume();this.stack[this.stack.length-1].url=data}function onexitatxheadingsequence(token){const node=this.stack[this.stack.length-1];if(!node.depth){const depth=this.sliceSerialize(token).length;node.depth=depth}}function onexitsetextheadingtext(){setData("setextHeadingSlurpLineEnding",!0)}function onexitsetextheadinglinesequence(token){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(token).charCodeAt(0)?1:2}function onexitsetextheading(){setData("setextHeadingSlurpLineEnding")}function onenterdata(token){const node=this.stack[this.stack.length-1];let tail=node.children[node.children.length-1];tail&&"text"===tail.type||(tail=text(),tail.position={start:lib_point(token.start)},node.children.push(tail)),this.stack.push(tail)}function onexitdata(token){const tail=this.stack.pop();tail.value+=this.sliceSerialize(token),tail.position.end=lib_point(token.end)}function onexitlineending(token){const context=this.stack[this.stack.length-1];if(getData("atHardBreak")){return context.children[context.children.length-1].position.end=lib_point(token.end),void setData("atHardBreak")}!getData("setextHeadingSlurpLineEnding")&&config.canContainEols.includes(context.type)&&(onenterdata.call(this,token),onexitdata.call(this,token))}function onexithardbreak(){setData("atHardBreak",!0)}function onexithtmlflow(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexithtmltext(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexitcodetext(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexitlink(){const node=this.stack[this.stack.length-1];if(getData("inReference")){const referenceType=getData("referenceType")||"shortcut";node.type+="Reference",node.referenceType=referenceType,delete node.url,delete node.title}else delete node.identifier,delete node.label;setData("referenceType")}function onexitimage(){const node=this.stack[this.stack.length-1];if(getData("inReference")){const referenceType=getData("referenceType")||"shortcut";node.type+="Reference",node.referenceType=referenceType,delete node.url,delete node.title}else delete node.identifier,delete node.label;setData("referenceType")}function onexitlabeltext(token){const string=this.sliceSerialize(token),ancestor=this.stack[this.stack.length-2];ancestor.label=function decodeString(value){return value.replace(characterEscapeOrReference,decode)}(string),ancestor.identifier=normalizeIdentifier(string).toLowerCase()}function onexitlabel(){const fragment=this.stack[this.stack.length-1],value=this.resume(),node=this.stack[this.stack.length-1];if(setData("inReference",!0),"link"===node.type){const children=fragment.children;node.children=children}else node.alt=value}function onexitresourcedestinationstring(){const data=this.resume();this.stack[this.stack.length-1].url=data}function onexitresourcetitlestring(){const data=this.resume();this.stack[this.stack.length-1].title=data}function onexitresource(){setData("inReference")}function onenterreference(){setData("referenceType","collapsed")}function onexitreferencestring(token){const label=this.resume(),node=this.stack[this.stack.length-1];node.label=label,node.identifier=normalizeIdentifier(this.sliceSerialize(token)).toLowerCase(),setData("referenceType","full")}function onexitcharacterreferencemarker(token){setData("characterReferenceType",token.type)}function onexitcharacterreferencevalue(token){const data=this.sliceSerialize(token),type=getData("characterReferenceType");let value;if(type)value=decodeNumericCharacterReference(data,"characterReferenceMarkerNumeric"===type?10:16),setData("characterReferenceType");else{value=decodeNamedCharacterReference(data)}const tail=this.stack.pop();tail.value+=value,tail.position.end=lib_point(token.end)}function onexitautolinkprotocol(token){onexitdata.call(this,token);this.stack[this.stack.length-1].url=this.sliceSerialize(token)}function onexitautolinkemail(token){onexitdata.call(this,token);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(token)}function blockQuote(){return{type:"blockquote",children:[]}}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function codeText(){return{type:"inlineCode",value:""}}function definition(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function emphasis(){return{type:"emphasis",children:[]}}function heading(){return{type:"heading",depth:void 0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function image(){return{type:"image",title:null,url:"",alt:null}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(token){return{type:"list",ordered:"listOrdered"===token.type,start:null,spread:token._spread,children:[]}}function listItem(token){return{type:"listItem",spread:token._spread,checked:null,children:[]}}function paragraph(){return{type:"paragraph",children:[]}}function strong(){return{type:"strong",children:[]}}function text(){return{type:"text",value:""}}function thematicBreak(){return{type:"thematicBreak"}}}(options)(function postprocess(events){for(;!subtokenize(events););return events}(parse(options).document().write(function preprocess(){let atCarriageReturn,column=1,buffer="",start=!0;return function preprocessor(value,encoding,end){const chunks=[];let match,next,startPosition,endPosition,code;for(value=buffer+value.toString(encoding),startPosition=0,buffer="",start&&(65279===value.charCodeAt(0)&&startPosition++,start=void 0);startPosition<value.length;){if(search.lastIndex=startPosition,match=search.exec(value),endPosition=match&&void 0!==match.index?match.index:value.length,code=value.charCodeAt(endPosition),!match){buffer=value.slice(startPosition);break}if(10===code&&startPosition===endPosition&&atCarriageReturn)chunks.push(-3),atCarriageReturn=void 0;else switch(atCarriageReturn&&(chunks.push(-5),atCarriageReturn=void 0),startPosition<endPosition&&(chunks.push(value.slice(startPosition,endPosition)),column+=endPosition-startPosition),code){case 0:chunks.push(65533),column++;break;case 9:for(next=4*Math.ceil(column/4),chunks.push(-2);column++<next;)chunks.push(-1);break;case 10:chunks.push(-4),column=1;break;default:atCarriageReturn=!0,column=1}startPosition=endPosition+1}return end&&(atCarriageReturn&&chunks.push(-5),buffer&&chunks.push(buffer),chunks.push(null)),chunks}}()(value,encoding,!0))))};function lib_point(d){return{line:d.line,column:d.column,offset:d.offset}}function configure(combined,extensions){let index=-1;for(;++index<extensions.length;){const value=extensions[index];Array.isArray(value)?configure(combined,value):extension(combined,value)}}function extension(combined,extension){let key;for(key in extension)if(lib_own.call(extension,key))if("canContainEols"===key){const right=extension[key];right&&combined[key].push(...right)}else if("transforms"===key){const right=extension[key];right&&combined[key].push(...right)}else if("enter"===key||"exit"===key){const right=extension[key];right&&Object.assign(combined[key],right)}}function defaultOnError(left,right){throw left?new Error("Cannot close `"+left.type+"` ("+stringifyPosition({start:left.start,end:left.end})+"): a different token (`"+right.type+"`, "+stringifyPosition({start:right.start,end:right.end})+") is open"):new Error("Cannot close document, a token (`"+right.type+"`, "+stringifyPosition({start:right.start,end:right.end})+") is still open")}function remarkParse(options){Object.assign(this,{Parser:doc=>{const settings=this.data("settings");return fromMarkdown(doc,Object.assign({},settings,options,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function normalizeUri(value){const result=[];let index=-1,start=0,skip=0;for(;++index<value.length;){const code=value.charCodeAt(index);let replace="";if(37===code&&asciiAlphanumeric(value.charCodeAt(index+1))&&asciiAlphanumeric(value.charCodeAt(index+2)))skip=2;else if(code<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(code))||(replace=String.fromCharCode(code));else if(code>55295&&code<57344){const next=value.charCodeAt(index+1);code<56320&&next>56319&&next<57344?(replace=String.fromCharCode(code,next),skip=1):replace="�"}else replace=String.fromCharCode(code);replace&&(result.push(value.slice(start,index),encodeURIComponent(replace)),start=index+skip+1,replace=""),skip&&(index+=skip,skip=0)}return result.join("")+value.slice(start)}const convert=function(test){if(null==test)return ok;if("string"==typeof test)return function typeFactory(check){return castFactory(type);function type(node){return node&&node.type===check}}(test);if("object"==typeof test)return Array.isArray(test)?function anyFactory(tests){const checks=[];let index=-1;for(;++index<tests.length;)checks[index]=convert(tests[index]);return castFactory(any);function any(...parameters){let index=-1;for(;++index<checks.length;)if(checks[index].call(this,...parameters))return!0;return!1}}(test):function propsFactory(check){return castFactory(all);function all(node){let key;for(key in check)if(node[key]!==check[key])return!1;return!0}}(test);if("function"==typeof test)return castFactory(test);throw new Error("Expected function, string, or object as test")};function castFactory(check){return function assertion(node,...parameters){return Boolean(node&&"object"==typeof node&&"type"in node&&Boolean(check.call(this,node,...parameters)))}}function ok(){return!0}const visitParents=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null);const is=convert(test),step=reverse?-1:1;!function factory(node,index,parents){const value=node&&"object"==typeof node?node:{};if("string"==typeof value.type){const name="string"==typeof value.tagName?value.tagName:"string"==typeof value.name?value.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+node.type+(name?"<"+name+">":"")+")"})}return visit;function visit(){let subresult,offset,grandparents,result=[];if((!test||is(node,index,parents[parents.length-1]||null))&&(result=function toResult(value){if(Array.isArray(value))return value;if("number"==typeof value)return[true,value];return[value]}(visitor(node,parents)),false===result[0]))return result;if(node.children&&"skip"!==result[0])for(offset=(reverse?node.children.length:-1)+step,grandparents=parents.concat(node);offset>-1&&offset<node.children.length;){if(subresult=factory(node.children[offset],offset,grandparents)(),false===subresult[0])return subresult;offset="number"==typeof subresult[1]?subresult[1]:offset+step}return result}}(tree,void 0,[])()};const visit=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null),visitParents(tree,test,(function overload(node,parents){const parent=parents[parents.length-1];return visitor(node,parent?parent.children.indexOf(node):null,parent)}),reverse)},pointStart=unist_util_position_lib_point("start"),pointEnd=unist_util_position_lib_point("end");function unist_util_position_lib_point(type){return function point(node){const point=node&&node.position&&node.position[type]||{};return{line:point.line||null,column:point.column||null,offset:point.offset>-1?point.offset:null}}}const mdast_util_definitions_lib_own={}.hasOwnProperty;function clean(value){return String(value||"").toUpperCase()}function footnoteReference(state,node){const id=String(node.identifier).toUpperCase(),safeId=normalizeUri(id.toLowerCase()),index=state.footnoteOrder.indexOf(id);let counter;-1===index?(state.footnoteOrder.push(id),state.footnoteCounts[id]=1,counter=state.footnoteOrder.length):(state.footnoteCounts[id]++,counter=index+1);const reuseCounter=state.footnoteCounts[id],link={type:"element",tagName:"a",properties:{href:"#"+state.clobberPrefix+"fn-"+safeId,id:state.clobberPrefix+"fnref-"+safeId+(reuseCounter>1?"-"+reuseCounter:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(counter)}]};state.patch(node,link);const sup={type:"element",tagName:"sup",properties:{},children:[link]};return state.patch(node,sup),state.applyData(node,sup)}function revert(state,node){const subtype=node.referenceType;let suffix="]";if("collapsed"===subtype?suffix+="[]":"full"===subtype&&(suffix+="["+(node.label||node.identifier)+"]"),"imageReference"===node.type)return{type:"text",value:"!["+node.alt+suffix};const contents=state.all(node),head=contents[0];head&&"text"===head.type?head.value="["+head.value:contents.unshift({type:"text",value:"["});const tail=contents[contents.length-1];return tail&&"text"===tail.type?tail.value+=suffix:contents.push({type:"text",value:suffix}),contents}function listItemLoose(node){const spread=node.spread;return null==spread?node.children.length>1:spread}const tab=9,space=32;function trimLines(value){const source=String(value),search=/\r?\n|\r/g;let match=search.exec(source),last=0;const lines=[];for(;match;)lines.push(trimLine(source.slice(last,match.index),last>0,!0),match[0]),last=match.index+match[0].length,match=search.exec(source);return lines.push(trimLine(source.slice(last),last>0,!1)),lines.join("")}function trimLine(value,start,end){let startIndex=0,endIndex=value.length;if(start){let code=value.codePointAt(startIndex);for(;code===tab||code===space;)startIndex++,code=value.codePointAt(startIndex)}if(end){let code=value.codePointAt(endIndex-1);for(;code===tab||code===space;)endIndex--,code=value.codePointAt(endIndex-1)}return endIndex>startIndex?value.slice(startIndex,endIndex):""}const handlers={blockquote:function blockquote(state,node){const result={type:"element",tagName:"blockquote",properties:{},children:state.wrap(state.all(node),!0)};return state.patch(node,result),state.applyData(node,result)},break:function hardBreak(state,node){const result={type:"element",tagName:"br",properties:{},children:[]};return state.patch(node,result),[state.applyData(node,result),{type:"text",value:"\n"}]},code:function code(state,node){const value=node.value?node.value+"\n":"",lang=node.lang?node.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,properties={};lang&&(properties.className=["language-"+lang]);let result={type:"element",tagName:"code",properties,children:[{type:"text",value}]};return node.meta&&(result.data={meta:node.meta}),state.patch(node,result),result=state.applyData(node,result),result={type:"element",tagName:"pre",properties:{},children:[result]},state.patch(node,result),result},delete:function strikethrough(state,node){const result={type:"element",tagName:"del",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},emphasis:function emphasis(state,node){const result={type:"element",tagName:"em",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},footnoteReference,footnote:function footnote(state,node){const footnoteById=state.footnoteById;let no=1;for(;no in footnoteById;)no++;const identifier=String(no);return footnoteById[identifier]={type:"footnoteDefinition",identifier,children:[{type:"paragraph",children:node.children}],position:node.position},footnoteReference(state,{type:"footnoteReference",identifier,position:node.position})},heading:function heading(state,node){const result={type:"element",tagName:"h"+node.depth,properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},html:function html(state,node){if(state.dangerous){const result={type:"raw",value:node.value};return state.patch(node,result),state.applyData(node,result)}return null},imageReference:function imageReference(state,node){const def=state.definition(node.identifier);if(!def)return revert(state,node);const properties={src:normalizeUri(def.url||""),alt:node.alt};null!==def.title&&void 0!==def.title&&(properties.title=def.title);const result={type:"element",tagName:"img",properties,children:[]};return state.patch(node,result),state.applyData(node,result)},image:function image_image(state,node){const properties={src:normalizeUri(node.url)};null!==node.alt&&void 0!==node.alt&&(properties.alt=node.alt),null!==node.title&&void 0!==node.title&&(properties.title=node.title);const result={type:"element",tagName:"img",properties,children:[]};return state.patch(node,result),state.applyData(node,result)},inlineCode:function inlineCode(state,node){const text={type:"text",value:node.value.replace(/\r?\n|\r/g," ")};state.patch(node,text);const result={type:"element",tagName:"code",properties:{},children:[text]};return state.patch(node,result),state.applyData(node,result)},linkReference:function linkReference(state,node){const def=state.definition(node.identifier);if(!def)return revert(state,node);const properties={href:normalizeUri(def.url||"")};null!==def.title&&void 0!==def.title&&(properties.title=def.title);const result={type:"element",tagName:"a",properties,children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},link:function link_link(state,node){const properties={href:normalizeUri(node.url)};null!==node.title&&void 0!==node.title&&(properties.title=node.title);const result={type:"element",tagName:"a",properties,children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},listItem:function listItem(state,node,parent){const results=state.all(node),loose=parent?function listLoose(node){let loose=!1;if("list"===node.type){loose=node.spread||!1;const children=node.children;let index=-1;for(;!loose&&++index<children.length;)loose=listItemLoose(children[index])}return loose}(parent):listItemLoose(node),properties={},children=[];if("boolean"==typeof node.checked){const head=results[0];let paragraph;head&&"element"===head.type&&"p"===head.tagName?paragraph=head:(paragraph={type:"element",tagName:"p",properties:{},children:[]},results.unshift(paragraph)),paragraph.children.length>0&&paragraph.children.unshift({type:"text",value:" "}),paragraph.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:node.checked,disabled:!0},children:[]}),properties.className=["task-list-item"]}let index=-1;for(;++index<results.length;){const child=results[index];(loose||0!==index||"element"!==child.type||"p"!==child.tagName)&&children.push({type:"text",value:"\n"}),"element"!==child.type||"p"!==child.tagName||loose?children.push(child):children.push(...child.children)}const tail=results[results.length-1];tail&&(loose||"element"!==tail.type||"p"!==tail.tagName)&&children.push({type:"text",value:"\n"});const result={type:"element",tagName:"li",properties,children};return state.patch(node,result),state.applyData(node,result)},list:function list_list(state,node){const properties={},results=state.all(node);let index=-1;for("number"==typeof node.start&&1!==node.start&&(properties.start=node.start);++index<results.length;){const child=results[index];if("element"===child.type&&"li"===child.tagName&&child.properties&&Array.isArray(child.properties.className)&&child.properties.className.includes("task-list-item")){properties.className=["contains-task-list"];break}}const result={type:"element",tagName:node.ordered?"ol":"ul",properties,children:state.wrap(results,!0)};return state.patch(node,result),state.applyData(node,result)},paragraph:function paragraph(state,node){const result={type:"element",tagName:"p",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},root:function root(state,node){const result={type:"root",children:state.wrap(state.all(node))};return state.patch(node,result),state.applyData(node,result)},strong:function strong(state,node){const result={type:"element",tagName:"strong",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},table:function table(state,node){const rows=state.all(node),firstRow=rows.shift(),tableContent=[];if(firstRow){const head={type:"element",tagName:"thead",properties:{},children:state.wrap([firstRow],!0)};state.patch(node.children[0],head),tableContent.push(head)}if(rows.length>0){const body={type:"element",tagName:"tbody",properties:{},children:state.wrap(rows,!0)},start=pointStart(node.children[1]),end=pointEnd(node.children[node.children.length-1]);start.line&&end.line&&(body.position={start,end}),tableContent.push(body)}const result={type:"element",tagName:"table",properties:{},children:state.wrap(tableContent,!0)};return state.patch(node,result),state.applyData(node,result)},tableCell:function tableCell(state,node){const result={type:"element",tagName:"td",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},tableRow:function tableRow(state,node,parent){const siblings=parent?parent.children:void 0,tagName=0===(siblings?siblings.indexOf(node):1)?"th":"td",align=parent&&"table"===parent.type?parent.align:void 0,length=align?align.length:node.children.length;let cellIndex=-1;const cells=[];for(;++cellIndex<length;){const cell=node.children[cellIndex],properties={},alignValue=align?align[cellIndex]:void 0;alignValue&&(properties.align=alignValue);let result={type:"element",tagName,properties,children:[]};cell&&(result.children=state.all(cell),state.patch(cell,result),result=state.applyData(node,result)),cells.push(result)}const result={type:"element",tagName:"tr",properties:{},children:state.wrap(cells,!0)};return state.patch(node,result),state.applyData(node,result)},text:function handlers_text_text(state,node){const result={type:"text",value:trimLines(String(node.value))};return state.patch(node,result),state.applyData(node,result)},thematicBreak:function thematic_break_thematicBreak(state,node){const result={type:"element",tagName:"hr",properties:{},children:[]};return state.patch(node,result),state.applyData(node,result)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){return null}const state_own={}.hasOwnProperty;function createState(tree,options){const settings=options||{},dangerous=settings.allowDangerousHtml||!1,footnoteById={};return state.dangerous=dangerous,state.clobberPrefix=void 0===settings.clobberPrefix||null===settings.clobberPrefix?"user-content-":settings.clobberPrefix,state.footnoteLabel=settings.footnoteLabel||"Footnotes",state.footnoteLabelTagName=settings.footnoteLabelTagName||"h2",state.footnoteLabelProperties=settings.footnoteLabelProperties||{className:["sr-only"]},state.footnoteBackLabel=settings.footnoteBackLabel||"Back to content",state.unknownHandler=settings.unknownHandler,state.passThrough=settings.passThrough,state.handlers={...handlers,...settings.handlers},state.definition=function definitions(tree){const cache=Object.create(null);if(!tree||!tree.type)throw new Error("mdast-util-definitions expected node");return visit(tree,"definition",(definition=>{const id=clean(definition.identifier);id&&!mdast_util_definitions_lib_own.call(cache,id)&&(cache[id]=definition)})),function definition(identifier){const id=clean(identifier);return id&&mdast_util_definitions_lib_own.call(cache,id)?cache[id]:null}}(tree),state.footnoteById=footnoteById,state.footnoteOrder=[],state.footnoteCounts={},state.patch=patch,state.applyData=applyData,state.one=function oneBound(node,parent){return state_one(state,node,parent)},state.all=function allBound(parent){return state_all(state,parent)},state.wrap=state_wrap,state.augment=augment,visit(tree,"footnoteDefinition",(definition=>{const id=String(definition.identifier).toUpperCase();state_own.call(footnoteById,id)||(footnoteById[id]=definition)})),state;function augment(left,right){if(left&&"data"in left&&left.data){const data=left.data;data.hName&&("element"!==right.type&&(right={type:"element",tagName:"",properties:{},children:[]}),right.tagName=data.hName),"element"===right.type&&data.hProperties&&(right.properties={...right.properties,...data.hProperties}),"children"in right&&right.children&&data.hChildren&&(right.children=data.hChildren)}if(left){const ctx="type"in left?left:{position:left};(function generated(node){return!(node&&node.position&&node.position.start&&node.position.start.line&&node.position.start.column&&node.position.end&&node.position.end.line&&node.position.end.column)})(ctx)||(right.position={start:pointStart(ctx),end:pointEnd(ctx)})}return right}function state(node,tagName,props,children){return Array.isArray(props)&&(children=props,props={}),augment(node,{type:"element",tagName,properties:props||{},children:children||[]})}}function patch(from,to){from.position&&(to.position=function lib_position(node){return{start:pointStart(node),end:pointEnd(node)}}(from))}function applyData(from,to){let result=to;if(from&&from.data){const hName=from.data.hName,hChildren=from.data.hChildren,hProperties=from.data.hProperties;"string"==typeof hName&&("element"===result.type?result.tagName=hName:result={type:"element",tagName:hName,properties:{},children:[]}),"element"===result.type&&hProperties&&(result.properties={...result.properties,...hProperties}),"children"in result&&result.children&&null!=hChildren&&(result.children=hChildren)}return result}function state_one(state,node,parent){const type=node&&node.type;if(!type)throw new Error("Expected node, got `"+node+"`");return state_own.call(state.handlers,type)?state.handlers[type](state,node,parent):state.passThrough&&state.passThrough.includes(type)?"children"in node?{...node,children:state_all(state,node)}:node:state.unknownHandler?state.unknownHandler(state,node,parent):function defaultUnknownHandler(state,node){const data=node.data||{},result=!("value"in node)||state_own.call(data,"hProperties")||state_own.call(data,"hChildren")?{type:"element",tagName:"div",properties:{},children:state_all(state,node)}:{type:"text",value:node.value};return state.patch(node,result),state.applyData(node,result)}(state,node)}function state_all(state,parent){const values=[];if("children"in parent){const nodes=parent.children;let index=-1;for(;++index<nodes.length;){const result=state_one(state,nodes[index],parent);if(result){if(index&&"break"===nodes[index-1].type&&(Array.isArray(result)||"text"!==result.type||(result.value=result.value.replace(/^\s+/,"")),!Array.isArray(result)&&"element"===result.type)){const head=result.children[0];head&&"text"===head.type&&(head.value=head.value.replace(/^\s+/,""))}Array.isArray(result)?values.push(...result):values.push(result)}}}return values}function state_wrap(nodes,loose){const result=[];let index=-1;for(loose&&result.push({type:"text",value:"\n"});++index<nodes.length;)index&&result.push({type:"text",value:"\n"}),result.push(nodes[index]);return loose&&nodes.length>0&&result.push({type:"text",value:"\n"}),result}function toHast(tree,options){const state=createState(tree,options),node=state.one(tree,null),foot=function footer(state){const listItems=[];let index=-1;for(;++index<state.footnoteOrder.length;){const def=state.footnoteById[state.footnoteOrder[index]];if(!def)continue;const content=state.all(def),id=String(def.identifier).toUpperCase(),safeId=normalizeUri(id.toLowerCase());let referenceIndex=0;const backReferences=[];for(;++referenceIndex<=state.footnoteCounts[id];){const backReference={type:"element",tagName:"a",properties:{href:"#"+state.clobberPrefix+"fnref-"+safeId+(referenceIndex>1?"-"+referenceIndex:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:state.footnoteBackLabel},children:[{type:"text",value:"↩"}]};referenceIndex>1&&backReference.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(referenceIndex)}]}),backReferences.length>0&&backReferences.push({type:"text",value:" "}),backReferences.push(backReference)}const tail=content[content.length-1];if(tail&&"element"===tail.type&&"p"===tail.tagName){const tailTail=tail.children[tail.children.length-1];tailTail&&"text"===tailTail.type?tailTail.value+=" ":tail.children.push({type:"text",value:" "}),tail.children.push(...backReferences)}else content.push(...backReferences);const listItem={type:"element",tagName:"li",properties:{id:state.clobberPrefix+"fn-"+safeId},children:state.wrap(content,!0)};state.patch(def,listItem),listItems.push(listItem)}if(0!==listItems.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:state.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(state.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:state.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:state.wrap(listItems,!0)},{type:"text",value:"\n"}]}}(state);return foot&&node.children.push({type:"text",value:"\n"},foot),Array.isArray(node)?{type:"root",children:node}:node}const lib=function(destination,options){return destination&&"run"in destination?function bridge(destination,options){return(node,file,next)=>{destination.run(toHast(node,options),file,(error=>{next(error)}))}}(destination,options):function mutate(options){return node=>toHast(node,options)}(destination||options)};var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);class Schema{constructor(property,normal,space){this.property=property,this.normal=normal,space&&(this.space=space)}}function merge(definitions,space){const property={},normal={};let index=-1;for(;++index<definitions.length;)Object.assign(property,definitions[index].property),Object.assign(normal,definitions[index].normal);return new Schema(property,normal,space)}function normalize_normalize(value){return value.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;class Info{constructor(property,attribute){this.property=property,this.attribute=attribute}}Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let powers=0;const types_boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const checks=Object.keys(types_namespaceObject);class DefinedInfo extends Info{constructor(property,attribute,mask,space){let index=-1;if(super(property,attribute),mark(this,"space",space),"number"==typeof mask)for(;++index<checks.length;){const check=checks[index];mark(this,checks[index],(mask&types_namespaceObject[check])===types_namespaceObject[check])}}}function mark(values,key,value){value&&(values[key]=value)}DefinedInfo.prototype.defined=!0;const create_own={}.hasOwnProperty;function create(definition){const property={},normal={};let prop;for(prop in definition.properties)if(create_own.call(definition.properties,prop)){const value=definition.properties[prop],info=new DefinedInfo(prop,definition.transform(definition.attributes||{},prop),value,definition.space);definition.mustUseProperty&&definition.mustUseProperty.includes(prop)&&(info.mustUseProperty=!0),property[prop]=info,normal[normalize_normalize(prop)]=prop,normal[normalize_normalize(info.attribute)]=prop}return new Schema(property,normal,definition.space)}const xlink=create({space:"xlink",transform:(_,prop)=>"xlink:"+prop.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform:(_,prop)=>"xml:"+prop.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(attributes,attribute){return attribute in attributes?attributes[attribute]:attribute}function caseInsensitiveTransform(attributes,property){return caseSensitiveTransform(attributes,property.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform:(_,prop)=>"role"===prop?prop:"aria-"+prop.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html_html=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:types_boolean,allowPaymentRequest:types_boolean,allowUserMedia:types_boolean,alt:null,as:null,async:types_boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:types_boolean,autoPlay:types_boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:types_boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:types_boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:types_boolean,defer:types_boolean,dir:null,dirName:null,disabled:types_boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:types_boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:types_boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:types_boolean,inputMode:null,integrity:null,is:null,isMap:types_boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:types_boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:types_boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:types_boolean,muted:types_boolean,name:null,nonce:null,noModule:types_boolean,noValidate:types_boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:types_boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:types_boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:types_boolean,referrerPolicy:null,rel:spaceSeparated,required:types_boolean,reversed:types_boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:types_boolean,seamless:types_boolean,selected:types_boolean,shadowRootClonable:types_boolean,shadowRootDelegatesFocus:types_boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:types_boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:types_boolean,declare:types_boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:types_boolean,noHref:types_boolean,noShade:types_boolean,noWrap:types_boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:types_boolean,disableRemotePlayback:types_boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:types_boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),property_information_html=merge([xml,xlink,xmlns,aria,html_html],"html"),property_information_svg=merge([xml,xlink,xmlns,aria,svg],"svg"),lib_convert=function(test){if(null==test)return lib_ok;if("string"==typeof test)return function lib_typeFactory(check){return lib_castFactory(type);function type(node){return node&&node.type===check}}(test);if("object"==typeof test)return Array.isArray(test)?function lib_anyFactory(tests){const checks=[];let index=-1;for(;++index<tests.length;)checks[index]=lib_convert(tests[index]);return lib_castFactory(any);function any(...parameters){let index=-1;for(;++index<checks.length;)if(checks[index].call(this,...parameters))return!0;return!1}}(test):function lib_propsFactory(check){return lib_castFactory(all);function all(node){let key;for(key in check)if(node[key]!==check[key])return!1;return!0}}(test);if("function"==typeof test)return lib_castFactory(test);throw new Error("Expected function, string, or object as test")};function lib_castFactory(check){return function assertion(node,...parameters){return Boolean(node&&"object"==typeof node&&"type"in node&&Boolean(check.call(this,node,...parameters)))}}function lib_ok(){return!0}const lib_visitParents=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null);const is=lib_convert(test),step=reverse?-1:1;!function factory(node,index,parents){const value=node&&"object"==typeof node?node:{};if("string"==typeof value.type){const name="string"==typeof value.tagName?value.tagName:"string"==typeof value.name?value.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+node.type+(name?"<"+name+">":"")+")"})}return visit;function visit(){let subresult,offset,grandparents,result=[];if((!test||is(node,index,parents[parents.length-1]||null))&&(result=function lib_toResult(value){if(Array.isArray(value))return value;if("number"==typeof value)return[true,value];return[value]}(visitor(node,parents)),false===result[0]))return result;if(node.children&&"skip"!==result[0])for(offset=(reverse?node.children.length:-1)+step,grandparents=parents.concat(node);offset>-1&&offset<node.children.length;){if(subresult=factory(node.children[offset],offset,grandparents)(),false===subresult[0])return subresult;offset="number"==typeof subresult[1]?subresult[1]:offset+step}return result}}(tree,void 0,[])()};const lib_visit=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null),lib_visitParents(tree,test,(function overload(node,parents){const parent=parents[parents.length-1];return visitor(node,parent?parent.children.indexOf(node):null,parent)}),reverse)};function rehypeFilter(options){if(options.allowedElements&&options.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(options.allowedElements||options.disallowedElements||options.allowElement)return tree=>{lib_visit(tree,"element",((node,index,parent_)=>{const parent=parent_;let remove;if(options.allowedElements?remove=!options.allowedElements.includes(node.tagName):options.disallowedElements&&(remove=options.disallowedElements.includes(node.tagName)),!remove&&options.allowElement&&"number"==typeof index&&(remove=!options.allowElement(node,index,parent)),remove&&"number"==typeof index)return options.unwrapDisallowed&&node.children?parent.children.splice(index,1,...node.children):parent.children.splice(index,1),index}))}}var react_is=__webpack_require__("./node_modules/react-markdown/node_modules/react-is/index.js");function whitespace(thing){const value=thing&&"object"==typeof thing&&"text"===thing.type?thing.value||"":thing;return"string"==typeof value&&""===value.replace(/[ \t\n\f\r]/g,"")}const valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function kebab($0){return"-"+$0.toLowerCase()}function camelcase($0){return $0.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var style_to_object=__webpack_require__("./node_modules/style-to-object/index.js");const node_modules_style_to_object=__webpack_require__.n(style_to_object)(),protocols=["http","https","mailto","tel"];function uriTransformer(uri){const url=(uri||"").trim(),first=url.charAt(0);if("#"===first||"/"===first)return url;const colon=url.indexOf(":");if(-1===colon)return url;let index=-1;for(;++index<protocols.length;){const protocol=protocols[index];if(colon===protocol.length&&url.slice(0,protocol.length).toLowerCase()===protocol)return url}return index=url.indexOf("?"),-1!==index&&colon>index?url:(index=url.indexOf("#"),-1!==index&&colon>index?url:"javascript:void(0)")}const ast_to_react_own={}.hasOwnProperty,tableElements=new Set(["table","thead","tbody","tfoot","tr"]);function childrenToReact(context,node){const children=[];let child,childIndex=-1;for(;++childIndex<node.children.length;)child=node.children[childIndex],"element"===child.type?children.push(toReact(context,child,childIndex,node)):"text"===child.type?"element"===node.type&&tableElements.has(node.tagName)&&whitespace(child)||children.push(child.value):"raw"!==child.type||context.options.skipHtml||children.push(child.value);return children}function toReact(context,node,index,parent){const options=context.options,transform=void 0===options.transformLinkUri?uriTransformer:options.transformLinkUri,parentSchema=context.schema,name=node.tagName,properties={};let property,schema=parentSchema;if("html"===parentSchema.space&&"svg"===name&&(schema=property_information_svg,context.schema=schema),node.properties)for(property in node.properties)ast_to_react_own.call(node.properties,property)&&addProperty(properties,property,node.properties[property],context);"ol"!==name&&"ul"!==name||context.listDepth++;const children=childrenToReact(context,node);"ol"!==name&&"ul"!==name||context.listDepth--,context.schema=parentSchema;const position=node.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},component=options.components&&ast_to_react_own.call(options.components,name)?options.components[name]:name,basic="string"==typeof component||component===react.Fragment;if(!react_is.isValidElementType(component))throw new TypeError(`Component for name \`${name}\` not defined or is not renderable`);if(properties.key=index,"a"===name&&options.linkTarget&&(properties.target="function"==typeof options.linkTarget?options.linkTarget(String(properties.href||""),node.children,"string"==typeof properties.title?properties.title:null):options.linkTarget),"a"===name&&transform&&(properties.href=transform(String(properties.href||""),node.children,"string"==typeof properties.title?properties.title:null)),basic||"code"!==name||"element"!==parent.type||"pre"===parent.tagName||(properties.inline=!0),basic||"h1"!==name&&"h2"!==name&&"h3"!==name&&"h4"!==name&&"h5"!==name&&"h6"!==name||(properties.level=Number.parseInt(name.charAt(1),10)),"img"===name&&options.transformImageUri&&(properties.src=options.transformImageUri(String(properties.src||""),String(properties.alt||""),"string"==typeof properties.title?properties.title:null)),!basic&&"li"===name&&"element"===parent.type){const input=function getInputElement(node){let index=-1;for(;++index<node.children.length;){const child=node.children[index];if("element"===child.type&&"input"===child.tagName)return child}return null}(node);properties.checked=input&&input.properties?Boolean(input.properties.checked):null,properties.index=getElementsBeforeCount(parent,node),properties.ordered="ol"===parent.tagName}return basic||"ol"!==name&&"ul"!==name||(properties.ordered="ol"===name,properties.depth=context.listDepth),"td"!==name&&"th"!==name||(properties.align&&(properties.style||(properties.style={}),properties.style.textAlign=properties.align,delete properties.align),basic||(properties.isHeader="th"===name)),basic||"tr"!==name||"element"!==parent.type||(properties.isHeader=Boolean("thead"===parent.tagName)),options.sourcePos&&(properties["data-sourcepos"]=function flattenPosition(pos){return[pos.start.line,":",pos.start.column,"-",pos.end.line,":",pos.end.column].map(String).join("")}(position)),!basic&&options.rawSourcePos&&(properties.sourcePosition=node.position),!basic&&options.includeElementIndex&&(properties.index=getElementsBeforeCount(parent,node),properties.siblingCount=getElementsBeforeCount(parent)),basic||(properties.node=node),children.length>0?react.createElement(component,properties,children):react.createElement(component,properties)}function getElementsBeforeCount(parent,node){let index=-1,count=0;for(;++index<parent.children.length&&parent.children[index]!==node;)"element"===parent.children[index].type&&count++;return count}function addProperty(props,prop,value,ctx){const info=function find(schema,value){const normal=normalize_normalize(value);let prop=value,Type=Info;if(normal in schema.normal)return schema.property[schema.normal[normal]];if(normal.length>4&&"data"===normal.slice(0,4)&&valid.test(value)){if("-"===value.charAt(4)){const rest=value.slice(5).replace(dash,camelcase);prop="data"+rest.charAt(0).toUpperCase()+rest.slice(1)}else{const rest=value.slice(4);if(!dash.test(rest)){let dashes=rest.replace(cap,kebab);"-"!==dashes.charAt(0)&&(dashes="-"+dashes),value="data"+dashes}}Type=DefinedInfo}return new Type(prop,value)}(ctx.schema,prop);let result=value;null!=result&&result==result&&(Array.isArray(result)&&(result=info.commaSeparated?function comma_separated_tokens_stringify(values,options){const settings=options||{};return(""===values[values.length-1]?[...values,""]:values).join((settings.padRight?" ":"")+","+(!1===settings.padLeft?"":" ")).trim()}(result):function stringify(values){return values.join(" ").trim()}(result)),"style"===info.property&&"string"==typeof result&&(result=function parseStyle(value){const result={};try{node_modules_style_to_object(value,iterator)}catch{}return result;function iterator(name,v){const k="-ms-"===name.slice(0,4)?`ms-${name.slice(4)}`:name;result[k.replace(/-([a-z])/g,styleReplacer)]=v}}(result)),info.space&&info.property?props[ast_to_react_own.call(hastToReact,info.property)?hastToReact[info.property]:info.property]=result:info.attribute&&(props[info.attribute]=result))}function styleReplacer(_,$1){return $1.toUpperCase()}const react_markdown_own={}.hasOwnProperty,changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",deprecated={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ReactMarkdown(options){for(const key in deprecated)if(react_markdown_own.call(deprecated,key)&&react_markdown_own.call(options,key)){const deprecation=deprecated[key];console.warn(`[react-markdown] Warning: please ${deprecation.to?`use \`${deprecation.to}\` instead of`:"remove"} \`${key}\` (see <${changelog}#${deprecation.id}> for more info)`),delete deprecated[key]}const processor=unified().use(remarkParse).use(options.remarkPlugins||[]).use(lib,{...options.remarkRehypeOptions,allowDangerousHtml:!0}).use(options.rehypePlugins||[]).use(rehypeFilter,options),file=new VFile;"string"==typeof options.children?file.value=options.children:void 0!==options.children&&null!==options.children&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${options.children}\`)`);const hastNode=processor.runSync(processor.parse(file),file);if("root"!==hastNode.type)throw new TypeError("Expected a `root` node");let result=react.createElement(react.Fragment,{},childrenToReact({options,schema:property_information_html,listDepth:0},hastNode));return options.className&&(result=react.createElement("div",{className:options.className},result)),result}ReactMarkdown.propTypes={children:prop_types_default().string,className:prop_types_default().string,allowElement:prop_types_default().func,allowedElements:prop_types_default().arrayOf(prop_types_default().string),disallowedElements:prop_types_default().arrayOf(prop_types_default().string),unwrapDisallowed:prop_types_default().bool,remarkPlugins:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().object,prop_types_default().func,prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().string,prop_types_default().object,prop_types_default().func,prop_types_default().arrayOf(prop_types_default().any)]))])),rehypePlugins:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().object,prop_types_default().func,prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().string,prop_types_default().object,prop_types_default().func,prop_types_default().arrayOf(prop_types_default().any)]))])),sourcePos:prop_types_default().bool,rawSourcePos:prop_types_default().bool,skipHtml:prop_types_default().bool,includeElementIndex:prop_types_default().bool,transformLinkUri:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().bool]),linkTarget:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().string]),transformImageUri:prop_types_default().func,components:prop_types_default().object}},"./node_modules/react-markdown/node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var u,b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen");function v(a){if("object"==typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}u=Symbol.for("react.module.reference"),exports.ContextConsumer=h,exports.ContextProvider=g,exports.Element=b,exports.ForwardRef=l,exports.Fragment=d,exports.Lazy=q,exports.Memo=p,exports.Portal=c,exports.Profiler=f,exports.StrictMode=e,exports.Suspense=m,exports.SuspenseList=n,exports.isAsyncMode=function(){return!1},exports.isConcurrentMode=function(){return!1},exports.isContextConsumer=function(a){return v(a)===h},exports.isContextProvider=function(a){return v(a)===g},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===b},exports.isForwardRef=function(a){return v(a)===l},exports.isFragment=function(a){return v(a)===d},exports.isLazy=function(a){return v(a)===q},exports.isMemo=function(a){return v(a)===p},exports.isPortal=function(a){return v(a)===c},exports.isProfiler=function(a){return v(a)===f},exports.isStrictMode=function(a){return v(a)===e},exports.isSuspense=function(a){return v(a)===m},exports.isSuspenseList=function(a){return v(a)===n},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===d||a===f||a===e||a===m||a===n||a===t||"object"==typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)},exports.typeOf=v},"./node_modules/react-markdown/node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-markdown/node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-property/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:!0});function PropertyInfoRecord(name,type,mustUseProperty,attributeName,attributeNamespace,sanitizeURL,removeEmptyString){this.acceptsBooleans=2===type||3===type||4===type,this.attributeName=attributeName,this.attributeNamespace=attributeNamespace,this.mustUseProperty=mustUseProperty,this.propertyName=name,this.type=type,this.sanitizeURL=sanitizeURL,this.removeEmptyString=removeEmptyString}var properties={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,0,!1,name,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),name=_ref2[0],attributeName=_ref2[1];properties[name]=new PropertyInfoRecord(name,1,!1,attributeName,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,2,!1,name.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,2,!1,name,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,3,!1,name.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,3,!0,name,null,!1,!1)})),["capture","download"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,4,!1,name,null,!1,!1)})),["cols","rows","size","span"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,6,!1,name,null,!1,!1)})),["rowSpan","start"].forEach((function(name){properties[name]=new PropertyInfoRecord(name,5,!1,name.toLowerCase(),null,!1,!1)}));var CAMELIZE=/[\-\:]([a-z])/g,capitalize=function capitalize(token){return token[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(attributeName){var name=attributeName.replace(CAMELIZE,capitalize);properties[name]=new PropertyInfoRecord(name,1,!1,attributeName,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(attributeName){var name=attributeName.replace(CAMELIZE,capitalize);properties[name]=new PropertyInfoRecord(name,1,!1,attributeName,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(attributeName){var name=attributeName.replace(CAMELIZE,capitalize);properties[name]=new PropertyInfoRecord(name,1,!1,attributeName,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(attributeName){properties[attributeName]=new PropertyInfoRecord(attributeName,1,!1,attributeName.toLowerCase(),null,!1,!1)}));properties.xlinkHref=new PropertyInfoRecord("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(attributeName){properties[attributeName]=new PropertyInfoRecord(attributeName,1,!1,attributeName.toLowerCase(),null,!0,!0)}));var _require=__webpack_require__("./node_modules/react-property/lib/possibleStandardNamesOptimized.js"),CAMELCASE=_require.CAMELCASE,SAME=_require.SAME,possibleStandardNamesOptimized=_require.possibleStandardNames,isCustomAttribute=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),possibleStandardNames=Object.keys(possibleStandardNamesOptimized).reduce((function(accumulator,standardName){var propName=possibleStandardNamesOptimized[standardName];return propName===SAME?accumulator[standardName]=standardName:propName===CAMELCASE?accumulator[standardName.toLowerCase()]=standardName:accumulator[standardName]=propName,accumulator}),{});exports.BOOLEAN=3,exports.BOOLEANISH_STRING=2,exports.NUMERIC=5,exports.OVERLOADED_BOOLEAN=4,exports.POSITIVE_NUMERIC=6,exports.RESERVED=0,exports.STRING=1,exports.getPropertyInfo=function getPropertyInfo(name){return properties.hasOwnProperty(name)?properties[name]:null},exports.isCustomAttribute=isCustomAttribute,exports.possibleStandardNames=possibleStandardNames},"./node_modules/react-property/lib/possibleStandardNamesOptimized.js":(__unused_webpack_module,exports)=>{exports.SAME=0;exports.CAMELCASE=1,exports.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},"./node_modules/react-redux/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zt:()=>components_Provider,$j:()=>components_connect});var shim=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js"),with_selector=__webpack_require__("./node_modules/use-sync-external-store/shim/with-selector.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");let batch=function defaultNoopBatch(callback){callback()};const getBatch=()=>batch;var react=__webpack_require__("./node_modules/react/index.js");const Context_ReactReduxContext=(0,react.createContext)(null);let useSyncExternalStoreWithSelector=null;var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),hoist_non_react_statics_cjs=__webpack_require__("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs),react_is=__webpack_require__("./node_modules/react-redux/node_modules/react-is/index.js");const _excluded=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,{areStatesEqual,areOwnPropsEqual,areStatePropsEqual}){let state,ownProps,stateProps,dispatchProps,mergedProps,hasRunAtLeastOnce=!1;function handleSubsequentCalls(nextState,nextOwnProps){const propsChanged=!areOwnPropsEqual(nextOwnProps,ownProps),stateChanged=!areStatesEqual(nextState,state,nextOwnProps,ownProps);return state=nextState,ownProps=nextOwnProps,propsChanged&&stateChanged?function handleNewPropsAndNewState(){return stateProps=mapStateToProps(state,ownProps),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps),mergedProps}():propsChanged?function handleNewProps(){return mapStateToProps.dependsOnOwnProps&&(stateProps=mapStateToProps(state,ownProps)),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps),mergedProps}():stateChanged?function handleNewState(){const nextStateProps=mapStateToProps(state,ownProps),statePropsChanged=!areStatePropsEqual(nextStateProps,stateProps);return stateProps=nextStateProps,statePropsChanged&&(mergedProps=mergeProps(stateProps,dispatchProps,ownProps)),mergedProps}():mergedProps}return function pureFinalPropsSelector(nextState,nextOwnProps){return hasRunAtLeastOnce?handleSubsequentCalls(nextState,nextOwnProps):function handleFirstCall(firstState,firstOwnProps){return state=firstState,ownProps=firstOwnProps,stateProps=mapStateToProps(state,ownProps),dispatchProps=mapDispatchToProps(dispatch,ownProps),mergedProps=mergeProps(stateProps,dispatchProps,ownProps),hasRunAtLeastOnce=!0,mergedProps}(nextState,nextOwnProps)}}function wrapMapToPropsConstant(getConstant){return function initConstantSelector(dispatch){const constant=getConstant(dispatch);function constantSelector(){return constant}return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(mapToProps){return mapToProps.dependsOnOwnProps?Boolean(mapToProps.dependsOnOwnProps):1!==mapToProps.length}function wrapMapToPropsFunc(mapToProps,methodName){return function initProxySelector(dispatch,{displayName}){const proxy=function mapToPropsProxy(stateOrDispatch,ownProps){return proxy.dependsOnOwnProps?proxy.mapToProps(stateOrDispatch,ownProps):proxy.mapToProps(stateOrDispatch,void 0)};return proxy.dependsOnOwnProps=!0,proxy.mapToProps=function detectFactoryAndVerify(stateOrDispatch,ownProps){proxy.mapToProps=mapToProps,proxy.dependsOnOwnProps=getDependsOnOwnProps(mapToProps);let props=proxy(stateOrDispatch,ownProps);return"function"==typeof props&&(proxy.mapToProps=props,proxy.dependsOnOwnProps=getDependsOnOwnProps(props),props=proxy(stateOrDispatch,ownProps)),props},proxy}}function createInvalidArgFactory(arg,name){return(dispatch,options)=>{throw new Error(`Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`)}}function defaultMergeProps(stateProps,dispatchProps,ownProps){return(0,esm_extends.Z)({},ownProps,stateProps,dispatchProps)}const nullListeners={notify(){},get:()=>[]};function createSubscription(store,parentSub){let unsubscribe,listeners=nullListeners;function handleChangeWrapper(){subscription.onStateChange&&subscription.onStateChange()}function trySubscribe(){unsubscribe||(unsubscribe=parentSub?parentSub.addNestedSub(handleChangeWrapper):store.subscribe(handleChangeWrapper),listeners=function createListenerCollection(){const batch=getBatch();let first=null,last=null;return{clear(){first=null,last=null},notify(){batch((()=>{let listener=first;for(;listener;)listener.callback(),listener=listener.next}))},get(){let listeners=[],listener=first;for(;listener;)listeners.push(listener),listener=listener.next;return listeners},subscribe(callback){let isSubscribed=!0,listener=last={callback,next:null,prev:last};return listener.prev?listener.prev.next=listener:first=listener,function unsubscribe(){isSubscribed&&null!==first&&(isSubscribed=!1,listener.next?listener.next.prev=listener.prev:last=listener.prev,listener.prev?listener.prev.next=listener.next:first=listener.next)}}}}())}const subscription={addNestedSub:function addNestedSub(listener){return trySubscribe(),listeners.subscribe(listener)},notifyNestedSubs:function notifyNestedSubs(){listeners.notify()},handleChangeWrapper,isSubscribed:function isSubscribed(){return Boolean(unsubscribe)},trySubscribe,tryUnsubscribe:function tryUnsubscribe(){unsubscribe&&(unsubscribe(),unsubscribe=void 0,listeners.clear(),listeners=nullListeners)},getListeners:()=>listeners};return subscription}const useIsomorphicLayoutEffect=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?react.useLayoutEffect:react.useEffect;function is(x,y){return x===y?0!==x||0!==y||1/x==1/y:x!=x&&y!=y}function shallowEqual(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;const keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(let i=0;i<keysA.length;i++)if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}const connect_excluded=["reactReduxForwardedRef"];let useSyncExternalStore=()=>{throw new Error("uSES not initialized!")};const NO_SUBSCRIPTION_ARRAY=[null,null];function captureWrapperProps(lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,childPropsFromStoreUpdate,notifyNestedSubs){lastWrapperProps.current=wrapperProps,renderIsScheduled.current=!1,childPropsFromStoreUpdate.current&&(childPropsFromStoreUpdate.current=null,notifyNestedSubs())}function strictEqual(a,b){return a===b}const components_connect=function connect(mapStateToProps,mapDispatchToProps,mergeProps,{pure,areStatesEqual=strictEqual,areOwnPropsEqual=shallowEqual,areStatePropsEqual=shallowEqual,areMergedPropsEqual=shallowEqual,forwardRef=!1,context=Context_ReactReduxContext}={}){const Context=context,initMapStateToProps=function mapStateToPropsFactory(mapStateToProps){return mapStateToProps?"function"==typeof mapStateToProps?wrapMapToPropsFunc(mapStateToProps):createInvalidArgFactory(mapStateToProps,"mapStateToProps"):wrapMapToPropsConstant((()=>({})))}(mapStateToProps),initMapDispatchToProps=function mapDispatchToPropsFactory(mapDispatchToProps){return mapDispatchToProps&&"object"==typeof mapDispatchToProps?wrapMapToPropsConstant((dispatch=>function bindActionCreators(actionCreators,dispatch){const boundActionCreators={};for(const key in actionCreators){const actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=(...args)=>dispatch(actionCreator(...args)))}return boundActionCreators}(mapDispatchToProps,dispatch))):mapDispatchToProps?"function"==typeof mapDispatchToProps?wrapMapToPropsFunc(mapDispatchToProps):createInvalidArgFactory(mapDispatchToProps,"mapDispatchToProps"):wrapMapToPropsConstant((dispatch=>({dispatch})))}(mapDispatchToProps),initMergeProps=function mergePropsFactory(mergeProps){return mergeProps?"function"==typeof mergeProps?function wrapMergePropsFunc(mergeProps){return function initMergePropsProxy(dispatch,{displayName,areMergedPropsEqual}){let mergedProps,hasRunOnce=!1;return function mergePropsProxy(stateProps,dispatchProps,ownProps){const nextMergedProps=mergeProps(stateProps,dispatchProps,ownProps);return hasRunOnce?areMergedPropsEqual(nextMergedProps,mergedProps)||(mergedProps=nextMergedProps):(hasRunOnce=!0,mergedProps=nextMergedProps),mergedProps}}}(mergeProps):createInvalidArgFactory(mergeProps,"mergeProps"):()=>defaultMergeProps}(mergeProps),shouldHandleStateChanges=Boolean(mapStateToProps);return WrappedComponent=>{const wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component",displayName=`Connect(${wrappedComponentName})`,selectorFactoryOptions={shouldHandleStateChanges,displayName,wrappedComponentName,WrappedComponent,initMapStateToProps,initMapDispatchToProps,initMergeProps,areStatesEqual,areStatePropsEqual,areOwnPropsEqual,areMergedPropsEqual};function ConnectFunction(props){const[propsContext,reactReduxForwardedRef,wrapperProps]=(0,react.useMemo)((()=>{const{reactReduxForwardedRef}=props,wrapperProps=(0,objectWithoutPropertiesLoose.Z)(props,connect_excluded);return[props.context,reactReduxForwardedRef,wrapperProps]}),[props]),ContextToUse=(0,react.useMemo)((()=>propsContext&&propsContext.Consumer&&(0,react_is.isContextConsumer)(react.createElement(propsContext.Consumer,null))?propsContext:Context),[propsContext,Context]),contextValue=(0,react.useContext)(ContextToUse),didStoreComeFromProps=Boolean(props.store)&&Boolean(props.store.getState)&&Boolean(props.store.dispatch),didStoreComeFromContext=Boolean(contextValue)&&Boolean(contextValue.store);const store=didStoreComeFromProps?props.store:contextValue.store,getServerState=didStoreComeFromContext?contextValue.getServerState:store.getState,childPropsSelector=(0,react.useMemo)((()=>function finalPropsSelectorFactory(dispatch,_ref){let{initMapStateToProps,initMapDispatchToProps,initMergeProps}=_ref,options=(0,objectWithoutPropertiesLoose.Z)(_ref,_excluded);return pureFinalPropsSelectorFactory(initMapStateToProps(dispatch,options),initMapDispatchToProps(dispatch,options),initMergeProps(dispatch,options),dispatch,options)}(store.dispatch,selectorFactoryOptions)),[store]),[subscription,notifyNestedSubs]=(0,react.useMemo)((()=>{if(!shouldHandleStateChanges)return NO_SUBSCRIPTION_ARRAY;const subscription=createSubscription(store,didStoreComeFromProps?void 0:contextValue.subscription),notifyNestedSubs=subscription.notifyNestedSubs.bind(subscription);return[subscription,notifyNestedSubs]}),[store,didStoreComeFromProps,contextValue]),overriddenContextValue=(0,react.useMemo)((()=>didStoreComeFromProps?contextValue:(0,esm_extends.Z)({},contextValue,{subscription})),[didStoreComeFromProps,contextValue,subscription]),lastChildProps=(0,react.useRef)(),lastWrapperProps=(0,react.useRef)(wrapperProps),childPropsFromStoreUpdate=(0,react.useRef)(),renderIsScheduled=(0,react.useRef)(!1),isMounted=((0,react.useRef)(!1),(0,react.useRef)(!1)),latestSubscriptionCallbackError=(0,react.useRef)();useIsomorphicLayoutEffect((()=>(isMounted.current=!0,()=>{isMounted.current=!1})),[]);const actualChildPropsSelector=(0,react.useMemo)((()=>()=>childPropsFromStoreUpdate.current&&wrapperProps===lastWrapperProps.current?childPropsFromStoreUpdate.current:childPropsSelector(store.getState(),wrapperProps)),[store,wrapperProps]),subscribeForReact=(0,react.useMemo)((()=>reactListener=>subscription?function subscribeUpdates(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,isMounted,childPropsFromStoreUpdate,notifyNestedSubs,additionalSubscribeListener){if(!shouldHandleStateChanges)return()=>{};let didUnsubscribe=!1,lastThrownError=null;const checkForUpdates=()=>{if(didUnsubscribe||!isMounted.current)return;const latestStoreState=store.getState();let newChildProps,error;try{newChildProps=childPropsSelector(latestStoreState,lastWrapperProps.current)}catch(e){error=e,lastThrownError=e}error||(lastThrownError=null),newChildProps===lastChildProps.current?renderIsScheduled.current||notifyNestedSubs():(lastChildProps.current=newChildProps,childPropsFromStoreUpdate.current=newChildProps,renderIsScheduled.current=!0,additionalSubscribeListener())};return subscription.onStateChange=checkForUpdates,subscription.trySubscribe(),checkForUpdates(),()=>{if(didUnsubscribe=!0,subscription.tryUnsubscribe(),subscription.onStateChange=null,lastThrownError)throw lastThrownError}}(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,isMounted,childPropsFromStoreUpdate,notifyNestedSubs,reactListener):()=>{}),[subscription]);let actualChildProps;!function useIsomorphicLayoutEffectWithArgs(effectFunc,effectArgs,dependencies){useIsomorphicLayoutEffect((()=>effectFunc(...effectArgs)),dependencies)}(captureWrapperProps,[lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,childPropsFromStoreUpdate,notifyNestedSubs]);try{actualChildProps=useSyncExternalStore(subscribeForReact,actualChildPropsSelector,getServerState?()=>childPropsSelector(getServerState(),wrapperProps):actualChildPropsSelector)}catch(err){throw latestSubscriptionCallbackError.current&&(err.message+=`\nThe error may be correlated with this previous error:\n${latestSubscriptionCallbackError.current.stack}\n\n`),err}useIsomorphicLayoutEffect((()=>{latestSubscriptionCallbackError.current=void 0,childPropsFromStoreUpdate.current=void 0,lastChildProps.current=actualChildProps}));const renderedWrappedComponent=(0,react.useMemo)((()=>react.createElement(WrappedComponent,(0,esm_extends.Z)({},actualChildProps,{ref:reactReduxForwardedRef}))),[reactReduxForwardedRef,WrappedComponent,actualChildProps]);return(0,react.useMemo)((()=>shouldHandleStateChanges?react.createElement(ContextToUse.Provider,{value:overriddenContextValue},renderedWrappedComponent):renderedWrappedComponent),[ContextToUse,renderedWrappedComponent,overriddenContextValue])}const Connect=react.memo(ConnectFunction);if(Connect.WrappedComponent=WrappedComponent,Connect.displayName=ConnectFunction.displayName=displayName,forwardRef){const forwarded=react.forwardRef((function forwardConnectRef(props,ref){return react.createElement(Connect,(0,esm_extends.Z)({},props,{reactReduxForwardedRef:ref}))}));return forwarded.displayName=displayName,forwarded.WrappedComponent=WrappedComponent,hoist_non_react_statics_cjs_default()(forwarded,WrappedComponent)}return hoist_non_react_statics_cjs_default()(Connect,WrappedComponent)}};const components_Provider=function Provider({store,context,children,serverState}){const contextValue=(0,react.useMemo)((()=>{const subscription=createSubscription(store);return{store,subscription,getServerState:serverState?()=>serverState:void 0}}),[store,serverState]),previousState=(0,react.useMemo)((()=>store.getState()),[store]);useIsomorphicLayoutEffect((()=>{const{subscription}=contextValue;return subscription.onStateChange=subscription.notifyNestedSubs,subscription.trySubscribe(),previousState!==store.getState()&&subscription.notifyNestedSubs(),()=>{subscription.tryUnsubscribe(),subscription.onStateChange=void 0}}),[contextValue,previousState]);const Context=context||Context_ReactReduxContext;return react.createElement(Context.Provider,{value:contextValue},children)};var fn,newBatch;fn=with_selector.useSyncExternalStoreWithSelector,useSyncExternalStoreWithSelector=fn,(fn=>{useSyncExternalStore=fn})(shim.useSyncExternalStore),newBatch=react_dom.unstable_batchedUpdates,batch=newBatch},"./node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var u,b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen");function v(a){if("object"==typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}u=Symbol.for("react.module.reference"),exports.isContextConsumer=function(a){return v(a)===h}},"./node_modules/react-redux/node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-router-dom/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UT:()=>HashRouter,fW:()=>createSearchParams,lr:()=>useSearchParams});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-router/dist/index.js"),_remix_run_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@remix-run/router/dist/router.js");function createSearchParams(init){return void 0===init&&(init=""),new URLSearchParams("string"==typeof init||Array.isArray(init)||init instanceof URLSearchParams?init:Object.keys(init).reduce(((memo,key)=>{let value=init[key];return memo.concat(Array.isArray(value)?value.map((v=>[key,v])):[[key,value]])}),[]))}function HashRouter(_ref2){let{basename,children,window}=_ref2,historyRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef();null==historyRef.current&&(historyRef.current=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.q_)({window,v5Compat:!0}));let history=historyRef.current,[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState({action:history.action,location:history.location});return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect((()=>history.listen(setState)),[history]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.F0,{basename,children,location:state.location,navigationType:state.action,navigator:history})}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var DataRouterHook,DataRouterStateHook;function useSearchParams(defaultInit){let defaultSearchParamsRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(createSearchParams(defaultInit)),hasSetSearchParamsRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1),location=(0,react_router__WEBPACK_IMPORTED_MODULE_2__.TH)(),searchParams=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>function getSearchParamsForLocation(locationSearch,defaultSearchParams){let searchParams=createSearchParams(locationSearch);if(defaultSearchParams)for(let key of defaultSearchParams.keys())searchParams.has(key)||defaultSearchParams.getAll(key).forEach((value=>{searchParams.append(key,value)}));return searchParams}(location.search,hasSetSearchParamsRef.current?null:defaultSearchParamsRef.current)),[location.search]),navigate=(0,react_router__WEBPACK_IMPORTED_MODULE_2__.s0)(),setSearchParams=react__WEBPACK_IMPORTED_MODULE_0__.useCallback(((nextInit,navigateOptions)=>{const newSearchParams=createSearchParams("function"==typeof nextInit?nextInit(searchParams):nextInit);hasSetSearchParamsRef.current=!0,navigate("?"+newSearchParams,navigateOptions)}),[navigate,searchParams]);return[searchParams,setSearchParams]}(function(DataRouterHook){DataRouterHook.UseScrollRestoration="useScrollRestoration",DataRouterHook.UseSubmitImpl="useSubmitImpl",DataRouterHook.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={})),function(DataRouterStateHook){DataRouterStateHook.UseFetchers="useFetchers",DataRouterStateHook.UseScrollRestoration="useScrollRestoration"}(DataRouterStateHook||(DataRouterStateHook={}))},"./node_modules/react-router/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AW:()=>Route,F0:()=>Router,Fg:()=>Navigate,TH:()=>useLocation,UO:()=>useParams,Z5:()=>Routes,s0:()=>useNavigate});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_remix_run_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@remix-run/router/dist/router.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const DataRouterContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);const DataRouterStateContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);const NavigationContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);const LocationContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);const RouteContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({outlet:null,matches:[],isDataRoute:!1});const RouteErrorContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);function useInRouterContext(){return null!=react__WEBPACK_IMPORTED_MODULE_0__.useContext(LocationContext)}function useLocation(){return useInRouterContext()||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),react__WEBPACK_IMPORTED_MODULE_0__.useContext(LocationContext).location}function useIsomorphicLayoutEffect(cb){react__WEBPACK_IMPORTED_MODULE_0__.useContext(NavigationContext).static||react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(cb)}function useNavigate(){let{isDataRoute}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext);return isDataRoute?function useNavigateStable(){let{router}=useDataRouterContext(DataRouterHook.UseNavigateStable),id=useCurrentRouteId(DataRouterStateHook.UseNavigateStable),activeRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);return useIsomorphicLayoutEffect((()=>{activeRef.current=!0})),react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(to,options){void 0===options&&(options={}),activeRef.current&&("number"==typeof to?router.navigate(to):router.navigate(to,_extends({fromRouteId:id},options)))}),[router,id])}():function useNavigateUnstable(){useInRouterContext()||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let{basename,navigator}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(NavigationContext),{matches}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext),{pathname:locationPathname}=useLocation(),routePathnamesJson=JSON.stringify((0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.Zq)(matches).map((match=>match.pathnameBase))),activeRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);return useIsomorphicLayoutEffect((()=>{activeRef.current=!0})),react__WEBPACK_IMPORTED_MODULE_0__.useCallback((function(to,options){if(void 0===options&&(options={}),!activeRef.current)return;if("number"==typeof to)return void navigator.go(to);let path=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.pC)(to,JSON.parse(routePathnamesJson),locationPathname,"path"===options.relative);"/"!==basename&&(path.pathname="/"===path.pathname?basename:(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.RQ)([basename,path.pathname])),(options.replace?navigator.replace:navigator.push)(path,options.state,options)}),[basename,navigator,routePathnamesJson,locationPathname])}()}function useParams(){let{matches}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext),routeMatch=matches[matches.length-1];return routeMatch?routeMatch.params:{}}function useRoutesImpl(routes,locationArg,dataRouterState){useInRouterContext()||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let{navigator}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(NavigationContext),{matches:parentMatches}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext),routeMatch=parentMatches[parentMatches.length-1],parentParams=routeMatch?routeMatch.params:{},parentPathnameBase=(routeMatch&&routeMatch.pathname,routeMatch?routeMatch.pathnameBase:"/");routeMatch&&routeMatch.route;let location,locationFromContext=useLocation();if(locationArg){var _parsedLocationArg$pa;let parsedLocationArg="string"==typeof locationArg?(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.cP)(locationArg):locationArg;"/"===parentPathnameBase||(null==(_parsedLocationArg$pa=parsedLocationArg.pathname)?void 0:_parsedLocationArg$pa.startsWith(parentPathnameBase))||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),location=parsedLocationArg}else location=locationFromContext;let pathname=location.pathname||"/",remainingPathname="/"===parentPathnameBase?pathname:pathname.slice(parentPathnameBase.length)||"/",matches=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.fp)(routes,{pathname:remainingPathname});let renderedMatches=_renderMatches(matches&&matches.map((match=>Object.assign({},match,{params:Object.assign({},parentParams,match.params),pathname:(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.RQ)([parentPathnameBase,navigator.encodeLocation?navigator.encodeLocation(match.pathname).pathname:match.pathname]),pathnameBase:"/"===match.pathnameBase?parentPathnameBase:(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.RQ)([parentPathnameBase,navigator.encodeLocation?navigator.encodeLocation(match.pathnameBase).pathname:match.pathnameBase])}))),parentMatches,dataRouterState);return locationArg&&renderedMatches?react__WEBPACK_IMPORTED_MODULE_0__.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},location),navigationType:_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.aU.Pop}},renderedMatches):renderedMatches}function DefaultErrorComponent(){let error=function useRouteError(){var _state$errors;let error=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteErrorContext),state=useDataRouterState(DataRouterStateHook.UseRouteError),routeId=useCurrentRouteId(DataRouterStateHook.UseRouteError);if(error)return error;return null==(_state$errors=state.errors)?void 0:_state$errors[routeId]}(),message=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.WK)(error)?error.status+" "+error.statusText:error instanceof Error?error.message:JSON.stringify(error),stack=error instanceof Error?error.stack:null,preStyles={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,"Unexpected Application Error!"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{style:{fontStyle:"italic"}},message),stack?react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",{style:preStyles},stack):null,null)}const defaultErrorElement=react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state={location:props.location,revalidation:props.revalidation,error:props.error}}static getDerivedStateFromError(error){return{error}}static getDerivedStateFromProps(props,state){return state.location!==props.location||"idle"!==state.revalidation&&"idle"===props.revalidation?{error:props.error,location:props.location,revalidation:props.revalidation}:{error:props.error||state.error,location:state.location,revalidation:props.revalidation||state.revalidation}}componentDidCatch(error,errorInfo){console.error("React Router caught the following error during render",error,errorInfo)}render(){return this.state.error?react__WEBPACK_IMPORTED_MODULE_0__.createElement(RouteContext.Provider,{value:this.props.routeContext},react__WEBPACK_IMPORTED_MODULE_0__.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_ref){let{routeContext,match,children}=_ref,dataRouterContext=react__WEBPACK_IMPORTED_MODULE_0__.useContext(DataRouterContext);return dataRouterContext&&dataRouterContext.static&&dataRouterContext.staticContext&&(match.route.errorElement||match.route.ErrorBoundary)&&(dataRouterContext.staticContext._deepestRenderedBoundaryId=match.route.id),react__WEBPACK_IMPORTED_MODULE_0__.createElement(RouteContext.Provider,{value:routeContext},children)}function _renderMatches(matches,parentMatches,dataRouterState){var _dataRouterState2;if(void 0===parentMatches&&(parentMatches=[]),void 0===dataRouterState&&(dataRouterState=null),null==matches){var _dataRouterState;if(null==(_dataRouterState=dataRouterState)||!_dataRouterState.errors)return null;matches=dataRouterState.matches}let renderedMatches=matches,errors=null==(_dataRouterState2=dataRouterState)?void 0:_dataRouterState2.errors;if(null!=errors){let errorIndex=renderedMatches.findIndex((m=>m.route.id&&(null==errors?void 0:errors[m.route.id])));errorIndex>=0||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),renderedMatches=renderedMatches.slice(0,Math.min(renderedMatches.length,errorIndex+1))}return renderedMatches.reduceRight(((outlet,match,index)=>{let error=match.route.id?null==errors?void 0:errors[match.route.id]:null,errorElement=null;dataRouterState&&(errorElement=match.route.errorElement||defaultErrorElement);let matches=parentMatches.concat(renderedMatches.slice(0,index+1)),getChildren=()=>{let children;return children=error?errorElement:match.route.Component?react__WEBPACK_IMPORTED_MODULE_0__.createElement(match.route.Component,null):match.route.element?match.route.element:outlet,react__WEBPACK_IMPORTED_MODULE_0__.createElement(RenderedRoute,{match,routeContext:{outlet,matches,isDataRoute:null!=dataRouterState},children})};return dataRouterState&&(match.route.ErrorBoundary||match.route.errorElement||0===index)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(RenderErrorBoundary,{location:dataRouterState.location,revalidation:dataRouterState.revalidation,component:errorElement,error,children:getChildren(),routeContext:{outlet:null,matches,isDataRoute:!0}}):getChildren()}),null)}var DataRouterHook,DataRouterStateHook;function useDataRouterContext(hookName){let ctx=react__WEBPACK_IMPORTED_MODULE_0__.useContext(DataRouterContext);return ctx||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),ctx}function useDataRouterState(hookName){let state=react__WEBPACK_IMPORTED_MODULE_0__.useContext(DataRouterStateContext);return state||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),state}function useCurrentRouteId(hookName){let route=function useRouteContext(hookName){let route=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext);return route||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),route}(),thisRoute=route.matches[route.matches.length-1];return thisRoute.route.id||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),thisRoute.route.id}!function(DataRouterHook){DataRouterHook.UseBlocker="useBlocker",DataRouterHook.UseRevalidator="useRevalidator",DataRouterHook.UseNavigateStable="useNavigate"}(DataRouterHook||(DataRouterHook={})),function(DataRouterStateHook){DataRouterStateHook.UseBlocker="useBlocker",DataRouterStateHook.UseLoaderData="useLoaderData",DataRouterStateHook.UseActionData="useActionData",DataRouterStateHook.UseRouteError="useRouteError",DataRouterStateHook.UseNavigation="useNavigation",DataRouterStateHook.UseRouteLoaderData="useRouteLoaderData",DataRouterStateHook.UseMatches="useMatches",DataRouterStateHook.UseRevalidator="useRevalidator",DataRouterStateHook.UseNavigateStable="useNavigate",DataRouterStateHook.UseRouteId="useRouteId"}(DataRouterStateHook||(DataRouterStateHook={}));function Navigate(_ref4){let{to,replace,state,relative}=_ref4;useInRouterContext()||(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let{matches}=react__WEBPACK_IMPORTED_MODULE_0__.useContext(RouteContext),{pathname:locationPathname}=useLocation(),navigate=useNavigate(),path=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.pC)(to,(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.Zq)(matches).map((match=>match.pathnameBase)),locationPathname,"path"===relative),jsonPath=JSON.stringify(path);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>navigate(JSON.parse(jsonPath),{replace,state,relative})),[navigate,jsonPath,relative,replace,state]),null}function Route(_props){(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1)}function Router(_ref5){let{basename:basenameProp="/",children=null,location:locationProp,navigationType=_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.aU.Pop,navigator,static:staticProp=!1}=_ref5;useInRouterContext()&&(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let basename=basenameProp.replace(/^\/*/,"/"),navigationContext=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({basename,navigator,static:staticProp})),[basename,navigator,staticProp]);"string"==typeof locationProp&&(locationProp=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.cP)(locationProp));let{pathname="/",search="",hash="",state=null,key="default"}=locationProp,locationContext=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{let trailingPathname=(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.Zn)(pathname,basename);return null==trailingPathname?null:{location:{pathname:trailingPathname,search,hash,state,key},navigationType}}),[basename,pathname,search,hash,state,key,navigationType]);return null==locationContext?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationContext.Provider,{value:navigationContext},react__WEBPACK_IMPORTED_MODULE_0__.createElement(LocationContext.Provider,{children,value:locationContext}))}function Routes(_ref6){let{children,location}=_ref6;return function useRoutes(routes,locationArg){return useRoutesImpl(routes,locationArg)}(createRoutesFromChildren(children),location)}var AwaitRenderStatus;!function(AwaitRenderStatus){AwaitRenderStatus[AwaitRenderStatus.pending=0]="pending",AwaitRenderStatus[AwaitRenderStatus.success=1]="success",AwaitRenderStatus[AwaitRenderStatus.error=2]="error"}(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise((()=>{}));react__WEBPACK_IMPORTED_MODULE_0__.Component;function createRoutesFromChildren(children,parentPath){void 0===parentPath&&(parentPath=[]);let routes=[];return react__WEBPACK_IMPORTED_MODULE_0__.Children.forEach(children,((element,index)=>{if(!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(element))return;let treePath=[...parentPath,index];if(element.type===react__WEBPACK_IMPORTED_MODULE_0__.Fragment)return void routes.push.apply(routes,createRoutesFromChildren(element.props.children,treePath));element.type!==Route&&(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1),element.props.index&&element.props.children&&(0,_remix_run_router__WEBPACK_IMPORTED_MODULE_1__.J0)(!1);let route={id:element.props.id||treePath.join("-"),caseSensitive:element.props.caseSensitive,element:element.props.element,Component:element.props.Component,index:element.props.index,path:element.props.path,loader:element.props.loader,action:element.props.action,errorElement:element.props.errorElement,ErrorBoundary:element.props.ErrorBoundary,hasErrorBoundary:null!=element.props.ErrorBoundary||null!=element.props.errorElement,shouldRevalidate:element.props.shouldRevalidate,handle:element.props.handle,lazy:element.props.lazy};element.props.children&&(route.children=createRoutesFromChildren(element.props.children,treePath)),routes.push(route)})),routes}},"./node_modules/react-scroll/modules/components/Button.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_scrollLink2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-link.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ButtonElement=function(_React$Component){function ButtonElement(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ButtonElement),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ButtonElement.__proto__||Object.getPrototypeOf(ButtonElement)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ButtonElement,_React$Component),_createClass(ButtonElement,[{key:"render",value:function render(){return _react2.default.createElement("input",this.props,this.props.children)}}]),ButtonElement}(_react2.default.Component);exports.default=(0,_scrollLink2.default)(ButtonElement)},"./node_modules/react-scroll/modules/components/Element.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_scrollElement2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-element.js")),_propTypes2=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ElementWrapper=function(_React$Component){function ElementWrapper(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ElementWrapper),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(ElementWrapper.__proto__||Object.getPrototypeOf(ElementWrapper)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(ElementWrapper,_React$Component),_createClass(ElementWrapper,[{key:"render",value:function render(){var _this2=this,newProps=_extends({},this.props);return newProps.parentBindings&&delete newProps.parentBindings,_react2.default.createElement("div",_extends({},newProps,{ref:function ref(el){_this2.props.parentBindings.domNode=el}}),this.props.children)}}]),ElementWrapper}(_react2.default.Component);ElementWrapper.propTypes={name:_propTypes2.default.string,id:_propTypes2.default.string},exports.default=(0,_scrollElement2.default)(ElementWrapper)},"./node_modules/react-scroll/modules/components/Link.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_scrollLink2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-link.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}var LinkElement=function(_React$Component){function LinkElement(){var _ref,_temp,_this;!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinkElement);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=LinkElement.__proto__||Object.getPrototypeOf(LinkElement)).call.apply(_ref,[this].concat(args))),_this.render=function(){return _react2.default.createElement("a",_this.props,_this.props.children)},_possibleConstructorReturn(_this,_temp)}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(LinkElement,_React$Component),LinkElement}(_react2.default.Component);exports.default=(0,_scrollLink2.default)(LinkElement)},"./node_modules/react-scroll/modules/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.rU=void 0;var _Link2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/components/Link.js")),_Button2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/components/Button.js")),_Element2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/components/Element.js")),_scroller2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroller.js")),_scrollEvents2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-events.js")),_scrollSpy2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-spy.js")),_animateScroll2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/animate-scroll.js")),_scrollLink2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-link.js")),_scrollElement2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-element.js")),_Helpers2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/Helpers.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.rU=_Link2.default,_Button2.default,_Element2.default,_scroller2.default,_scrollEvents2.default,_scrollSpy2.default,_animateScroll2.default,_scrollLink2.default,_scrollElement2.default,_Helpers2.default,_Link2.default,_Button2.default,_Element2.default,_scroller2.default,_scrollEvents2.default,_scrollSpy2.default,_animateScroll2.default,_scrollLink2.default,_scrollElement2.default,_Helpers2.default},"./node_modules/react-scroll/modules/mixins/Helpers.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var React=__webpack_require__("./node_modules/react/index.js"),scrollSpy=(__webpack_require__("./node_modules/react-dom/index.js"),__webpack_require__("./node_modules/react-scroll/modules/mixins/utils.js"),__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-spy.js")),defaultScroller=__webpack_require__("./node_modules/react-scroll/modules/mixins/scroller.js"),PropTypes=__webpack_require__("./node_modules/prop-types/index.js"),scrollHash=__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-hash.js"),protoTypes={to:PropTypes.string.isRequired,containerId:PropTypes.string,container:PropTypes.object,activeClass:PropTypes.string,spy:PropTypes.bool,smooth:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),offset:PropTypes.number,delay:PropTypes.number,isDynamic:PropTypes.bool,onClick:PropTypes.func,duration:PropTypes.oneOfType([PropTypes.number,PropTypes.func]),absolute:PropTypes.bool,onSetActive:PropTypes.func,onSetInactive:PropTypes.func,ignoreCancelEvents:PropTypes.bool,hashSpy:PropTypes.bool,spyThrottle:PropTypes.number},Helpers={Scroll:function Scroll(Component,customScroller){console.warn("Helpers.Scroll is deprecated since v1.7.0");var scroller=customScroller||defaultScroller,Scroll=function(_React$Component){function Scroll(props){_classCallCheck(this,Scroll);var _this=_possibleConstructorReturn(this,(Scroll.__proto__||Object.getPrototypeOf(Scroll)).call(this,props));return _initialiseProps.call(_this),_this.state={active:!1},_this}return _inherits(Scroll,_React$Component),_createClass(Scroll,[{key:"getScrollSpyContainer",value:function getScrollSpyContainer(){var containerId=this.props.containerId,container=this.props.container;return containerId?document.getElementById(containerId):container&&container.nodeType?container:document}},{key:"componentDidMount",value:function componentDidMount(){if(this.props.spy||this.props.hashSpy){var scrollSpyContainer=this.getScrollSpyContainer();scrollSpy.isMounted(scrollSpyContainer)||scrollSpy.mount(scrollSpyContainer,this.props.spyThrottle),this.props.hashSpy&&(scrollHash.isMounted()||scrollHash.mount(scroller),scrollHash.mapContainer(this.props.to,scrollSpyContainer)),this.props.spy&&scrollSpy.addStateHandler(this.stateHandler),scrollSpy.addSpyHandler(this.spyHandler,scrollSpyContainer),this.setState({container:scrollSpyContainer})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){scrollSpy.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function render(){var className="";className=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var props=_extends({},this.props);for(var prop in protoTypes)props.hasOwnProperty(prop)&&delete props[prop];return props.className=className,props.onClick=this.handleClick,React.createElement(Component,props)}}]),Scroll}(React.Component),_initialiseProps=function _initialiseProps(){var _this2=this;this.scrollTo=function(to,props){scroller.scrollTo(to,_extends({},_this2.state,props))},this.handleClick=function(event){_this2.props.onClick&&_this2.props.onClick(event),event.stopPropagation&&event.stopPropagation(),event.preventDefault&&event.preventDefault(),_this2.scrollTo(_this2.props.to,_this2.props)},this.stateHandler=function(){scroller.getActiveLink()!==_this2.props.to&&(null!==_this2.state&&_this2.state.active&&_this2.props.onSetInactive&&_this2.props.onSetInactive(),_this2.setState({active:!1}))},this.spyHandler=function(y){var scrollSpyContainer=_this2.getScrollSpyContainer();if(!scrollHash.isMounted()||scrollHash.isInitialized()){var to=_this2.props.to,element=null,elemTopBound=0,elemBottomBound=0,containerTop=0;if(scrollSpyContainer.getBoundingClientRect)containerTop=scrollSpyContainer.getBoundingClientRect().top;if(!element||_this2.props.isDynamic){if(!(element=scroller.get(to)))return;var cords=element.getBoundingClientRect();elemBottomBound=(elemTopBound=cords.top-containerTop+y)+cords.height}var offsetY=y-_this2.props.offset,isInside=offsetY>=Math.floor(elemTopBound)&&offsetY<Math.floor(elemBottomBound),isOutside=offsetY<Math.floor(elemTopBound)||offsetY>=Math.floor(elemBottomBound),activeLink=scroller.getActiveLink();return isOutside?(to===activeLink&&scroller.setActiveLink(void 0),_this2.props.hashSpy&&scrollHash.getHash()===to&&scrollHash.changeHash(),_this2.props.spy&&_this2.state.active&&(_this2.setState({active:!1}),_this2.props.onSetInactive&&_this2.props.onSetInactive()),scrollSpy.updateStates()):isInside&&activeLink!==to?(scroller.setActiveLink(to),_this2.props.hashSpy&&scrollHash.changeHash(to),_this2.props.spy&&(_this2.setState({active:!0}),_this2.props.onSetActive&&_this2.props.onSetActive(to)),scrollSpy.updateStates()):void 0}}};return Scroll.propTypes=protoTypes,Scroll.defaultProps={offset:0},Scroll},Element:function Element(Component){console.warn("Helpers.Element is deprecated since v1.7.0");var Element=function(_React$Component2){function Element(props){_classCallCheck(this,Element);var _this3=_possibleConstructorReturn(this,(Element.__proto__||Object.getPrototypeOf(Element)).call(this,props));return _this3.childBindings={domNode:null},_this3}return _inherits(Element,_React$Component2),_createClass(Element,[{key:"componentDidMount",value:function componentDidMount(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){this.props.name!==prevProps.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function componentWillUnmount(){if("undefined"==typeof window)return!1;defaultScroller.unregister(this.props.name)}},{key:"registerElems",value:function registerElems(name){defaultScroller.register(name,this.childBindings.domNode)}},{key:"render",value:function render(){return React.createElement(Component,_extends({},this.props,{parentBindings:this.childBindings}))}}]),Element}(React.Component);return Element.propTypes={name:PropTypes.string,id:PropTypes.string},Element}};module.exports=Helpers},"./node_modules/react-scroll/modules/mixins/animate-scroll.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_smooth2=(_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/utils.js")),_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/smooth.js"))),_cancelEvents2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/cancel-events.js")),_scrollEvents2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-events.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var getAnimationType=function getAnimationType(options){return _smooth2.default[options.smooth]||_smooth2.default.defaultEasing},requestAnimationFrameHelper=function currentWindowProperties(){if("undefined"!=typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(callback,element,delay){window.setTimeout(callback,delay||1e3/60,(new Date).getTime())},currentPositionX=function currentPositionX(options){var containerElement=options.data.containerElement;if(containerElement&&containerElement!==document&&containerElement!==document.body)return containerElement.scrollLeft;var supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||"");return supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft},currentPositionY=function currentPositionY(options){var containerElement=options.data.containerElement;if(containerElement&&containerElement!==document&&containerElement!==document.body)return containerElement.scrollTop;var supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||"");return supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop},animateScroll=function animateScroll(easing,options,timestamp){var data=options.data;if(options.ignoreCancelEvents||!data.cancel)if(data.delta=Math.round(data.targetPosition-data.startPosition),null===data.start&&(data.start=timestamp),data.progress=timestamp-data.start,data.percent=data.progress>=data.duration?1:easing(data.progress/data.duration),data.currentPosition=data.startPosition+Math.ceil(data.delta*data.percent),data.containerElement&&data.containerElement!==document&&data.containerElement!==document.body?options.horizontal?data.containerElement.scrollLeft=data.currentPosition:data.containerElement.scrollTop=data.currentPosition:options.horizontal?window.scrollTo(data.currentPosition,0):window.scrollTo(0,data.currentPosition),data.percent<1){var easedAnimate=animateScroll.bind(null,easing,options);requestAnimationFrameHelper.call(window,easedAnimate)}else _scrollEvents2.default.registered.end&&_scrollEvents2.default.registered.end(data.to,data.target,data.currentPosition);else _scrollEvents2.default.registered.end&&_scrollEvents2.default.registered.end(data.to,data.target,data.currentPositionY)},setContainer=function setContainer(options){options.data.containerElement=options?options.containerId?document.getElementById(options.containerId):options.container&&options.container.nodeType?options.container:document:null},animateTopScroll=function animateTopScroll(scrollOffset,options,to,target){if(options.data=options.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(options.data.delayTimeout),_cancelEvents2.default.subscribe((function(){options.data.cancel=!0})),setContainer(options),options.data.start=null,options.data.cancel=!1,options.data.startPosition=options.horizontal?currentPositionX(options):currentPositionY(options),options.data.targetPosition=options.absolute?scrollOffset:scrollOffset+options.data.startPosition,options.data.startPosition!==options.data.targetPosition){options.data.delta=Math.round(options.data.targetPosition-options.data.startPosition),options.data.duration=function functionWrapper(value){return"function"==typeof value?value:function(){return value}}(options.duration)(options.data.delta),options.data.duration=isNaN(parseFloat(options.data.duration))?1e3:parseFloat(options.data.duration),options.data.to=to,options.data.target=target;var easing=getAnimationType(options),easedAnimate=animateScroll.bind(null,easing,options);options&&options.delay>0?options.data.delayTimeout=window.setTimeout((function(){_scrollEvents2.default.registered.begin&&_scrollEvents2.default.registered.begin(options.data.to,options.data.target),requestAnimationFrameHelper.call(window,easedAnimate)}),options.delay):(_scrollEvents2.default.registered.begin&&_scrollEvents2.default.registered.begin(options.data.to,options.data.target),requestAnimationFrameHelper.call(window,easedAnimate))}else _scrollEvents2.default.registered.end&&_scrollEvents2.default.registered.end(options.data.to,options.data.target,options.data.currentPosition)},proceedOptions=function proceedOptions(options){return(options=_extends({},options)).data=options.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},options.absolute=!0,options};exports.default={animateTopScroll,getAnimationType,scrollToTop:function scrollToTop(options){animateTopScroll(0,proceedOptions(options))},scrollToBottom:function scrollToBottom(options){options=proceedOptions(options),setContainer(options),animateTopScroll(options.horizontal?function scrollContainerWidth(options){var containerElement=options.data.containerElement;if(containerElement&&containerElement!==document&&containerElement!==document.body)return containerElement.scrollWidth-containerElement.offsetWidth;var body=document.body,html=document.documentElement;return Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth)}(options):function scrollContainerHeight(options){var containerElement=options.data.containerElement;if(containerElement&&containerElement!==document&&containerElement!==document.body)return containerElement.scrollHeight-containerElement.offsetHeight;var body=document.body,html=document.documentElement;return Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)}(options),options)},scrollTo:function scrollTo(toPosition,options){animateTopScroll(toPosition,proceedOptions(options))},scrollMore:function scrollMore(toPosition,options){options=proceedOptions(options),setContainer(options);var currentPosition=options.horizontal?currentPositionX(options):currentPositionY(options);animateTopScroll(toPosition+currentPosition,options)}}},"./node_modules/react-scroll/modules/mixins/cancel-events.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _passiveEventListeners=__webpack_require__("./node_modules/react-scroll/modules/mixins/passive-event-listeners.js"),events=["mousedown","mousewheel","touchmove","keydown"];exports.default={subscribe:function subscribe(cancelEvent){return"undefined"!=typeof document&&events.forEach((function(event){return(0,_passiveEventListeners.addPassiveEventListener)(document,event,cancelEvent)}))}}},"./node_modules/react-scroll/modules/mixins/passive-event-listeners.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.addPassiveEventListener=function addPassiveEventListener(target,eventName,listener){var supportsPassiveOption=function(){var supportsPassiveOption=!1;try{var opts=Object.defineProperty({},"passive",{get:function get(){supportsPassiveOption=!0}});window.addEventListener("test",null,opts)}catch(e){}return supportsPassiveOption}();target.addEventListener(eventName,listener,!!supportsPassiveOption&&{passive:!0})},exports.removePassiveEventListener=function removePassiveEventListener(target,eventName,listener){target.removeEventListener(eventName,listener)}},"./node_modules/react-scroll/modules/mixins/scroll-element.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_scroller2=(_interopRequireDefault(__webpack_require__("./node_modules/react-dom/index.js")),_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroller.js"))),_propTypes2=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(Component){var Element=function(_React$Component){function Element(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Element);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Element.__proto__||Object.getPrototypeOf(Element)).call(this,props));return _this.childBindings={domNode:null},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Element,_React$Component),_createClass(Element,[{key:"componentDidMount",value:function componentDidMount(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){this.props.name!==prevProps.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function componentWillUnmount(){if("undefined"==typeof window)return!1;_scroller2.default.unregister(this.props.name)}},{key:"registerElems",value:function registerElems(name){_scroller2.default.register(name,this.childBindings.domNode)}},{key:"render",value:function render(){return _react2.default.createElement(Component,_extends({},this.props,{parentBindings:this.childBindings}))}}]),Element}(_react2.default.Component);return Element.propTypes={name:_propTypes2.default.string,id:_propTypes2.default.string},Element}},"./node_modules/react-scroll/modules/mixins/scroll-events.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Events={registered:{},scrollEvent:{register:function register(evtName,callback){Events.registered[evtName]=callback},remove:function remove(evtName){Events.registered[evtName]=null}}};exports.default=Events},"./node_modules/react-scroll/modules/mixins/scroll-hash.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});__webpack_require__("./node_modules/react-scroll/modules/mixins/passive-event-listeners.js");var _utils2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react-scroll/modules/mixins/utils.js"));var scrollHash={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function mount(scroller){this.scroller=scroller,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function mapContainer(to,container){this.containers[to]=container},isMounted:function isMounted(){return this.mountFlag},isInitialized:function isInitialized(){return this.initialized},initStateFromHash:function initStateFromHash(){var _this=this,hash=this.getHash();hash?window.setTimeout((function(){_this.scrollTo(hash,!0),_this.initialized=!0}),10):this.initialized=!0},scrollTo:function scrollTo(to,isInit){var scroller=this.scroller;if(scroller.get(to)&&(isInit||to!==scroller.getActiveLink())){var container=this.containers[to]||document;scroller.scrollTo(to,{container})}},getHash:function getHash(){return _utils2.default.getHash()},changeHash:function changeHash(to,saveHashHistory){this.isInitialized()&&_utils2.default.getHash()!==to&&_utils2.default.updateHash(to,saveHashHistory)},handleHashChange:function handleHashChange(){this.scrollTo(this.getHash())},unmount:function unmount(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};exports.default=scrollHash},"./node_modules/react-scroll/modules/mixins/scroll-link.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_scrollSpy2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-spy.js")),_scroller2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroller.js")),_propTypes2=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_scrollHash2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-hash.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var protoTypes={to:_propTypes2.default.string.isRequired,containerId:_propTypes2.default.string,container:_propTypes2.default.object,activeClass:_propTypes2.default.string,activeStyle:_propTypes2.default.object,spy:_propTypes2.default.bool,horizontal:_propTypes2.default.bool,smooth:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.string]),offset:_propTypes2.default.number,delay:_propTypes2.default.number,isDynamic:_propTypes2.default.bool,onClick:_propTypes2.default.func,duration:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.func]),absolute:_propTypes2.default.bool,onSetActive:_propTypes2.default.func,onSetInactive:_propTypes2.default.func,ignoreCancelEvents:_propTypes2.default.bool,hashSpy:_propTypes2.default.bool,saveHashHistory:_propTypes2.default.bool,spyThrottle:_propTypes2.default.number};exports.default=function(Component,customScroller){var scroller=customScroller||_scroller2.default,Link=function(_React$PureComponent){function Link(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Link);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Link.__proto__||Object.getPrototypeOf(Link)).call(this,props));return _initialiseProps.call(_this),_this.state={active:!1},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Link,_React$PureComponent),_createClass(Link,[{key:"getScrollSpyContainer",value:function getScrollSpyContainer(){var containerId=this.props.containerId,container=this.props.container;return containerId&&!container?document.getElementById(containerId):container&&container.nodeType?container:document}},{key:"componentDidMount",value:function componentDidMount(){if(this.props.spy||this.props.hashSpy){var scrollSpyContainer=this.getScrollSpyContainer();_scrollSpy2.default.isMounted(scrollSpyContainer)||_scrollSpy2.default.mount(scrollSpyContainer,this.props.spyThrottle),this.props.hashSpy&&(_scrollHash2.default.isMounted()||_scrollHash2.default.mount(scroller),_scrollHash2.default.mapContainer(this.props.to,scrollSpyContainer)),_scrollSpy2.default.addSpyHandler(this.spyHandler,scrollSpyContainer),this.setState({container:scrollSpyContainer})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){_scrollSpy2.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function render(){var className="";className=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var style={};style=this.state&&this.state.active?_extends({},this.props.style,this.props.activeStyle):_extends({},this.props.style);var props=_extends({},this.props);for(var prop in protoTypes)props.hasOwnProperty(prop)&&delete props[prop];return props.className=className,props.style=style,props.onClick=this.handleClick,_react2.default.createElement(Component,props)}}]),Link}(_react2.default.PureComponent),_initialiseProps=function _initialiseProps(){var _this2=this;this.scrollTo=function(to,props){scroller.scrollTo(to,_extends({},_this2.state,props))},this.handleClick=function(event){_this2.props.onClick&&_this2.props.onClick(event),event.stopPropagation&&event.stopPropagation(),event.preventDefault&&event.preventDefault(),_this2.scrollTo(_this2.props.to,_this2.props)},this.spyHandler=function(x,y){var scrollSpyContainer=_this2.getScrollSpyContainer();if(!_scrollHash2.default.isMounted()||_scrollHash2.default.isInitialized()){var horizontal=_this2.props.horizontal,to=_this2.props.to,element=null,isInside=void 0,isOutside=void 0;if(horizontal){var elemLeftBound=0,elemRightBound=0,containerLeft=0;if(scrollSpyContainer.getBoundingClientRect)containerLeft=scrollSpyContainer.getBoundingClientRect().left;if(!element||_this2.props.isDynamic){if(!(element=scroller.get(to)))return;var cords=element.getBoundingClientRect();elemRightBound=(elemLeftBound=cords.left-containerLeft+x)+cords.width}var offsetX=x-_this2.props.offset;isInside=offsetX>=Math.floor(elemLeftBound)&&offsetX<Math.floor(elemRightBound),isOutside=offsetX<Math.floor(elemLeftBound)||offsetX>=Math.floor(elemRightBound)}else{var elemTopBound=0,elemBottomBound=0,containerTop=0;if(scrollSpyContainer.getBoundingClientRect)containerTop=scrollSpyContainer.getBoundingClientRect().top;if(!element||_this2.props.isDynamic){if(!(element=scroller.get(to)))return;var _cords=element.getBoundingClientRect();elemBottomBound=(elemTopBound=_cords.top-containerTop+y)+_cords.height}var offsetY=y-_this2.props.offset;isInside=offsetY>=Math.floor(elemTopBound)&&offsetY<Math.floor(elemBottomBound),isOutside=offsetY<Math.floor(elemTopBound)||offsetY>=Math.floor(elemBottomBound)}var activeLink=scroller.getActiveLink();if(isOutside){if(to===activeLink&&scroller.setActiveLink(void 0),_this2.props.hashSpy&&_scrollHash2.default.getHash()===to){var _props$saveHashHistor=_this2.props.saveHashHistory,saveHashHistory=void 0!==_props$saveHashHistor&&_props$saveHashHistor;_scrollHash2.default.changeHash("",saveHashHistory)}_this2.props.spy&&_this2.state.active&&(_this2.setState({active:!1}),_this2.props.onSetInactive&&_this2.props.onSetInactive(to,element))}if(isInside&&(activeLink!==to||!1===_this2.state.active)){scroller.setActiveLink(to);var _props$saveHashHistor2=_this2.props.saveHashHistory,_saveHashHistory=void 0!==_props$saveHashHistor2&&_props$saveHashHistor2;_this2.props.hashSpy&&_scrollHash2.default.changeHash(to,_saveHashHistory),_this2.props.spy&&(_this2.setState({active:!0}),_this2.props.onSetActive&&_this2.props.onSetActive(to,element))}}}};return Link.propTypes=protoTypes,Link.defaultProps={offset:0},Link}},"./node_modules/react-scroll/modules/mixins/scroll-spy.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/lodash.throttle/index.js")),_passiveEventListeners=__webpack_require__("./node_modules/react-scroll/modules/mixins/passive-event-listeners.js");var scrollSpy={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function mount(scrollSpyContainer,throttle){if(scrollSpyContainer){var eventHandler=function eventThrottler(eventHandler){var throttleAmount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,_lodash2.default)(eventHandler,throttleAmount)}((function(event){scrollSpy.scrollHandler(scrollSpyContainer)}),throttle);scrollSpy.scrollSpyContainers.push(scrollSpyContainer),(0,_passiveEventListeners.addPassiveEventListener)(scrollSpyContainer,"scroll",eventHandler)}},isMounted:function isMounted(scrollSpyContainer){return-1!==scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)},currentPositionX:function currentPositionX(scrollSpyContainer){if(scrollSpyContainer===document){var supportPageOffset=void 0!==window.pageYOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||"");return supportPageOffset?window.pageXOffset:isCSS1Compat?document.documentElement.scrollLeft:document.body.scrollLeft}return scrollSpyContainer.scrollLeft},currentPositionY:function currentPositionY(scrollSpyContainer){if(scrollSpyContainer===document){var supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(document.compatMode||"");return supportPageOffset?window.pageYOffset:isCSS1Compat?document.documentElement.scrollTop:document.body.scrollTop}return scrollSpyContainer.scrollTop},scrollHandler:function scrollHandler(scrollSpyContainer){(scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)].spyCallbacks||[]).forEach((function(c){return c(scrollSpy.currentPositionX(scrollSpyContainer),scrollSpy.currentPositionY(scrollSpyContainer))}))},addStateHandler:function addStateHandler(handler){scrollSpy.spySetState.push(handler)},addSpyHandler:function addSpyHandler(handler,scrollSpyContainer){var container=scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)];container.spyCallbacks||(container.spyCallbacks=[]),container.spyCallbacks.push(handler),handler(scrollSpy.currentPositionX(scrollSpyContainer),scrollSpy.currentPositionY(scrollSpyContainer))},updateStates:function updateStates(){scrollSpy.spySetState.forEach((function(s){return s()}))},unmount:function unmount(stateHandler,spyHandler){scrollSpy.scrollSpyContainers.forEach((function(c){return c.spyCallbacks&&c.spyCallbacks.length&&c.spyCallbacks.indexOf(spyHandler)>-1&&c.spyCallbacks.splice(c.spyCallbacks.indexOf(spyHandler),1)})),scrollSpy.spySetState&&scrollSpy.spySetState.length&&scrollSpy.spySetState.indexOf(stateHandler)>-1&&scrollSpy.spySetState.splice(scrollSpy.spySetState.indexOf(stateHandler),1),document.removeEventListener("scroll",scrollSpy.scrollHandler)},update:function update(){return scrollSpy.scrollSpyContainers.forEach((function(c){return scrollSpy.scrollHandler(c)}))}};exports.default=scrollSpy},"./node_modules/react-scroll/modules/mixins/scroller.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_utils2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/utils.js")),_animateScroll2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/animate-scroll.js")),_scrollEvents2=_interopRequireDefault(__webpack_require__("./node_modules/react-scroll/modules/mixins/scroll-events.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var __mapped={},__activeLink=void 0;exports.default={unmount:function unmount(){__mapped={}},register:function register(name,element){__mapped[name]=element},unregister:function unregister(name){delete __mapped[name]},get:function get(name){return __mapped[name]||document.getElementById(name)||document.getElementsByName(name)[0]||document.getElementsByClassName(name)[0]},setActiveLink:function setActiveLink(link){return __activeLink=link},getActiveLink:function getActiveLink(){return __activeLink},scrollTo:function scrollTo(to,props){var target=this.get(to);if(target){var containerId=(props=_extends({},props,{absolute:!1})).containerId,container=props.container,containerElement=void 0;containerElement=containerId?document.getElementById(containerId):container&&container.nodeType?container:document,props.absolute=!0;var horizontal=props.horizontal,scrollOffset=_utils2.default.scrollOffset(containerElement,target,horizontal)+(props.offset||0);if(!props.smooth)return _scrollEvents2.default.registered.begin&&_scrollEvents2.default.registered.begin(to,target),containerElement===document?props.horizontal?window.scrollTo(scrollOffset,0):window.scrollTo(0,scrollOffset):containerElement.scrollTop=scrollOffset,void(_scrollEvents2.default.registered.end&&_scrollEvents2.default.registered.end(to,target));_animateScroll2.default.animateTopScroll(scrollOffset,props,to,target)}else console.warn("target Element not found")}}},"./node_modules/react-scroll/modules/mixins/smooth.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={defaultEasing:function defaultEasing(x){return x<.5?Math.pow(2*x,2)/2:1-Math.pow(2*(1-x),2)/2},linear:function linear(x){return x},easeInQuad:function easeInQuad(x){return x*x},easeOutQuad:function easeOutQuad(x){return x*(2-x)},easeInOutQuad:function easeInOutQuad(x){return x<.5?2*x*x:(4-2*x)*x-1},easeInCubic:function easeInCubic(x){return x*x*x},easeOutCubic:function easeOutCubic(x){return--x*x*x+1},easeInOutCubic:function easeInOutCubic(x){return x<.5?4*x*x*x:(x-1)*(2*x-2)*(2*x-2)+1},easeInQuart:function easeInQuart(x){return x*x*x*x},easeOutQuart:function easeOutQuart(x){return 1- --x*x*x*x},easeInOutQuart:function easeInOutQuart(x){return x<.5?8*x*x*x*x:1-8*--x*x*x*x},easeInQuint:function easeInQuint(x){return x*x*x*x*x},easeOutQuint:function easeOutQuint(x){return 1+--x*x*x*x*x},easeInOutQuint:function easeInOutQuint(x){return x<.5?16*x*x*x*x*x:1+16*--x*x*x*x*x}}},"./node_modules/react-scroll/modules/mixins/utils.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getElementOffsetInfoUntil=function getElementOffsetInfoUntil(element,predicate){for(var offsetTop=element.offsetTop,currentOffsetParent=element.offsetParent;currentOffsetParent&&!predicate(currentOffsetParent);)offsetTop+=currentOffsetParent.offsetTop,currentOffsetParent=currentOffsetParent.offsetParent;return{offsetTop,offsetParent:currentOffsetParent}};exports.default={updateHash:function updateHash(hash,historyUpdate){var hashVal=0===hash.indexOf("#")?hash.substring(1):hash,hashToUpdate=hashVal?"#"+hashVal:"",curLoc=window&&window.location,urlToPush=hashToUpdate?curLoc.pathname+curLoc.search+hashToUpdate:curLoc.pathname+curLoc.search;historyUpdate?history.pushState(history.state,"",urlToPush):history.replaceState(history.state,"",urlToPush)},getHash:function getHash(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function filterElementInContainer(container){return function(element){return container.contains?container!=element&&container.contains(element):!!(16&container.compareDocumentPosition(element))}},scrollOffset:function scrollOffset(c,t,horizontal){if(horizontal)return c===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(c).position?t.offsetLeft:t.offsetLeft-c.offsetLeft;if(c===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(function isPositioned(element){return"static"!==getComputedStyle(element).position}(c)){if(t.offsetParent!==c){var _getElementOffsetInfo=getElementOffsetInfoUntil(t,(function isContainerElementOrDocument(e){return e===c||e===document})),offsetTop=_getElementOffsetInfo.offsetTop;if(_getElementOffsetInfo.offsetParent!==c)throw new Error("Seems containerElement is not an ancestor of the Element");return offsetTop}return t.offsetTop}if(t.offsetParent===c.offsetParent)return t.offsetTop-c.offsetTop;var isDocument=function isDocument(e){return e===document};return getElementOffsetInfoUntil(t,isDocument).offsetTop-getElementOffsetInfoUntil(c,isDocument).offsetTop}}},"./node_modules/react-transition-group/esm/Transition.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>esm_Transition});var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),inheritsLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js");const config_disabled=!1;var TransitionGroupContext=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroupContext.js"),Transition=function(_React$Component){function Transition(props,context){var _this;_this=_React$Component.call(this,props,context)||this;var initialStatus,appear=context&&!context.isMounting?props.enter:props.appear;return _this.appearStatus=null,props.in?appear?(initialStatus="exited",_this.appearStatus="entering"):initialStatus="entered":initialStatus=props.unmountOnExit||props.mountOnEnter?"unmounted":"exited",_this.state={status:initialStatus},_this.nextCallback=null,_this}(0,inheritsLoose.Z)(Transition,_React$Component),Transition.getDerivedStateFromProps=function getDerivedStateFromProps(_ref,prevState){return _ref.in&&"unmounted"===prevState.status?{status:"exited"}:null};var _proto=Transition.prototype;return _proto.componentDidMount=function componentDidMount(){this.updateStatus(!0,this.appearStatus)},_proto.componentDidUpdate=function componentDidUpdate(prevProps){var nextStatus=null;if(prevProps!==this.props){var status=this.state.status;this.props.in?"entering"!==status&&"entered"!==status&&(nextStatus="entering"):"entering"!==status&&"entered"!==status||(nextStatus="exiting")}this.updateStatus(!1,nextStatus)},_proto.componentWillUnmount=function componentWillUnmount(){this.cancelNextCallback()},_proto.getTimeouts=function getTimeouts(){var exit,enter,appear,timeout=this.props.timeout;return exit=enter=appear=timeout,null!=timeout&&"number"!=typeof timeout&&(exit=timeout.exit,enter=timeout.enter,appear=void 0!==timeout.appear?timeout.appear:enter),{exit,enter,appear}},_proto.updateStatus=function updateStatus(mounting,nextStatus){if(void 0===mounting&&(mounting=!1),null!==nextStatus)if(this.cancelNextCallback(),"entering"===nextStatus){if(this.props.unmountOnExit||this.props.mountOnEnter){var node=this.props.nodeRef?this.props.nodeRef.current:react_dom.findDOMNode(this);node&&function forceReflow(node){node.scrollTop}(node)}this.performEnter(mounting)}else this.performExit();else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},_proto.performEnter=function performEnter(mounting){var _this2=this,enter=this.props.enter,appearing=this.context?this.context.isMounting:mounting,_ref2=this.props.nodeRef?[appearing]:[react_dom.findDOMNode(this),appearing],maybeNode=_ref2[0],maybeAppearing=_ref2[1],timeouts=this.getTimeouts(),enterTimeout=appearing?timeouts.appear:timeouts.enter;!mounting&&!enter||config_disabled?this.safeSetState({status:"entered"},(function(){_this2.props.onEntered(maybeNode)})):(this.props.onEnter(maybeNode,maybeAppearing),this.safeSetState({status:"entering"},(function(){_this2.props.onEntering(maybeNode,maybeAppearing),_this2.onTransitionEnd(enterTimeout,(function(){_this2.safeSetState({status:"entered"},(function(){_this2.props.onEntered(maybeNode,maybeAppearing)}))}))})))},_proto.performExit=function performExit(){var _this3=this,exit=this.props.exit,timeouts=this.getTimeouts(),maybeNode=this.props.nodeRef?void 0:react_dom.findDOMNode(this);exit&&!config_disabled?(this.props.onExit(maybeNode),this.safeSetState({status:"exiting"},(function(){_this3.props.onExiting(maybeNode),_this3.onTransitionEnd(timeouts.exit,(function(){_this3.safeSetState({status:"exited"},(function(){_this3.props.onExited(maybeNode)}))}))}))):this.safeSetState({status:"exited"},(function(){_this3.props.onExited(maybeNode)}))},_proto.cancelNextCallback=function cancelNextCallback(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},_proto.safeSetState=function safeSetState(nextState,callback){callback=this.setNextCallback(callback),this.setState(nextState,callback)},_proto.setNextCallback=function setNextCallback(callback){var _this4=this,active=!0;return this.nextCallback=function(event){active&&(active=!1,_this4.nextCallback=null,callback(event))},this.nextCallback.cancel=function(){active=!1},this.nextCallback},_proto.onTransitionEnd=function onTransitionEnd(timeout,handler){this.setNextCallback(handler);var node=this.props.nodeRef?this.props.nodeRef.current:react_dom.findDOMNode(this),doesNotHaveTimeoutOrListener=null==timeout&&!this.props.addEndListener;if(node&&!doesNotHaveTimeoutOrListener){if(this.props.addEndListener){var _ref3=this.props.nodeRef?[this.nextCallback]:[node,this.nextCallback],maybeNode=_ref3[0],maybeNextCallback=_ref3[1];this.props.addEndListener(maybeNode,maybeNextCallback)}null!=timeout&&setTimeout(this.nextCallback,timeout)}else setTimeout(this.nextCallback,0)},_proto.render=function render(){var status=this.state.status;if("unmounted"===status)return null;var _this$props=this.props,children=_this$props.children,childProps=(_this$props.in,_this$props.mountOnEnter,_this$props.unmountOnExit,_this$props.appear,_this$props.enter,_this$props.exit,_this$props.timeout,_this$props.addEndListener,_this$props.onEnter,_this$props.onEntering,_this$props.onEntered,_this$props.onExit,_this$props.onExiting,_this$props.onExited,_this$props.nodeRef,(0,objectWithoutPropertiesLoose.Z)(_this$props,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return react.createElement(TransitionGroupContext.Z.Provider,{value:null},"function"==typeof children?children(status,childProps):react.cloneElement(react.Children.only(children),childProps))},Transition}(react.Component);function noop(){}Transition.contextType=TransitionGroupContext.Z,Transition.propTypes={},Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},Transition.UNMOUNTED="unmounted",Transition.EXITED="exited",Transition.ENTERING="entering",Transition.ENTERED="entered",Transition.EXITING="exiting";const esm_Transition=Transition},"./node_modules/react-transition-group/esm/TransitionGroupContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./node_modules/react/index.js").createContext(null)},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/object-assign/index.js");var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZP:()=>redux_saga_core_npm_proxy_esm});var redux_saga_symbols_esm=__webpack_require__("./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),redux_saga_is_esm=__webpack_require__("./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js"),io_c3792963=__webpack_require__("./node_modules/@redux-saga/core/dist/io-c3792963.js"),redux=__webpack_require__("./node_modules/redux/es/redux.js");function deferred(){var def={};return def.promise=new Promise((function(resolve,reject){def.resolve=resolve,def.reject=reject})),def}const redux_saga_deferred_esm=deferred;var queue=[],semaphore=0;function exec(task){try{suspend(),task()}finally{release()}}function asap(task){queue.push(task),semaphore||(suspend(),flush())}function immediately(task){try{return suspend(),task()}finally{flush()}}function suspend(){semaphore++}function release(){semaphore--}function flush(){var task;for(release();!semaphore&&void 0!==(task=queue.shift());)exec(task)}var array=function array(patterns){return function(input){return patterns.some((function(p){return matcher(p)(input)}))}},predicate=function predicate(_predicate){return function(input){return _predicate(input)}},string=function string(pattern){return function(input){return input.type===String(pattern)}},symbol=function symbol(pattern){return function(input){return input.type===pattern}},wildcard=function wildcard(){return io_c3792963.k};function matcher(pattern){var matcherCreator="*"===pattern?wildcard:(0,redux_saga_is_esm.Z_)(pattern)?string:(0,redux_saga_is_esm.IX)(pattern)?array:(0,redux_saga_is_esm.eR)(pattern)?string:(0,redux_saga_is_esm.Yl)(pattern)?predicate:(0,redux_saga_is_esm.NA)(pattern)?symbol:null;if(null===matcherCreator)throw new Error("invalid pattern: "+pattern);return matcherCreator(pattern)}var END={type:redux_saga_symbols_esm.sZ},isEnd=function isEnd(a){return a&&a.type===redux_saga_symbols_esm.sZ};function channel(buffer$1){void 0===buffer$1&&(buffer$1=(0,io_c3792963.e)());var closed=!1,takers=[];return{take:function take(cb){closed&&buffer$1.isEmpty()?cb(END):buffer$1.isEmpty()?(takers.push(cb),cb.cancel=function(){(0,io_c3792963.r)(takers,cb)}):cb(buffer$1.take())},put:function put(input){if(!closed){if(0===takers.length)return buffer$1.put(input);takers.shift()(input)}},flush:function flush(cb){closed&&buffer$1.isEmpty()?cb(END):cb(buffer$1.flush())},close:function close(){if(!closed){closed=!0;var arr=takers;takers=[];for(var i=0,len=arr.length;i<len;i++){(0,arr[i])(END)}}}}}function stdChannel(){var chan=function multicastChannel(){var _ref,closed=!1,currentTakers=[],nextTakers=currentTakers,ensureCanMutateNextTakers=function ensureCanMutateNextTakers(){nextTakers===currentTakers&&(nextTakers=currentTakers.slice())},close=function close(){closed=!0;var takers=currentTakers=nextTakers;nextTakers=[],takers.forEach((function(taker){taker(END)}))};return(_ref={})[redux_saga_symbols_esm.AS]=!0,_ref.put=function put(input){if(!closed)if(isEnd(input))close();else for(var takers=currentTakers=nextTakers,i=0,len=takers.length;i<len;i++){var taker=takers[i];taker[redux_saga_symbols_esm.uq](input)&&(taker.cancel(),taker(input))}},_ref.take=function take(cb,matcher){void 0===matcher&&(matcher=wildcard),closed?cb(END):(cb[redux_saga_symbols_esm.uq]=matcher,ensureCanMutateNextTakers(),nextTakers.push(cb),cb.cancel=(0,io_c3792963.o)((function(){ensureCanMutateNextTakers(),(0,io_c3792963.r)(nextTakers,cb)})))},_ref.close=close,_ref}(),put=chan.put;return chan.put=function(input){input[redux_saga_symbols_esm.Nm]?put(input):asap((function(){put(input)}))},chan}var RUNNING=0,CANCELLED=1,ABORTED=2,DONE=3;function resolvePromise(promise,cb){var cancelPromise=promise[redux_saga_symbols_esm.n1];(0,redux_saga_is_esm.Yl)(cancelPromise)&&(cb.cancel=cancelPromise),promise.then(cb,(function(error){cb(error,!0)}))}var _effectRunnerMap,current=0,nextSagaId=function(){return++current};function cancelSingleTask(taskToCancel){taskToCancel.isRunning()&&taskToCancel.cancel()}var effectRunnerMap=((_effectRunnerMap={})[io_c3792963.T]=function runTakeEffect(env,_ref3,cb){var _ref3$channel=_ref3.channel,channel=void 0===_ref3$channel?env.channel:_ref3$channel,pattern=_ref3.pattern,maybe=_ref3.maybe,takeCb=function takeCb(input){input instanceof Error?cb(input,!0):!isEnd(input)||maybe?cb(input):cb(redux_saga_symbols_esm.EO)};try{channel.take(takeCb,(0,redux_saga_is_esm.d5)(pattern)?matcher(pattern):null)}catch(err){return void cb(err,!0)}cb.cancel=takeCb.cancel},_effectRunnerMap[io_c3792963.P]=function runPutEffect(env,_ref2,cb){var channel=_ref2.channel,action=_ref2.action,resolve=_ref2.resolve;asap((function(){var result;try{result=(channel?channel.put:env.dispatch)(action)}catch(error){return void cb(error,!0)}resolve&&(0,redux_saga_is_esm.MC)(result)?resolvePromise(result,cb):cb(result)}))},_effectRunnerMap[io_c3792963.A]=function runAllEffect(env,effects,cb,_ref11){var digestEffect=_ref11.digestEffect,effectId=current,keys=Object.keys(effects);if(0!==keys.length){var childCallbacks=(0,io_c3792963.l)(effects,cb);keys.forEach((function(key){digestEffect(effects[key],effectId,childCallbacks[key],key)}))}else cb((0,redux_saga_is_esm.IX)(effects)?[]:{})},_effectRunnerMap[io_c3792963.R]=function runRaceEffect(env,effects,cb,_ref12){var digestEffect=_ref12.digestEffect,effectId=current,keys=Object.keys(effects),response=(0,redux_saga_is_esm.IX)(effects)?(0,io_c3792963.m)(keys.length):{},childCbs={},completed=!1;keys.forEach((function(key){var chCbAtKey=function chCbAtKey(res,isErr){completed||(isErr||(0,io_c3792963.s)(res)?(cb.cancel(),cb(res,isErr)):(cb.cancel(),completed=!0,response[key]=res,cb(response)))};chCbAtKey.cancel=io_c3792963.t,childCbs[key]=chCbAtKey})),cb.cancel=function(){completed||(completed=!0,keys.forEach((function(key){return childCbs[key].cancel()})))},keys.forEach((function(key){completed||digestEffect(effects[key],effectId,childCbs[key],key)}))},_effectRunnerMap[io_c3792963.C]=function runCallEffect(env,_ref4,cb,_ref5){var context=_ref4.context,fn=_ref4.fn,args=_ref4.args,task=_ref5.task;try{var result=fn.apply(context,args);if((0,redux_saga_is_esm.MC)(result))return void resolvePromise(result,cb);if((0,redux_saga_is_esm.hZ)(result))return void proc(env,result,task.context,current,(0,io_c3792963.j)(fn),!1,cb);cb(result)}catch(error){cb(error,!0)}},_effectRunnerMap[io_c3792963.a]=function runCPSEffect(env,_ref6,cb){var context=_ref6.context,fn=_ref6.fn,args=_ref6.args;try{var cpsCb=function cpsCb(err,res){(0,redux_saga_is_esm.sR)(err)?cb(res):cb(err,!0)};fn.apply(context,args.concat(cpsCb)),cpsCb.cancel&&(cb.cancel=cpsCb.cancel)}catch(error){cb(error,!0)}},_effectRunnerMap[io_c3792963.F]=function runForkEffect(env,_ref7,cb,_ref8){var context=_ref7.context,fn=_ref7.fn,args=_ref7.args,detached=_ref7.detached,parent=_ref8.task,taskIterator=function createTaskIterator(_ref){var context=_ref.context,fn=_ref.fn,args=_ref.args;try{var result=fn.apply(context,args);if((0,redux_saga_is_esm.hZ)(result))return result;var resolved=!1;return(0,io_c3792963.q)((function next(arg){return resolved?{value:arg,done:!0}:(resolved=!0,{value:result,done:!(0,redux_saga_is_esm.MC)(result)})}))}catch(err){return(0,io_c3792963.q)((function(){throw err}))}}({context,fn,args}),meta=function getIteratorMetaInfo(iterator,fn){return iterator.isSagaIterator?{name:iterator.meta.name}:(0,io_c3792963.j)(fn)}(taskIterator,fn);immediately((function(){var child=proc(env,taskIterator,parent.context,current,meta,detached,void 0);detached?cb(child):child.isRunning()?(parent.queue.addTask(child),cb(child)):child.isAborted()?parent.queue.abort(child.error()):cb(child)}))},_effectRunnerMap[io_c3792963.J]=function runJoinEffect(env,taskOrTasks,cb,_ref9){var task=_ref9.task,joinSingleTask=function joinSingleTask(taskToJoin,cb){if(taskToJoin.isRunning()){var joiner={task,cb};cb.cancel=function(){taskToJoin.isRunning()&&(0,io_c3792963.r)(taskToJoin.joiners,joiner)},taskToJoin.joiners.push(joiner)}else taskToJoin.isAborted()?cb(taskToJoin.error(),!0):cb(taskToJoin.result())};if((0,redux_saga_is_esm.IX)(taskOrTasks)){if(0===taskOrTasks.length)return void cb([]);var childCallbacks=(0,io_c3792963.l)(taskOrTasks,cb);taskOrTasks.forEach((function(t,i){joinSingleTask(t,childCallbacks[i])}))}else joinSingleTask(taskOrTasks,cb)},_effectRunnerMap[io_c3792963.b]=function runCancelEffect(env,taskOrTasks,cb,_ref10){var task=_ref10.task;taskOrTasks===redux_saga_symbols_esm.sC?cancelSingleTask(task):(0,redux_saga_is_esm.IX)(taskOrTasks)?taskOrTasks.forEach(cancelSingleTask):cancelSingleTask(taskOrTasks),cb()},_effectRunnerMap[io_c3792963.S]=function runSelectEffect(env,_ref13,cb){var selector=_ref13.selector,args=_ref13.args;try{cb(selector.apply(void 0,[env.getState()].concat(args)))}catch(error){cb(error,!0)}},_effectRunnerMap[io_c3792963.d]=function runChannelEffect(env,_ref14,cb){var pattern=_ref14.pattern,chan=channel(_ref14.buffer),match=matcher(pattern),taker=function taker(action){isEnd(action)||env.channel.take(taker,match),chan.put(action)},close=chan.close;chan.close=function(){taker.cancel(),close()},env.channel.take(taker,match),cb(chan)},_effectRunnerMap[io_c3792963.f]=function runCancelledEffect(env,data,cb,_ref15){cb(_ref15.task.isCancelled())},_effectRunnerMap[io_c3792963.g]=function runFlushEffect(env,channel,cb){channel.flush(cb)},_effectRunnerMap[io_c3792963.G]=function runGetContextEffect(env,prop,cb,_ref16){cb(_ref16.task.context[prop])},_effectRunnerMap[io_c3792963.h]=function runSetContextEffect(env,props,cb,_ref17){var task=_ref17.task;(0,io_c3792963.p)(task.context,props),cb()},_effectRunnerMap);function formatLocation(fileName,lineNumber){return fileName+"?"+lineNumber}function sagaLocationAsString(sagaMeta){var name=sagaMeta.name,location=sagaMeta.location;return location?name+"  "+formatLocation(location.fileName,location.lineNumber):name}function cancelledTasksAsString(sagaStack){var cancelledTasks=(0,io_c3792963.u)((function(i){return i.cancelledTasks}),sagaStack);return cancelledTasks.length?["Tasks cancelled due to error:"].concat(cancelledTasks).join("\n"):""}var crashedEffect=null,sagaStack=[],addSagaFrame=function addSagaFrame(frame){frame.crashedEffect=crashedEffect,sagaStack.push(frame)},clear=function clear(){crashedEffect=null,sagaStack.length=0},setCrashedEffect=function setCrashedEffect(effect){crashedEffect=effect},redux_saga_core_esm_toString=function toString(){var firstSaga=sagaStack[0],otherSagas=sagaStack.slice(1),crashedEffectLocation=firstSaga.crashedEffect?function effectLocationAsString(effect){var location=(0,io_c3792963.v)(effect);return location?location.code+"  "+formatLocation(location.fileName,location.lineNumber):""}(firstSaga.crashedEffect):null;return["The above error occurred in task "+sagaLocationAsString(firstSaga.meta)+(crashedEffectLocation?" \n when executing effect "+crashedEffectLocation:"")].concat(otherSagas.map((function(s){return"    created by "+sagaLocationAsString(s.meta)})),[cancelledTasksAsString(sagaStack)]).join("\n")};function newTask(env,mainTask,parentContext,parentEffectId,meta,isRoot,cont){var _task;void 0===cont&&(cont=io_c3792963.t);var taskResult,taskError,status=RUNNING,deferredEnd=null,cancelledDueToErrorTasks=[],context=Object.create(parentContext),queue=function forkQueue(mainTask,onAbort,cont){var result,tasks=[],completed=!1;function abort(err){onAbort(),cancelAll(),cont(err,!0)}function addTask(task){tasks.push(task),task.cont=function(res,isErr){completed||((0,io_c3792963.r)(tasks,task),task.cont=io_c3792963.t,isErr?abort(res):(task===mainTask&&(result=res),tasks.length||(completed=!0,cont(result))))}}function cancelAll(){completed||(completed=!0,tasks.forEach((function(t){t.cont=io_c3792963.t,t.cancel()})),tasks=[])}return addTask(mainTask),{addTask,cancelAll,abort,getTasks:function getTasks(){return tasks}}}(mainTask,(function onAbort(){cancelledDueToErrorTasks.push.apply(cancelledDueToErrorTasks,queue.getTasks().map((function(t){return t.meta.name})))}),end);function end(result,isErr){if(isErr){if(status=ABORTED,addSagaFrame({meta,cancelledTasks:cancelledDueToErrorTasks}),task.isRoot){var sagaStack=redux_saga_core_esm_toString();clear(),env.onError(result,{sagaStack})}taskError=result,deferredEnd&&deferredEnd.reject(result)}else result===redux_saga_symbols_esm.Wd?status=CANCELLED:status!==CANCELLED&&(status=DONE),taskResult=result,deferredEnd&&deferredEnd.resolve(result);task.cont(result,isErr),task.joiners.forEach((function(joiner){joiner.cb(result,isErr)})),task.joiners=null}var task=((_task={})[redux_saga_symbols_esm.Cs]=!0,_task.id=parentEffectId,_task.meta=meta,_task.isRoot=isRoot,_task.context=context,_task.joiners=[],_task.queue=queue,_task.cancel=function cancel(){status===RUNNING&&(status=CANCELLED,queue.cancelAll(),end(redux_saga_symbols_esm.Wd,!1))},_task.cont=cont,_task.end=end,_task.setContext=function setContext(props){(0,io_c3792963.p)(context,props)},_task.toPromise=function toPromise(){return deferredEnd||(deferredEnd=redux_saga_deferred_esm(),status===ABORTED?deferredEnd.reject(taskError):status!==RUNNING&&deferredEnd.resolve(taskResult)),deferredEnd.promise},_task.isRunning=function isRunning(){return status===RUNNING},_task.isCancelled=function isCancelled(){return status===CANCELLED||status===RUNNING&&mainTask.status===CANCELLED},_task.isAborted=function isAborted(){return status===ABORTED},_task.result=function result(){return taskResult},_task.error=function error(){return taskError},_task);return task}function proc(env,iterator$1,parentContext,parentEffectId,meta,isRoot,cont){var finalRunEffect=env.finalizeRunEffect((function runEffect(effect,effectId,currCb){if((0,redux_saga_is_esm.MC)(effect))resolvePromise(effect,currCb);else if((0,redux_saga_is_esm.hZ)(effect))proc(env,effect,task.context,effectId,meta,!1,currCb);else if(effect&&effect[redux_saga_symbols_esm.IO]){(0,effectRunnerMap[effect.type])(env,effect.payload,currCb,executingContext)}else currCb(effect)}));next.cancel=io_c3792963.t;var mainTask={meta,cancel:function cancelMain(){mainTask.status===RUNNING&&(mainTask.status=CANCELLED,next(redux_saga_symbols_esm.Wd))},status:RUNNING},task=newTask(env,mainTask,parentContext,parentEffectId,meta,isRoot,cont),executingContext={task,digestEffect};return cont&&(cont.cancel=task.cancel),next(),task;function next(arg,isErr){try{var result;isErr?(result=iterator$1.throw(arg),clear()):(0,io_c3792963.y)(arg)?(mainTask.status=CANCELLED,next.cancel(),result=(0,redux_saga_is_esm.Yl)(iterator$1.return)?iterator$1.return(redux_saga_symbols_esm.Wd):{done:!0,value:redux_saga_symbols_esm.Wd}):result=(0,io_c3792963.z)(arg)?(0,redux_saga_is_esm.Yl)(iterator$1.return)?iterator$1.return():{done:!0}:iterator$1.next(arg),result.done?(mainTask.status!==CANCELLED&&(mainTask.status=DONE),mainTask.cont(result.value)):digestEffect(result.value,parentEffectId,next)}catch(error){if(mainTask.status===CANCELLED)throw error;mainTask.status=ABORTED,mainTask.cont(error,!0)}}function digestEffect(effect,parentEffectId,cb,label){void 0===label&&(label="");var effectSettled,effectId=nextSagaId();function currCb(res,isErr){effectSettled||(effectSettled=!0,cb.cancel=io_c3792963.t,env.sagaMonitor&&(isErr?env.sagaMonitor.effectRejected(effectId,res):env.sagaMonitor.effectResolved(effectId,res)),isErr&&setCrashedEffect(effect),cb(res,isErr))}env.sagaMonitor&&env.sagaMonitor.effectTriggered({effectId,parentEffectId,label,effect}),currCb.cancel=io_c3792963.t,cb.cancel=function(){effectSettled||(effectSettled=!0,currCb.cancel(),currCb.cancel=io_c3792963.t,env.sagaMonitor&&env.sagaMonitor.effectCancelled(effectId))},finalRunEffect(effect,effectId,currCb)}}function runSaga(_ref,saga){var _ref$channel=_ref.channel,channel=void 0===_ref$channel?stdChannel():_ref$channel,dispatch=_ref.dispatch,getState=_ref.getState,_ref$context=_ref.context,context=void 0===_ref$context?{}:_ref$context,sagaMonitor=_ref.sagaMonitor,effectMiddlewares=_ref.effectMiddlewares,_ref$onError=_ref.onError,onError=void 0===_ref$onError?io_c3792963.B:_ref$onError;for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];var iterator$1=saga.apply(void 0,args);var finalizeRunEffect,effectId=nextSagaId();if(sagaMonitor&&(sagaMonitor.rootSagaStarted=sagaMonitor.rootSagaStarted||io_c3792963.t,sagaMonitor.effectTriggered=sagaMonitor.effectTriggered||io_c3792963.t,sagaMonitor.effectResolved=sagaMonitor.effectResolved||io_c3792963.t,sagaMonitor.effectRejected=sagaMonitor.effectRejected||io_c3792963.t,sagaMonitor.effectCancelled=sagaMonitor.effectCancelled||io_c3792963.t,sagaMonitor.actionDispatched=sagaMonitor.actionDispatched||io_c3792963.t,sagaMonitor.rootSagaStarted({effectId,saga,args})),effectMiddlewares){var middleware=redux.qC.apply(void 0,effectMiddlewares);finalizeRunEffect=function finalizeRunEffect(runEffect){return function(effect,effectId,currCb){return middleware((function plainRunEffect(eff){return runEffect(eff,effectId,currCb)}))(effect)}}}else finalizeRunEffect=io_c3792963.E;var env={channel,dispatch:(0,io_c3792963.D)(dispatch),getState,sagaMonitor,onError,finalizeRunEffect};return immediately((function(){var task=proc(env,iterator$1,context,effectId,(0,io_c3792963.j)(saga),!0,void 0);return sagaMonitor&&sagaMonitor.effectResolved(effectId,task),task}))}const redux_saga_core_esm=function sagaMiddlewareFactory(_temp){var boundRunSaga,_ref=void 0===_temp?{}:_temp,_ref$context=_ref.context,context=void 0===_ref$context?{}:_ref$context,_ref$channel=_ref.channel,channel=void 0===_ref$channel?stdChannel():_ref$channel,sagaMonitor=_ref.sagaMonitor,options=(0,objectWithoutPropertiesLoose.Z)(_ref,["context","channel","sagaMonitor"]);function sagaMiddleware(_ref2){var getState=_ref2.getState,dispatch=_ref2.dispatch;return boundRunSaga=runSaga.bind(null,(0,esm_extends.Z)({},options,{context,channel,dispatch,getState,sagaMonitor})),function(next){return function(action){sagaMonitor&&sagaMonitor.actionDispatched&&sagaMonitor.actionDispatched(action);var result=next(action);return channel.put(action),result}}}return sagaMiddleware.run=function(){return boundRunSaga.apply(void 0,arguments)},sagaMiddleware.setContext=function(props){(0,io_c3792963.p)(context,props)},sagaMiddleware},redux_saga_core_npm_proxy_esm=redux_saga_core_esm},"./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$6:()=>io_c3792963._,gz:()=>io_c3792963.Y,Ys:()=>io_c3792963.a3,ib:()=>takeEvery$1});var redux_saga_is_esm=__webpack_require__("./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js"),io_c3792963=__webpack_require__("./node_modules/@redux-saga/core/dist/io-c3792963.js"),done=function done(value){return{done:!0,value}},qEnd={};function safeName(patternOrChannel){return(0,redux_saga_is_esm.CE)(patternOrChannel)?"channel":(0,redux_saga_is_esm.eR)(patternOrChannel)?String(patternOrChannel):(0,redux_saga_is_esm.Yl)(patternOrChannel)?patternOrChannel.name:String(patternOrChannel)}function fsmIterator(fsm,startState,name){var stateUpdater,errorState,effect,nextState=startState;function next(arg,error){if(nextState===qEnd)return done(arg);if(error&&!errorState)throw nextState=qEnd,error;stateUpdater&&stateUpdater(arg);var currentState=error?fsm[errorState](error):fsm[nextState]();return nextState=currentState.nextState,effect=currentState.effect,stateUpdater=currentState.stateUpdater,errorState=currentState.errorState,nextState===qEnd?done(arg):effect}return(0,io_c3792963.q)(next,(function(error){return next(null,error)}),name)}function takeEvery(patternOrChannel,worker){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];var action,yTake={done:!1,value:(0,io_c3792963.K)(patternOrChannel)},yFork=function yFork(ac){return{done:!1,value:io_c3792963.L.apply(void 0,[worker].concat(args,[ac]))}},setAction=function setAction(ac){return action=ac};return fsmIterator({q1:function q1(){return{nextState:"q2",effect:yTake,stateUpdater:setAction}},q2:function q2(){return{nextState:"q1",effect:yFork(action)}}},"q1","takeEvery("+safeName(patternOrChannel)+", "+worker.name+")")}function takeEvery$1(patternOrChannel,worker){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key];return io_c3792963.L.apply(void 0,[takeEvery,patternOrChannel,worker].concat(args))}},"./node_modules/redux/es/redux.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{md:()=>applyMiddleware,UY:()=>combineReducers,qC:()=>compose,MT:()=>createStore});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function formatProdErrorMessage(code){return"Minified Redux error #"+code+"; visit https://redux.js.org/Errors?code="+code+" for the full message or use the non-minified dev environment for full errors. "}var $$observable="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(obj){if("object"!=typeof obj||null===obj)return!1;for(var proto=obj;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(obj)===proto}function createStore(reducer,preloadedState,enhancer){var _ref2;if("function"==typeof preloadedState&&"function"==typeof enhancer||"function"==typeof enhancer&&"function"==typeof arguments[3])throw new Error(formatProdErrorMessage(0));if("function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0),void 0!==enhancer){if("function"!=typeof enhancer)throw new Error(formatProdErrorMessage(1));return enhancer(createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error(formatProdErrorMessage(2));var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){if(isDispatching)throw new Error(formatProdErrorMessage(3));return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error(formatProdErrorMessage(4));if(isDispatching)throw new Error(formatProdErrorMessage(5));var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function unsubscribe(){if(isSubscribed){if(isDispatching)throw new Error(formatProdErrorMessage(6));isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1),currentListeners=null}}}function dispatch(action){if(!isPlainObject(action))throw new Error(formatProdErrorMessage(7));if(void 0===action.type)throw new Error(formatProdErrorMessage(8));if(isDispatching)throw new Error(formatProdErrorMessage(9));try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){(0,listeners[i])()}return action}return dispatch({type:ActionTypes.INIT}),(_ref2={dispatch,subscribe,getState,replaceReducer:function replaceReducer(nextReducer){if("function"!=typeof nextReducer)throw new Error(formatProdErrorMessage(10));currentReducer=nextReducer,dispatch({type:ActionTypes.REPLACE})}})[$$observable]=function observable(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function subscribe(observer){if("object"!=typeof observer||null===observer)throw new Error(formatProdErrorMessage(11));function observeState(){observer.next&&observer.next(getState())}return observeState(),{unsubscribe:outerSubscribe(observeState)}}})[$$observable]=function(){return this},_ref},_ref2}function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];0,"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var shapeAssertionError,finalReducerKeys=Object.keys(finalReducers);try{!function assertReducerShape(reducers){Object.keys(reducers).forEach((function(key){var reducer=reducers[key];if(void 0===reducer(void 0,{type:ActionTypes.INIT}))throw new Error(formatProdErrorMessage(12));if(void 0===reducer(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error(formatProdErrorMessage(13))}))}(finalReducers)}catch(e){shapeAssertionError=e}return function combination(state,action){if(void 0===state&&(state={}),shapeAssertionError)throw shapeAssertionError;for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if(void 0===nextStateForKey){action&&action.type;throw new Error(formatProdErrorMessage(14))}nextState[_key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return(hasChanged=hasChanged||finalReducerKeys.length!==Object.keys(state).length)?nextState:state}}function compose(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return 0===funcs.length?function(arg){return arg}:1===funcs.length?funcs[0]:funcs.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}function applyMiddleware(){for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(){var store=createStore.apply(void 0,arguments),_dispatch=function dispatch(){throw new Error(formatProdErrorMessage(15))},middlewareAPI={getState:store.getState,dispatch:function dispatch(){return _dispatch.apply(void 0,arguments)}},chain=middlewares.map((function(middleware){return middleware(middlewareAPI)}));return _dispatch=compose.apply(void 0,chain)(store.dispatch),_objectSpread2(_objectSpread2({},store),{},{dispatch:_dispatch})}}}},"./node_modules/@recogito/annotorious-openseadragon/dist/annotorious.min.css":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_css_loader_dist_cjs_js_ruleSet_1_rules_12_use_1_annotorious_min_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[12].use[1]!./node_modules/@recogito/annotorious-openseadragon/dist/annotorious.min.css"),options={};options.styleTagTransform=_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default();_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_ruleSet_1_rules_12_use_1_annotorious_min_css__WEBPACK_IMPORTED_MODULE_6__.Z,options),_css_loader_dist_cjs_js_ruleSet_1_rules_12_use_1_annotorious_min_css__WEBPACK_IMPORTED_MODULE_6__.Z&&_css_loader_dist_cjs_js_ruleSet_1_rules_12_use_1_annotorious_min_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals&&_css_loader_dist_cjs_js_ruleSet_1_rules_12_use_1_annotorious_min_css__WEBPACK_IMPORTED_MODULE_6__.Z.locals},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"./node_modules/style-to-js/cjs/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var style_to_object_1=__importDefault(__webpack_require__("./node_modules/style-to-object/index.js")),utilities_1=__webpack_require__("./node_modules/style-to-js/cjs/utilities.js");exports.default=function StyleToJS(style,options){var output={};return style&&"string"==typeof style?((0,style_to_object_1.default)(style,(function(property,value){property&&value&&(output[(0,utilities_1.camelCase)(property,options)]=value)})),output):output}},"./node_modules/style-to-js/cjs/utilities.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,capitalize=function(match,character){return character.toUpperCase()},trimHyphen=function(match,prefix){return"".concat(prefix,"-")};exports.camelCase=function(property,options){return void 0===options&&(options={}),function(property){return!property||NO_HYPHEN_REGEX.test(property)||CUSTOM_PROPERTY_REGEX.test(property)}(property)?property:(property=property.toLowerCase(),(property=options.reactCompat?property.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):property.replace(VENDOR_PREFIX_REGEX,trimHyphen)).replace(HYPHEN_REGEX,capitalize))}},"./node_modules/style-to-object/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var parse=__webpack_require__("./node_modules/inline-style-parser/index.js");function StyleToObject(style,iterator){var declaration,output=null;if(!style||"string"!=typeof style)return output;for(var property,value,declarations=parse(style),hasIterator="function"==typeof iterator,i=0,len=declarations.length;i<len;i++)property=(declaration=declarations[i]).property,value=declaration.value,hasIterator?iterator(property,value,declaration):value&&(output||(output={}),output[property]=value);return output}module.exports=StyleToObject,module.exports.default=StyleToObject},"./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var e=__webpack_require__("./node_modules/react/index.js");var k="function"==typeof Object.is?Object.is:function h(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function t(a,b){return b()}:function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];return n((function(){c.value=d,c.getSnapshot=b,r(c)&&g({inst:c})}),[a,d,b]),m((function(){return r(c)&&g({inst:c}),a((function(){r(c)&&g({inst:c})}))}),[a]),p(d),d};exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u},"./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var h=__webpack_require__("./node_modules/react/index.js"),n=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js");var q="function"==typeof Object.is?Object.is:function p(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;exports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v((function(){function a(a){if(!c){if(c=!0,d=a,a=l(a),void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}if(b=k,q(d,a))return b;var e=l(a);return void 0!==g&&g(b,e)?b:(d=a,k=e)}var d,k,c=!1,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]}),[b,e,l,g]);var d=r(a,c[0],c[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),w(d),d}},"./node_modules/use-sync-external-store/shim/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js")},"./node_modules/use-sync-external-store/shim/with-selector.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js")}}]);